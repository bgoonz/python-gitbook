<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>practice</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="practice">Practice</h1>
    <p>
      {% embed url=“https://replit.com/<span
        class="citation"
        data-cites="bgoonz/notes"
        >@bgoonz/notes</span
      >#demo.py” %}
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">def</span> djb2(key):</a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">  DJB2 hash, 32-bit</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">  &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="co"># Cast the key to a string and get bytes</span></a>
<a class="sourceLine" id="cb1-6" title="6">  str_key <span class="op">=</span> <span class="bu">str</span>(key).encode()</a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="co"># Start from an arbitrary large prime</span></a>
<a class="sourceLine" id="cb1-8" title="8">  hash_value <span class="op">=</span> <span class="dv">5381</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="co"># Bit-shift and sum value for each character</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="cf">for</span> b <span class="kw">in</span> str_key:</a>
<a class="sourceLine" id="cb1-11" title="11">      hash_value <span class="op">=</span> ((hash_value <span class="op">&lt;&lt;</span> <span class="dv">5</span>) <span class="op">+</span> hash_value) <span class="op">+</span> b</a>
<a class="sourceLine" id="cb1-12" title="12">      hash_value <span class="op">&amp;=</span> <span class="bn">0xffffffff</span>  <span class="co"># DJB2 is a 32-bit hash, only keep 32 bits</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="cf">return</span> <span class="bu">hash</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="kw">def</span> fnv1(key):</a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">  FNV-1 hash, 64-bit</span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co">  &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="co"># Cast the key to a string and get bytes</span></a>
<a class="sourceLine" id="cb1-21" title="21">  str_key <span class="op">=</span> <span class="bu">str</span>(key).encode()</a>
<a class="sourceLine" id="cb1-22" title="22">  <span class="bu">hash</span> <span class="op">=</span> <span class="bn">0x00000100000001B3</span>  <span class="co"># FNV Prime</span></a>
<a class="sourceLine" id="cb1-23" title="23">  <span class="cf">for</span> b <span class="kw">in</span> str_key:</a>
<a class="sourceLine" id="cb1-24" title="24">      <span class="bu">hash</span> <span class="op">*=</span> <span class="bn">0xcbf29ce484222325</span>  <span class="co"># FNV Offset Basis</span></a>
<a class="sourceLine" id="cb1-25" title="25">      <span class="bu">hash</span> <span class="op">^=</span> b</a>
<a class="sourceLine" id="cb1-26" title="26">      <span class="bu">hash</span> <span class="op">&amp;=</span> <span class="bn">0xffffffffffffffff</span>  <span class="co"># 64-bit hash</span></a>
<a class="sourceLine" id="cb1-27" title="27">  <span class="cf">return</span> <span class="bu">hash</span></a>
<a class="sourceLine" id="cb1-28" title="28"></a>
<a class="sourceLine" id="cb1-29" title="29"></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">&quot;&quot;&quot;# Load Factor</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="co">- if load factor is greater than 70% then double capacity of storage</span></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="co">- if load factor is less than 20% half capacity  storage</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-34" title="34"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="co">1. Write the delete method with the assumption that linked list chaining was used for collision resolution.</span></a>
<a class="sourceLine" id="cb1-36" title="36"><span class="co">2. Write the get method with the assumption that linked list chaining was used for collision resolution.</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-38" title="38"></a>
<a class="sourceLine" id="cb1-39" title="39"></a>
<a class="sourceLine" id="cb1-40" title="40"><span class="kw">class</span> HashTableEntry:</a>
<a class="sourceLine" id="cb1-41" title="41">  <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-42" title="42"><span class="co">  Linked List hash table key/value pair</span></a>
<a class="sourceLine" id="cb1-43" title="43"><span class="co">  &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-44" title="44"></a>
<a class="sourceLine" id="cb1-45" title="45">  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, key, value):</a>
<a class="sourceLine" id="cb1-46" title="46">      <span class="va">self</span>.key <span class="op">=</span> key</a>
<a class="sourceLine" id="cb1-47" title="47">      <span class="va">self</span>.value <span class="op">=</span> value</a>
<a class="sourceLine" id="cb1-48" title="48">      <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-49" title="49"><span class="co"># Hash table can&#39;t have fewer than this many slots</span></a>
<a class="sourceLine" id="cb1-50" title="50"><span class="co"># MIN_CAPACITY = 8</span></a>
<a class="sourceLine" id="cb1-51" title="51"></a>
<a class="sourceLine" id="cb1-52" title="52"></a>
<a class="sourceLine" id="cb1-53" title="53"><span class="kw">class</span> HashTable:</a>
<a class="sourceLine" id="cb1-54" title="54">  <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-55" title="55"><span class="co">  A hash table that with `capacity` buckets</span></a>
<a class="sourceLine" id="cb1-56" title="56"><span class="co">  that accepts string keys</span></a>
<a class="sourceLine" id="cb1-57" title="57"><span class="co">  Implement this.</span></a>
<a class="sourceLine" id="cb1-58" title="58"><span class="co">  &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-59" title="59"></a>
<a class="sourceLine" id="cb1-60" title="60">  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, capacity):</a>
<a class="sourceLine" id="cb1-61" title="61">    <span class="va">self</span>.capacity <span class="op">=</span> capacity  <span class="co"># Number of buckets in the hash table</span></a>
<a class="sourceLine" id="cb1-62" title="62">    <span class="va">self</span>.storage <span class="op">=</span> [<span class="va">None</span>] <span class="op">*</span> capacity</a>
<a class="sourceLine" id="cb1-63" title="63">    <span class="va">self</span>.item_count <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-64" title="64">    <span class="va">self</span>.MIN_CAPACITY <span class="op">=</span> <span class="dv">8</span></a>
<a class="sourceLine" id="cb1-65" title="65"></a>
<a class="sourceLine" id="cb1-66" title="66">  <span class="kw">def</span> get_num_slots(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-67" title="67">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-68" title="68"><span class="co">    Return the length of the list you&#39;re using to hold the hash</span></a>
<a class="sourceLine" id="cb1-69" title="69"><span class="co">    table data. (Not the number of items stored in the hash table,</span></a>
<a class="sourceLine" id="cb1-70" title="70"><span class="co">    but the number of slots in the main list.)</span></a>
<a class="sourceLine" id="cb1-71" title="71"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-72" title="72">    <span class="cf">return</span> <span class="bu">len</span>(<span class="va">self</span>.storage)</a>
<a class="sourceLine" id="cb1-73" title="73"></a>
<a class="sourceLine" id="cb1-74" title="74">  <span class="kw">def</span> get_load_factor(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-75" title="75">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-76" title="76"><span class="co">    Return the load factor for this hash table.</span></a>
<a class="sourceLine" id="cb1-77" title="77"><span class="co">    Implement this.</span></a>
<a class="sourceLine" id="cb1-78" title="78"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-79" title="79">    <span class="cf">return</span> <span class="va">self</span>.item_count <span class="op">/</span> <span class="va">self</span>.capacity</a>
<a class="sourceLine" id="cb1-80" title="80"></a>
<a class="sourceLine" id="cb1-81" title="81">  <span class="kw">def</span> djb2(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb1-82" title="82">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-83" title="83"><span class="co">    DJB2 hash, 32-bit</span></a>
<a class="sourceLine" id="cb1-84" title="84"><span class="co">    Implement this, and/or FNV-1.</span></a>
<a class="sourceLine" id="cb1-85" title="85"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-86" title="86">    <span class="co"># Cast the key to a string and get bytes</span></a>
<a class="sourceLine" id="cb1-87" title="87">    str_key <span class="op">=</span> <span class="bu">str</span>(key).encode()</a>
<a class="sourceLine" id="cb1-88" title="88">    <span class="co"># Start from an arbitrary large prime</span></a>
<a class="sourceLine" id="cb1-89" title="89">    hash_value <span class="op">=</span> <span class="dv">5381</span></a>
<a class="sourceLine" id="cb1-90" title="90">    <span class="co"># Bit-shift and sum value for each character</span></a>
<a class="sourceLine" id="cb1-91" title="91">    <span class="cf">for</span> b <span class="kw">in</span> str_key:</a>
<a class="sourceLine" id="cb1-92" title="92">        hash_value <span class="op">=</span> ((hash_value <span class="op">&lt;&lt;</span> <span class="dv">5</span>) <span class="op">+</span> hash_value) <span class="op">+</span> b</a>
<a class="sourceLine" id="cb1-93" title="93">        hash_value <span class="op">&amp;=</span> <span class="bn">0xffffffff</span>  <span class="co"># DJB2 is a 32-bit hash, only keep 32 bits</span></a>
<a class="sourceLine" id="cb1-94" title="94">    <span class="cf">return</span> hash_value</a>
<a class="sourceLine" id="cb1-95" title="95"></a>
<a class="sourceLine" id="cb1-96" title="96">  <span class="kw">def</span> hash_index(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb1-97" title="97">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-98" title="98"><span class="co">    Take an arbitrary key and return a valid integer index</span></a>
<a class="sourceLine" id="cb1-99" title="99"><span class="co">    between within the storage capacity of the hash table.</span></a>
<a class="sourceLine" id="cb1-100" title="100"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-101" title="101">    <span class="cf">return</span> <span class="va">self</span>.djb2(key) <span class="op">%</span> <span class="va">self</span>.capacity</a>
<a class="sourceLine" id="cb1-102" title="102"></a>
<a class="sourceLine" id="cb1-103" title="103">  <span class="kw">def</span> put(<span class="va">self</span>, key, value):</a>
<a class="sourceLine" id="cb1-104" title="104">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-105" title="105"><span class="co">    Store the value with the given key.</span></a>
<a class="sourceLine" id="cb1-106" title="106"><span class="co">    Hash collisions should be handled with Linked List Chaining.</span></a>
<a class="sourceLine" id="cb1-107" title="107"><span class="co">    Implement this.</span></a>
<a class="sourceLine" id="cb1-108" title="108"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-109" title="109">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a>
<a class="sourceLine" id="cb1-110" title="110">    current_entry <span class="op">=</span> <span class="va">self</span>.storage[index]</a>
<a class="sourceLine" id="cb1-111" title="111">    <span class="cf">while</span> current_entry <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> current_entry.key <span class="op">!=</span> key:</a>
<a class="sourceLine" id="cb1-112" title="112">        current_entry <span class="op">=</span> current_entry.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-113" title="113">    <span class="cf">if</span> current_entry <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-114" title="114">        current_entry.value <span class="op">=</span> value</a>
<a class="sourceLine" id="cb1-115" title="115">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-116" title="116">        new_entry <span class="op">=</span> HashTableEntry(key, value)</a>
<a class="sourceLine" id="cb1-117" title="117">        new_entry.<span class="bu">next</span> <span class="op">=</span> <span class="va">self</span>.storage[index]</a>
<a class="sourceLine" id="cb1-118" title="118">        <span class="va">self</span>.storage[index] <span class="op">=</span> new_entry</a>
<a class="sourceLine" id="cb1-119" title="119">    <span class="co"># increment the item count</span></a>
<a class="sourceLine" id="cb1-120" title="120">    <span class="va">self</span>.item_count <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-121" title="121">    <span class="co"># resize based on load factor reaching higher than 70% (using a doubling strategy)</span></a>
<a class="sourceLine" id="cb1-122" title="122">    <span class="cf">if</span> <span class="va">self</span>.get_load_factor() <span class="op">&gt;</span> <span class="fl">0.7</span>:</a>
<a class="sourceLine" id="cb1-123" title="123">      <span class="va">self</span>.resize(<span class="va">self</span>.capacity <span class="op">*</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-124" title="124"></a>
<a class="sourceLine" id="cb1-125" title="125">  <span class="kw">def</span> delete(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb1-126" title="126">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-127" title="127"><span class="co">    Remove the value stored with the given key.</span></a>
<a class="sourceLine" id="cb1-128" title="128"><span class="co">    Print a warning if the key is not found.</span></a>
<a class="sourceLine" id="cb1-129" title="129"><span class="co">    Implement this.</span></a>
<a class="sourceLine" id="cb1-130" title="130"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-131" title="131">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a>
<a class="sourceLine" id="cb1-132" title="132">    current_entry <span class="op">=</span> <span class="va">self</span>.storage[index]</a>
<a class="sourceLine" id="cb1-133" title="133">    last_entry <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-134" title="134">    <span class="cf">while</span> current_entry <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> current_entry.key <span class="op">!=</span> key:</a>
<a class="sourceLine" id="cb1-135" title="135">        last_entry <span class="op">=</span> current_entry</a>
<a class="sourceLine" id="cb1-136" title="136">        current_entry <span class="op">=</span> last_entry.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-137" title="137">    <span class="cf">if</span> current_entry <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-138" title="138">        <span class="bu">print</span>(<span class="st">&quot;ERROR: Unable to remove the entry with a key of&quot;</span>, key)</a>
<a class="sourceLine" id="cb1-139" title="139">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-140" title="140">        <span class="cf">if</span> last_entry <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-141" title="141">            <span class="va">self</span>.storage[index] <span class="op">=</span> current_entry.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-142" title="142">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-143" title="143">            last_entry.<span class="bu">next</span> <span class="op">=</span> current_entry.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-144" title="144">        <span class="co"># decrement the item count</span></a>
<a class="sourceLine" id="cb1-145" title="145">        <span class="va">self</span>.item_count <span class="op">-=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-146" title="146">    <span class="co"># </span><span class="al">TODO</span><span class="co">:  resizing?</span></a>
<a class="sourceLine" id="cb1-147" title="147">    <span class="cf">if</span> <span class="va">self</span>.get_load_factor() <span class="op">&lt;</span> <span class="fl">0.2</span>:</a>
<a class="sourceLine" id="cb1-148" title="148">      <span class="cf">if</span> <span class="va">self</span>.capacity <span class="op">&gt;</span> <span class="va">self</span>.MIN_CAPACITY:</a>
<a class="sourceLine" id="cb1-149" title="149">        new_capacity <span class="op">=</span> <span class="va">self</span>.capacity <span class="op">//</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb1-150" title="150">        <span class="cf">if</span> new_capacity <span class="op">&lt;</span> <span class="va">self</span>.MIN_CAPACITY:</a>
<a class="sourceLine" id="cb1-151" title="151">          new_capacity <span class="op">=</span> <span class="va">self</span>.MIN_CAPACITY</a>
<a class="sourceLine" id="cb1-152" title="152">        <span class="va">self</span>.resize(new_capacity)</a>
<a class="sourceLine" id="cb1-153" title="153"></a>
<a class="sourceLine" id="cb1-154" title="154">  <span class="kw">def</span> get(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb1-155" title="155">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-156" title="156"><span class="co">    Retrieve the value stored with the given key.</span></a>
<a class="sourceLine" id="cb1-157" title="157"><span class="co">    Returns None if the key is not found.</span></a>
<a class="sourceLine" id="cb1-158" title="158"><span class="co">    Implement this.</span></a>
<a class="sourceLine" id="cb1-159" title="159"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-160" title="160">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a>
<a class="sourceLine" id="cb1-161" title="161">    current_entry <span class="op">=</span> <span class="va">self</span>.storage[index]</a>
<a class="sourceLine" id="cb1-162" title="162">    <span class="co"># while the current entry exists</span></a>
<a class="sourceLine" id="cb1-163" title="163">    <span class="cf">while</span> current_entry <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-164" title="164">        <span class="co"># check if the current entry key is the same as the passed in key</span></a>
<a class="sourceLine" id="cb1-165" title="165">        <span class="cf">if</span> current_entry.key <span class="op">==</span> key:</a>
<a class="sourceLine" id="cb1-166" title="166">            <span class="co"># return the current entry value</span></a>
<a class="sourceLine" id="cb1-167" title="167">            <span class="cf">return</span> current_entry.value</a>
<a class="sourceLine" id="cb1-168" title="168">        <span class="co"># traverse to the next entry</span></a>
<a class="sourceLine" id="cb1-169" title="169">        current_entry <span class="op">=</span> current_entry.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-170" title="170">    <span class="cf">return</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-171" title="171"></a>
<a class="sourceLine" id="cb1-172" title="172">  <span class="kw">def</span> resize(<span class="va">self</span>, new_capacity):  <span class="co"># O(n * k)</span></a>
<a class="sourceLine" id="cb1-173" title="173">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-174" title="174"><span class="co">    Changes the capacity of the hash table and rehashes all of the key / value pairs</span></a>
<a class="sourceLine" id="cb1-175" title="175"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-176" title="176">    <span class="co"># hold a ref to the old storage</span></a>
<a class="sourceLine" id="cb1-177" title="177">    old_storage <span class="op">=</span> <span class="va">self</span>.storage</a>
<a class="sourceLine" id="cb1-178" title="178">    <span class="co"># set the new capacity</span></a>
<a class="sourceLine" id="cb1-179" title="179">    <span class="va">self</span>.capacity <span class="op">=</span> new_capacity</a>
<a class="sourceLine" id="cb1-180" title="180">    <span class="co"># create the new storage</span></a>
<a class="sourceLine" id="cb1-181" title="181">    <span class="va">self</span>.storage <span class="op">=</span> [<span class="va">None</span>] <span class="op">*</span> <span class="va">self</span>.capacity</a>
<a class="sourceLine" id="cb1-182" title="182">    <span class="co"># create a placeholder for the current entrys reference</span></a>
<a class="sourceLine" id="cb1-183" title="183">    current <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-184" title="184">    <span class="co"># keep a copy of the original item count</span></a>
<a class="sourceLine" id="cb1-185" title="185">    old_count <span class="op">=</span> <span class="va">self</span>.item_count</a>
<a class="sourceLine" id="cb1-186" title="186">    <span class="co"># iterate over each bucket in the old storage</span></a>
<a class="sourceLine" id="cb1-187" title="187">    <span class="cf">for</span> bucket_item <span class="kw">in</span> old_storage:</a>
<a class="sourceLine" id="cb1-188" title="188">      <span class="co"># get the current entry</span></a>
<a class="sourceLine" id="cb1-189" title="189">      current <span class="op">=</span> bucket_item</a>
<a class="sourceLine" id="cb1-190" title="190">      <span class="co"># while the current entry exists</span></a>
<a class="sourceLine" id="cb1-191" title="191">      <span class="cf">while</span> current:</a>
<a class="sourceLine" id="cb1-192" title="192">        <span class="co"># put the current entrys key value pair in to the new storage</span></a>
<a class="sourceLine" id="cb1-193" title="193">        <span class="va">self</span>.put(current.key, current.value)</a>
<a class="sourceLine" id="cb1-194" title="194">        <span class="co"># traverse to the next entry</span></a>
<a class="sourceLine" id="cb1-195" title="195">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-196" title="196">    <span class="co"># restore the item count</span></a>
<a class="sourceLine" id="cb1-197" title="197">    <span class="va">self</span>.item_count <span class="op">=</span> old_count</a>
<a class="sourceLine" id="cb1-198" title="198"></a>
<a class="sourceLine" id="cb1-199" title="199"></a>
<a class="sourceLine" id="cb1-200" title="200"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-201" title="201">    ht <span class="op">=</span> HashTable(<span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-202" title="202">    ht.put(<span class="st">&quot;line_1&quot;</span>, <span class="st">&quot;&#39;Twas brillig, and the slithy toves&quot;</span>)</a>
<a class="sourceLine" id="cb1-203" title="203">    ht.put(<span class="st">&quot;line_2&quot;</span>, <span class="st">&quot;Did gyre and gimble in the wabe:&quot;</span>)</a>
<a class="sourceLine" id="cb1-204" title="204">    ht.put(<span class="st">&quot;line_3&quot;</span>, <span class="st">&quot;All mimsy were the borogoves,&quot;</span>)</a>
<a class="sourceLine" id="cb1-205" title="205">    ht.put(<span class="st">&quot;line_4&quot;</span>, <span class="st">&quot;And the mome raths outgrabe.&quot;</span>)</a>
<a class="sourceLine" id="cb1-206" title="206">    ht.put(<span class="st">&quot;line_5&quot;</span>, <span class="st">&#39;&quot;Beware the Jabberwock, my son!&#39;</span>)</a>
<a class="sourceLine" id="cb1-207" title="207">    ht.put(<span class="st">&quot;line_6&quot;</span>, <span class="st">&quot;The jaws that bite, the claws that catch!&quot;</span>)</a>
<a class="sourceLine" id="cb1-208" title="208">    ht.put(<span class="st">&quot;line_7&quot;</span>, <span class="st">&quot;Beware the Jubjub bird, and shun&quot;</span>)</a>
<a class="sourceLine" id="cb1-209" title="209">    ht.put(<span class="st">&quot;line_8&quot;</span>, <span class="st">&#39;The frumious Bandersnatch!&quot;&#39;</span>)</a>
<a class="sourceLine" id="cb1-210" title="210">    ht.put(<span class="st">&quot;line_9&quot;</span>, <span class="st">&quot;He took his vorpal sword in hand;&quot;</span>)</a>
<a class="sourceLine" id="cb1-211" title="211">    ht.put(<span class="st">&quot;line_10&quot;</span>, <span class="st">&quot;Long time the manxome foe he sought--&quot;</span>)</a>
<a class="sourceLine" id="cb1-212" title="212">    ht.put(<span class="st">&quot;line_11&quot;</span>, <span class="st">&quot;So rested he by the Tumtum tree&quot;</span>)</a>
<a class="sourceLine" id="cb1-213" title="213">    ht.put(<span class="st">&quot;line_12&quot;</span>, <span class="st">&quot;And stood awhile in thought.&quot;</span>)</a>
<a class="sourceLine" id="cb1-214" title="214">    <span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb1-215" title="215">    <span class="co"># Test storing beyond capacity</span></a>
<a class="sourceLine" id="cb1-216" title="216">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">13</span>):</a>
<a class="sourceLine" id="cb1-217" title="217">        <span class="bu">print</span>(ht.get(<span class="ss">f&quot;line_</span><span class="sc">{i}</span><span class="ss">&quot;</span>))</a>
<a class="sourceLine" id="cb1-218" title="218">    <span class="co"># Test resizing</span></a>
<a class="sourceLine" id="cb1-219" title="219">    old_capacity <span class="op">=</span> ht.get_num_slots()</a>
<a class="sourceLine" id="cb1-220" title="220">    ht.resize(ht.capacity <span class="op">*</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-221" title="221">    new_capacity <span class="op">=</span> ht.get_num_slots()</a>
<a class="sourceLine" id="cb1-222" title="222">    <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="ch">\n</span><span class="ss">Resized from </span><span class="sc">{</span>old_capacity<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span>new_capacity<span class="sc">}</span><span class="ss">.</span><span class="ch">\n</span><span class="ss">&quot;</span>)</a>
<a class="sourceLine" id="cb1-223" title="223">    <span class="co"># Test if data intact after resizing</span></a>
<a class="sourceLine" id="cb1-224" title="224">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">13</span>):</a>
<a class="sourceLine" id="cb1-225" title="225">        <span class="bu">print</span>(ht.get(<span class="ss">f&quot;line_</span><span class="sc">{i}</span><span class="ss">&quot;</span>))</a>
<a class="sourceLine" id="cb1-226" title="226">    <span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb1-227" title="227"><span class="co">&quot;&quot;&quot;# Demo&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-228" title="228"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-229" title="229"><span class="co">You are given a non-empty list of words.</span></a>
<a class="sourceLine" id="cb1-230" title="230"><span class="co">Write a function that returns the *k* most frequent elements.</span></a>
<a class="sourceLine" id="cb1-231" title="231"><span class="co">The list that you return should be sorted by frequency from highest to lowest.</span></a>
<a class="sourceLine" id="cb1-232" title="232"><span class="co">If two words have the same frequency, then the word with the lower alphabetical</span></a>
<a class="sourceLine" id="cb1-233" title="233"><span class="co">order should come first.</span></a>
<a class="sourceLine" id="cb1-234" title="234"><span class="co">Example 1:</span></a>
<a class="sourceLine" id="cb1-235" title="235"><span class="co">```plaintext</span></a>
<a class="sourceLine" id="cb1-236" title="236"><span class="co">Input:</span></a>
<a class="sourceLine" id="cb1-237" title="237"><span class="co">words = [&quot;lambda&quot;, &quot;school&quot;, &quot;rules&quot;, &quot;lambda&quot;, &quot;school&quot;, &quot;rocks&quot;]</span></a>
<a class="sourceLine" id="cb1-238" title="238"><span class="co">k = 2</span></a>
<a class="sourceLine" id="cb1-239" title="239"><span class="co">Output:</span></a>
<a class="sourceLine" id="cb1-240" title="240"><span class="co">[&quot;lambda&quot;, &quot;school&quot;]</span></a>
<a class="sourceLine" id="cb1-241" title="241"><span class="co">Explanation:</span></a>
<a class="sourceLine" id="cb1-242" title="242"><span class="co">&quot;lambda&quot; and &quot;school&quot; are the two most frequent words.</span></a></code></pre>
    </div>
    <p>Example 2:</p>
    <pre class="plaintext"><code>Input:
words = [&quot;the&quot;, &quot;sky&quot;, &quot;is&quot;, &quot;cloudy&quot;, &quot;the&quot;, &quot;the&quot;, &quot;the&quot;, &quot;cloudy&quot;, &quot;is&quot;, &quot;is&quot;]
k = 4
Output:
[&quot;the&quot;, &quot;is&quot;, &quot;cloudy&quot;, &quot;sky&quot;]
Explanation:
&quot;the&quot;, &quot;is&quot;, &quot;cloudy&quot;, and &quot;sky&quot; are the four most frequent words. The words
are sorted from highest frequency to lowest.</code></pre>
    <p>Notes:</p>
    <ul>
      <li>
        <code>k</code> is always valid: `1 &lt;= k &lt;= number of unique
        elements.
      </li>
      <li>words in the input list only contain lowercase letters.</li>
    </ul>
    <pre><code>[&quot;the&quot;, &quot;sky&quot;, &quot;is&quot;, &quot;cloudy&quot;, &quot;the&quot;, &quot;the&quot;, &quot;the&quot;, &quot;cloudy&quot;, &quot;is&quot;, &quot;is&quot;]
freq = {&quot;the&quot;: 4, &quot;sky&quot;: 1, &quot;is&quot;: 3, &quot;cloudy&quot;: 2} sort this based on the values
res = [&quot;the&quot;, &quot;is&quot;, &quot;cloudy&quot;, &quot;sky&quot;]
res[:k]
# get the freq of each word
# sort the dictionary besed on keys (maybe use a lambda)
# encapsulate this sorted dictionary inside another function to sort it alpha?
# then slice the results to constrain to k
&quot;&quot;&quot;


def top_k_frequent(words, k):
  &quot;&quot;&quot;
  Input:
  words -&gt; List[str]
  k -&gt; int
  Output:
  List[str]
  &quot;&quot;&quot;
  frequency = {}
  for word in words:
    if word in frequency:
      frequency[word] += 1
    else:
      frequency[word] = 1
  print(frequency)


# Tests
top_k_frequent([&quot;the&quot;, &quot;sky&quot;, &quot;is&quot;, &quot;cloudy&quot;, &quot;the&quot;,
                &quot;the&quot;, &quot;the&quot;, &quot;cloudy&quot;, &quot;is&quot;, &quot;is&quot;], 4)
# top_k_frequent([&quot;lambda&quot;, &quot;school&quot;, &quot;rules&quot;, &quot;lambda&quot;, &quot;school&quot;, &quot;rocks&quot;], 2)
</code></pre>
    <h3 id="k-most-frequent">K-most-Frequent:</h3>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">def</span> top_k_frequent(words, k):</a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">  Input:</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">  words -&gt; List[str]</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">  k -&gt; int</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">  Output:</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">  List[str]</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">  &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb4-9" title="9">  frequency <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="cf">for</span> word <span class="kw">in</span> words:</a>
<a class="sourceLine" id="cb4-12" title="12">    <span class="cf">if</span> word <span class="kw">in</span> frequency:</a>
<a class="sourceLine" id="cb4-13" title="13">      frequency[word] <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb4-15" title="15">      frequency[word] <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb4-16" title="16"></a>
<a class="sourceLine" id="cb4-17" title="17">  sorted_data <span class="op">=</span> <span class="bu">sorted</span>(frequency, key<span class="op">=</span><span class="kw">lambda</span> word: (<span class="op">-</span>frequency[word], word))</a>
<a class="sourceLine" id="cb4-18" title="18"></a>
<a class="sourceLine" id="cb4-19" title="19">  <span class="cf">return</span> sorted_data[:k]</a>
<a class="sourceLine" id="cb4-20" title="20"></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="kw">def</span> helper(word):</a>
<a class="sourceLine" id="cb4-22" title="22"></a>
<a class="sourceLine" id="cb4-23" title="23"></a>
<a class="sourceLine" id="cb4-24" title="24">  <span class="cf">return</span> word</a>
<a class="sourceLine" id="cb4-25" title="25"></a>
<a class="sourceLine" id="cb4-26" title="26"><span class="co"># Tests</span></a>
<a class="sourceLine" id="cb4-27" title="27"><span class="bu">print</span>(top_k_frequent([<span class="st">&quot;the&quot;</span>, <span class="st">&quot;sky&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;cloudy&quot;</span>, <span class="st">&quot;the&quot;</span>, <span class="st">&quot;the&quot;</span>, <span class="st">&quot;the&quot;</span>, <span class="st">&quot;cloudy&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;is&quot;</span>], <span class="dv">4</span>))</a>
<a class="sourceLine" id="cb4-28" title="28"><span class="bu">print</span>(top_k_frequent([<span class="st">&quot;lambda&quot;</span>, <span class="st">&quot;school&quot;</span>, <span class="st">&quot;rules&quot;</span>, <span class="st">&quot;lambda&quot;</span>, <span class="st">&quot;school&quot;</span>, <span class="st">&quot;rocks&quot;</span>], <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb4-29" title="29"></a>
<a class="sourceLine" id="cb4-30" title="30"></a>
<a class="sourceLine" id="cb4-31" title="31"><span class="co"># # Output</span></a>
<a class="sourceLine" id="cb4-32" title="32"><span class="co">#</span></a>
<a class="sourceLine" id="cb4-33" title="33"><span class="co"># [&#39;the&#39;, &#39;is&#39;, &#39;cloudy&#39;, &#39;sky&#39;]</span></a>
<a class="sourceLine" id="cb4-34" title="34"><span class="co"># [&#39;lambda&#39;, &#39;school&#39;]</span></a></code></pre>
    </div>
  </body>
</html>
