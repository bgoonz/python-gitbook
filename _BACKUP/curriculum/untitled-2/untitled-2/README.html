<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="d2--module-02---hash-tables-i">D2- Module 02 - Hash Tables I</h1>
    <p>
      {% embed
      url=‚Äúhttps://gist.github.com/bgoonz/4089b60131f0679eb0c16c831e623811‚Äù
      caption="" %}
    </p>
    <p>
      {% embed
      url=‚Äúhttps://gist.github.com/bgoonz/d636b750dce1d21914e47f80bda8fb85#file-hash-tables-ii-cs47-ipynb‚Äù
      caption="" %}
    </p>
    <p><img src="../../../.gitbook/assets/image%20%2834%29.png" /></p>
    <p>
      <img
        src="../../../.gitbook/assets/image%20%2826%29%20%282%29%20%282%29%20%282%29%20%282%29%20%282%29%20%282%29%20%282%29%20%283%29.png"
      />
    </p>
    <p><img src="../../../.gitbook/assets/image%20%2828%29%20%281%29.png" /></p>
    <p><img src="../../../.gitbook/assets/image%20%2830%29.png" /></p>
    <h2
      id="objective-01---recall-the-time-and-space-complexity-the-strengths-and-weaknesses-and-the-common-uses-of-a-hash-table"
    >
      Objective 01 - Recall the time and space complexity, the strengths and
      weaknesses, and the common uses of a hash table
    </h2>
    <h3 id="overview"><strong>Overview</strong></h3>
    <p>
      Hash tables are also called hash maps, maps, unordered maps, or
      dictionaries. A hash table is a structure that maps keys to values. This
      makes them extremely efficient for lookups because if you have the key,
      retrieving the associated value is a constant-time operation.
    </p>
    <h3 id="follow-along"><strong>Follow Along</strong></h3>
    <h4 id="time-and-space-complexity">
      <strong>Time and Space Complexity</strong>
    </h4>
    <h4 id="lookup"><strong>Lookup</strong></h4>
    <p>
      Hash tables have fast lookups (<code>O(1)</code>) on
      <em>average.</em> However, in the worst case, they have slow
      (<code>O(n)</code>) lookups. The slow lookups happen when there is a hash
      collision (two different keys hash to the same index).
    </p>
    <h4 id="insert"><strong>Insert</strong></h4>
    <p>
      Hash tables have fast insertions (<code>O(1)</code>) on <em>average</em>.
      However, in the worst case, they have slow (<code>O(n)</code>) insertions.
      Just like with the lookups, the worst case occurs due to hash collisions.
    </p>
    <h4 id="delete"><strong>Delete</strong></h4>
    <p>
      Hash tables have fast deletes (<code>O(1)</code>) on <em>average</em>.
      However, in the worst case, they have slow (<code>O(n)</code>) deletions.
      Just like with lookups and insertions, the worst case occurs due to hash
      collisions.
    </p>
    <h4 id="space"><strong>Space</strong></h4>
    <p>
      The space complexity of a hash table is linear (<code>O(n)</code>). Each
      key-value pair in the hash table will take up space in memory.
    </p>
    <figure>
      <img
        src="../../../.gitbook/assets/image%20%2829%29.png"
        alt="continued‚Ä¶."
      />
      <figcaption>continued‚Ä¶.</figcaption>
    </figure>
    <p><img src="../../../.gitbook/assets/image%20%2833%29.png" /></p>
    <h4 id="strengths"><strong>Strengths</strong></h4>
    <p>
      The main reason why hash tables are great is that they have constant-time
      (<code>O(1)</code>) lookup operations in the average case. That makes them
      great to use in any situation where you will be conducting many lookup
      operations. The second reason they are great is that they allow you to use
      any hashable object as a key. This means they can be used in many
      different scenarios where you want to map one object (the key) to another
      object (the value).
    </p>
    <h4 id="weaknesses"><strong>Weaknesses</strong></h4>
    <p>
      One weakness of the hash table is that the mapping goes only one way. So,
      if you know the key, it‚Äôs incredibly efficient to retrieve the mapped
      value to that key. However, if you know the value and want to find the key
      that is mapped to that value, it is inefficient. Another weakness is that
      if your hash function produces lots of collisions, the hash table‚Äôs time
      complexity gets worse and worse. This is because the underlying linked
      lists are inefficient for lookups.
    </p>
    <h4 id="what-about-hash-collisions">
      <strong>What About Hash Collisions?</strong>
    </h4>
    <p>
      A hash collision is when our hash function returns the same index given
      two different keys. Theoretically, there is no perfect hash function,
      though some are better than others. Thus, any hash table implementation
      has to have a strategy to deal with the scenario when two different keys
      hash to the same index. You can‚Äôt just have the hash table overwrite the
      already existing value.
    </p>
    <p>
      The most common strategy for dealing with hash collisions is not storing
      the values directly at an index of the hash table‚Äôs array. Instead, the
      array index stores a pointer to a linked list. Each node in the linked
      list stores a key, value, and a pointer to the next item in the linked
      list.
    </p>
    <p>
      The above is just one of the ways to deal with hash collisions. Hopefully,
      you can now see why all of our hash table operations become
      <code>O(n)</code> in the worst case. What is the worst case? The worst
      case is when all of the keys collide at the same index in our hash table.
      If we have ten items in our hash table, all ten items are stored in one
      linked list at the same index of our array. That means that our hash table
      has the same efficiency as a linked list in the worst case.
    </p>
    <h3 id="challenge"><strong>Challenge</strong></h3>
    <ol type="1">
      <li>
        In your own words, explain how and why the time complexity of hash table
        operations degrades to <code>O(n)</code> in the worst case.
      </li>
    </ol>
    <p>
      {% embed
      url=‚Äúhttps://gist.github.com/bgoonz/107f827a22d09c9a08b3fd99589325ae#file-hash-tables-ii-cs47-ipynb‚Äù
      caption="" %}
    </p>
    <h3 id="additional-resources"><strong>Additional Resources</strong></h3>
    <ul>
      <li>
        <a href="https://www.geeksforgeeks.org/hashing-data-structure/"
          >https://www.geeksforgeeks.org/hashing-data-structure/ (Links to an
          external site.)</a
        >
      </li>
    </ul>
    <h2 id="objective-02---describe-and-implement-a-hash-function">
      Objective 02 - Describe and implement a hash function
    </h2>
    <h3 id="overview-1"><strong>Overview</strong></h3>
    <p>
      Hashing functions take an input (usually a string) and return an integer
      as the output. Let‚Äôs say we needed to store five colors in our hash table.
      Currently, we have an empty table that looks like this:
    </p>
    <figure>
      <img
        src="https://tk-assets.lambdaschool.com/add0f486-f742-4b70-9885-88c6938237f8_Untitled.png"
        alt="https://tk-assets.lambdaschool.com/add0f486-f742-4b70-9885-88c6938237f8_Untitled.png"
      />
      <figcaption>
        https://tk-assets.lambdaschool.com/add0f486-f742-4b70-9885-88c6938237f8_Untitled.png
      </figcaption>
    </figure>
    <p>
      Now, I need to assign an index given the name of a color. Our hash
      function will take the name of a color and convert it into an index.
    </p>
    <figure>
      <img
        src="https://tk-assets.lambdaschool.com/16439e40-5ec9-4242-b5c5-07584bc665ca_S5-M1-O1-Hash-Table-Animation.gif"
        alt="https://tk-assets.lambdaschool.com/16439e40-5ec9-4242-b5c5-07584bc665ca_S5-M1-O1-Hash-Table-Animation.gif"
      />
      <figcaption>
        https://tk-assets.lambdaschool.com/16439e40-5ec9-4242-b5c5-07584bc665ca_S5-M1-O1-Hash-Table-Animation.gif
      </figcaption>
    </figure>
    <p>
      So, hash functions convert the strings into indexes, and then we store the
      given string into the computed index of an array.
    </p>
    <blockquote>
      <p>Hash Function + Array = Hash Table</p>
    </blockquote>
    <p>
      Now that we know what a hash table is let‚Äôs dive deeper into creating a
      hash function.
    </p>
    <h3 id="follow-along-1"><strong>Follow Along</strong></h3>
    <p>
      To convert a string into an integer, hashing functions operate on the
      individual characters that make up the string.
    </p>
    <p>Let‚Äôs use what we know to create a hashing function in Python.</p>
    <p>
      In Python, we can encode strings into their bytes representation with the
      <code>.encode()</code> method (read more
      <a href="https://docs.python.org/3/howto/unicode.html#converting-to-bytes"
        >here (Links to an external site.)</a
      >). Once encoded, an integer represents each character.
    </p>
    <p>Let‚Äôs do this with the string <code>hello</code></p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1">bytes_representation <span class="op">=</span> <span class="st">&quot;hello&quot;</span>.encode()</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="cf">for</span> byte <span class="kw">in</span> bytes_representation:</a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="bu">print</span>(byte)</a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">### Print Output</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">### 104</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">### 101</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">### 108</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">### 108</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">### 111</span></a></code></pre>
    </div>
    <p>
      Now that we‚Äôve converted our string into a series of integers, we can
      manipulate those integers somehow. For simplicity‚Äôs sake, we can use a
      simple accumulator pattern to get a sum of all the integer values.
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1">bytes_representation <span class="op">=</span> <span class="st">&quot;hello&quot;</span>.encode()</a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="cf">for</span> byte <span class="kw">in</span> bytes_representation:</a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="bu">sum</span> <span class="op">+=</span> byte</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="bu">print</span>(<span class="bu">sum</span>)</a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">### Print Output</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">### 532</span></a></code></pre>
    </div>
    <p>
      Great! We turned a string into a number. Now, let‚Äôs generalize this into a
      function.
    </p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">def</span> my_hashing_func(<span class="bu">str</span>):</a>
<a class="sourceLine" id="cb3-2" title="2">    bytes_representation <span class="op">=</span> <span class="bu">str</span>.encode()</a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="cf">for</span> byte <span class="kw">in</span> bytes_representation:</a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="bu">sum</span> <span class="op">+=</span> byte</a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="cf">return</span> <span class="bu">sum</span></a></code></pre>
    </div>
    <p>
      We aren‚Äôt done yet ü§™. As shown earlier, <code>hello</code> returns
      <code>532</code>. But, what if our hash table only has ten slots? We have
      to make 532 a number less than 10 üò±.
    </p>
    <p>
      Remember the modulo operator <code>%</code>? We can use that in our
      hashing function to ensure that the integer the function returns is within
      a specific range.
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">def</span> my_hashing_func(<span class="bu">str</span>, table_size):</a>
<a class="sourceLine" id="cb4-2" title="2">    bytes_representation <span class="op">=</span> <span class="bu">str</span>.encode()</a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="cf">for</span> byte <span class="kw">in</span> bytes_representation:</a>
<a class="sourceLine" id="cb4-6" title="6">        <span class="bu">sum</span> <span class="op">+=</span> byte</a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="cf">return</span> <span class="bu">sum</span> <span class="op">%</span> table_size</a></code></pre>
    </div>
    <p>
      <span
        class="citation"
        data-cites="bgoonz/cs-unit-1-sprint-4-module-1-hash-function"
        >[https://replit.com/@bgoonz/cs-unit-1-sprint-4-module-1-hash-function\#main.py]</span
      >(https://replit.com/<span
        class="citation"
        data-cites="bgoonz/cs-unit-1-sprint-4-module-1-hash-function#main.py"
        >@bgoonz/cs-unit-1-sprint-4-module-1-hash-function#main.py</span
      >)
    </p>
    <figure>
      <img
        src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/18e22e25-8fb5-4763-b92e-ce3ac0d3e4e4/Untitled.png"
        alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/18e22e25-8fb5-4763-b92e-ce3ac0d3e4e4/Untitled.png"
      />
      <figcaption>
        https://s3-us-west-2.amazonaws.com/secure.notion-static.com/18e22e25-8fb5-4763-b92e-ce3ac0d3e4e4/Untitled.png
      </figcaption>
    </figure>
    <h2
      id="objective-03---implement-a-user-defined-hashtable-class-that-allows-basic-operations"
    >
      Objective 03 - Implement a user-defined HashTable class that allows basic
      operations
    </h2>
    <h3 id="overview-2"><strong>Overview</strong></h3>
    <p>
      We define a hash table as an empty array and hash function as a function
      that takes a value and converts it into an array index where you will
      store that value. Let‚Äôs put the two together. Let‚Äôs implement a
      <code>HashTable</code> class where we can:
    </p>
    <ul>
      <li>Insert values into a hash table</li>
      <li>Retrieve values from a hash table</li>
      <li>Delete values from a hash table</li>
    </ul>
    <p>
      Let‚Äôs start with the insert function. For an insert, I need to insert a
      value with an associated key. Let‚Äôs store the instructors at Lambda and
      where they live. We want to store:
    </p>
    <ul>
      <li><code>("Parth", "California")</code></li>
      <li><code>("Beej", "Oregon")</code></li>
      <li><code>("Dustin", "Utah")</code></li>
      <li><code>("Ryan", "Utah")</code></li>
    </ul>
    <p>Here‚Äôs what our <code>HashTable</code> class looks like right now:</p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">class</span> HashTable:</a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">    A hash table with `capacity` buckets</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">    that accepts string keys</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, capacity):</a>
<a class="sourceLine" id="cb5-8" title="8">        <span class="va">self</span>.capacity <span class="op">=</span> capacity  <span class="co"># Number of buckets in the hash table</span></a>
<a class="sourceLine" id="cb5-9" title="9">        <span class="va">self</span>.storage <span class="op">=</span> [<span class="va">None</span>] <span class="op">*</span> capacity</a>
<a class="sourceLine" id="cb5-10" title="10">        <span class="va">self</span>.item_count <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb5-11" title="11"></a>
<a class="sourceLine" id="cb5-12" title="12">    <span class="kw">def</span> get_num_slots(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb5-13" title="13">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">        Return the length of the list you&#39;re using to hold the hash table data. (Not the number of items stored in the hash table,</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">        but the number of slots in the main list.)</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="co">        One of the tests relies on this.</span></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-18" title="18">        <span class="cf">return</span> <span class="bu">len</span>(<span class="va">self</span>.storage)</a>
<a class="sourceLine" id="cb5-19" title="19"></a>
<a class="sourceLine" id="cb5-20" title="20">    <span class="kw">def</span> djb2(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb5-21" title="21">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-22" title="22"><span class="co">        DJB2 hash, 32-bit</span></a>
<a class="sourceLine" id="cb5-23" title="23"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-24" title="24">        <span class="co"># Cast the key to a string and get bytes</span></a>
<a class="sourceLine" id="cb5-25" title="25">        str_key <span class="op">=</span> <span class="bu">str</span>(key).encode()</a>
<a class="sourceLine" id="cb5-26" title="26"></a>
<a class="sourceLine" id="cb5-27" title="27">        <span class="co"># Start from an arbitrary large prime</span></a>
<a class="sourceLine" id="cb5-28" title="28">        hash_value <span class="op">=</span> <span class="dv">5381</span></a>
<a class="sourceLine" id="cb5-29" title="29"></a>
<a class="sourceLine" id="cb5-30" title="30">        <span class="co"># Bit-shift and sum value for each character</span></a>
<a class="sourceLine" id="cb5-31" title="31">        <span class="cf">for</span> b <span class="kw">in</span> str_key:</a>
<a class="sourceLine" id="cb5-32" title="32">            hash_value <span class="op">=</span> ((hash_value <span class="op">&lt;&lt;</span> <span class="dv">5</span>) <span class="op">+</span> hash_value) <span class="op">+</span> b</a>
<a class="sourceLine" id="cb5-33" title="33">            hash_value <span class="op">&amp;=</span> <span class="bn">0xffffffff</span>  <span class="co"># DJB2 is a 32-bit hash, only keep 32 bits</span></a>
<a class="sourceLine" id="cb5-34" title="34"></a>
<a class="sourceLine" id="cb5-35" title="35">        <span class="cf">return</span> hash_value</a>
<a class="sourceLine" id="cb5-36" title="36"></a>
<a class="sourceLine" id="cb5-37" title="37">    <span class="kw">def</span> hash_index(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb5-38" title="38">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-39" title="39"><span class="co">        Take an arbitrary key and return a valid integer index within the hash table&#39;s storage capacity.</span></a>
<a class="sourceLine" id="cb5-40" title="40"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-41" title="41">        <span class="cf">return</span> <span class="va">self</span>.djb2(key) <span class="op">%</span> <span class="va">self</span>.capacity</a>
<a class="sourceLine" id="cb5-42" title="42"></a>
<a class="sourceLine" id="cb5-43" title="43">    <span class="kw">def</span> put(<span class="va">self</span>, key, value):</a>
<a class="sourceLine" id="cb5-44" title="44">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-45" title="45"><span class="co">        Store the value with the given key.</span></a>
<a class="sourceLine" id="cb5-46" title="46"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-47" title="47"></a>
<a class="sourceLine" id="cb5-48" title="48">    <span class="kw">def</span> delete(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb5-49" title="49">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-50" title="50"><span class="co">        Remove the value stored with the given key.</span></a>
<a class="sourceLine" id="cb5-51" title="51"><span class="co">        Print a warning if the key is not found.</span></a>
<a class="sourceLine" id="cb5-52" title="52"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-53" title="53"></a>
<a class="sourceLine" id="cb5-54" title="54">    <span class="kw">def</span> get(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb5-55" title="55">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb5-56" title="56"><span class="co">        Retrieve the value stored with the given key.</span></a>
<a class="sourceLine" id="cb5-57" title="57"><span class="co">        Returns None if the key is not found.</span></a>
<a class="sourceLine" id="cb5-58" title="58"><span class="co">        &quot;&quot;&quot;</span></a></code></pre>
    </div>
    <p>
      Let‚Äôs break this down a little bit. Our <code>init</code> function takes
      in the length of a hash table and creates an empty array. Our
      <code>hash_index</code> function takes a key and computes and index using
      the famous <code>djb2</code> hash function. Let‚Äôs implement the other
      functions (<code>put</code>, <code>delete</code>, <code>get</code>).
    </p>
    <h3 id="follow-along-2"><strong>Follow Along</strong></h3>
    <h4 id="the-put-method">
      <strong>The <code>put</code> Method</strong>
    </h4>
    <p>
      Let‚Äôs create our <code>put</code> function. Before we code, let‚Äôs break
      down what needs to happen:
    </p>
    <ul>
      <li>
        Given a <code>key</code> and a <code>value</code>, insert the respective
        <code>value</code> into a hash table array using the hashed
        <code>key</code> to determine the storage location index.
      </li>
    </ul>
    <p>Let‚Äôs think about what we need to do:</p>
    <ul>
      <li>Hash the <code>key</code> into an index using the hash function</li>
      <li>Put the <code>value</code> into that index</li>
    </ul>
    <p>
      You might be thinking, ‚ÄúWhat if two keys hash to the same index?‚Äù That‚Äôs a
      great question, and we will worry about that later. It‚Äôs a nifty solution
      üéâ. But for now, let‚Äôs worry about hashing a key and storing a value.
    </p>
    <p>
      First, let‚Äôs call the hash function and store the return value in
      <code>index</code>:
    </p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">def</span> put(<span class="va">self</span>, key, value):</a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">    Store the value with the given key.</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb6-5" title="5">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a></code></pre>
    </div>
    <p>Next, let‚Äôs insert the value at that index:</p>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">def</span> put(<span class="va">self</span>, key, value):</a>
<a class="sourceLine" id="cb7-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">    Store the value with the given key.</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb7-5" title="5">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="va">self</span>.storage[index] <span class="op">=</span> value</a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="cf">return</span></a></code></pre>
    </div>
    <p>
      There we go! Given a key, we hashed it and inserted a value. Again, we
      will worry about colliding indices later üòÄ.
    </p>
    <h4 id="the-delete-method">
      <strong>The <code>delete</code> Method</strong>
    </h4>
    <p>
      Next, let‚Äôs write our <code>delete</code> method. What does this method
      need to do? We can think about it as the inverse of the
      <code>put</code> method that we just defined. The function will receive a
      <code>key</code> as its input, then pass that <code>key</code> through the
      hash function to get the index where the hash table‚Äôs value needs to be
      deleted.
    </p>
    <p>
      Let‚Äôs start by getting the index by passing the <code>key</code> through
      the hashing function:
    </p>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">def</span> delete(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb8-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">    Remove the value stored with the given key.</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb8-5" title="5">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a></code></pre>
    </div>
    <p>
      Next, we need to delete the value from that index in our storage by
      setting it to <code>None</code>. Remember, we aren‚Äôt dealing with
      collisions in this example. If we had to deal with collisions, this would
      be more complex.
    </p>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">def</span> delete(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb9-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">    Remove the value stored with the given key.</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb9-5" title="5">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="va">self</span>.storage[index] <span class="op">=</span> <span class="va">None</span></a></code></pre>
    </div>
    <h4 id="the-get-method">
      <strong>The <code>get</code> Method</strong>
    </h4>
    <p>
      The last method we need to deal with is our <code>get</code> method.
      <code>get</code> is a simple method that retrieves the
      <code>value</code> stored at a specific <code>key</code>. The function
      needs to receive a <code>key</code> as an input, pass that
      <code>key</code> through the hashing function to find the index where the
      value is stored, and then return the <code>value</code> at that index.
    </p>
    <p>Let‚Äôs start by getting the index from the <code>key</code>:</p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">def</span> get(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb10-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">    Retrieve the value stored with the given key.</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">    Returns None if the key is not found.</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb10-6" title="6">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a></code></pre>
    </div>
    <p>
      Next, we need to return the value that is stored at the
      <code>index</code>.
    </p>
    <div class="sourceCode" id="cb11">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">def</span> get(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb11-2" title="2">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">    Retrieve the value stored with the given key.</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">    Returns None if the key is not found.</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb11-6" title="6">    index <span class="op">=</span> <span class="va">self</span>.hash_index(key)</a>
<a class="sourceLine" id="cb11-7" title="7">    <span class="cf">return</span> <span class="va">self</span>.storage[index]</a></code></pre>
    </div>
  </body>
</html>
