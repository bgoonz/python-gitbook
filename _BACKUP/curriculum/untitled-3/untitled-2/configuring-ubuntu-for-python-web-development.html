<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>configuring-ubuntu-for-python-web-development</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="configuring-ubuntu-for-python-web-development">Configuring Ubuntu for Python Web Development</h1>
<p><em>Note:</em> the following instructions assume that you are connected to the Internet and that you have both the <code>main</code> and <code>universe</code> package repositories enabled. All unix shell commands are assumed to be running from your home directory ($HOME). Finally, any command that begins with <code>sudo</code> assums that you have administrative rights on your machine. If you do not — please ask your system administrator about installing the software you need.</p>
<p>What follows are instructions for setting up an Ubuntu 16.04 (Xenial) home environment for use with this book. I use Ubuntu GNU/Linux for both development and testing of the book, so it is the only system about which I can personally answer setup and configuration questions.</p>
<p>In the spirit of software freedom and open collaboration, please contact me if you would like to maintain a similar appendix for your own favorite system. I’d be more than happy to link to it or put it on the Open Book Project site, provided you agree to answer user feedback concerning it.</p>
<p>Thanks<embed src="mailto:jeff%40elkner.net" />Arlington, Virginia</p>
<h3 id="python3">Python3</h3>
<p>Ubuntu 16.04 comes with both Python 2 and Python 3 installed. Typing <code>python</code> at the shell prompt still launches Python 2. Use the command <code>python3</code> for Python 3.</p>
<p>In addition to the <a href="http://en.wikipedia.org/wiki/Debian_package">debian packages</a> in the <a href="http://packages.ubuntu.com/">Ubuntu Package archive</a>, we will be using Python software from the <a href="https://pypi.python.org/pypi">Python Package Index</a> or PyPI. The tool for installing packages from PyPI is called <a href="http://en.wikipedia.org/wiki/Pip_%28package_manager%29">pip</a>. Since we want Python 3 packages installed which will work with the Python 3 already on our Ubuntu system, we will use the Ubuntu <em>python3-pip</em> debian package.</p>
<p>To add this package run following from the unix command prompt:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1">$ sudo apt install python3<span class="op">-</span>pip</a></code></pre></div>
<p>Now would also be a good time to install a few other packages you will want to have on your system:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1">$ sudo apt install python3<span class="op">-</span>tk pep8 bzr</a></code></pre></div>
<p>This will install the <a href="http://en.wikipedia.org/wiki/Tkinter">Tkinter</a> GUI toolkit, the <a href="http://www.python.org/dev/peps/pep-0008">pep8</a> Python style checker, and the <a href="http://en.wikipedia.org/wiki/Bazaar_%28software%29">bzr</a> revision control system which we will use to grab some program examples.</p>
<h3 id="bottle">Bottle</h3>
<p><a href="http://bottlepy.org/">Bottle</a> is a micro <a href="http://en.wikipedia.org/wiki/Web_application_framework">web application framework</a> written in Python. It is used in this book to introduce <a href="http://en.wikipedia.org/wiki/Web_application">web application</a> development.</p>
<p>To install <code>bottle</code> run:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" title="1">$ sudo apt install python3<span class="op">-</span>bottle</a></code></pre></div>
<p>Then try:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" title="1"><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> bottle</a></code></pre></div>
<p>at the python prompt to varify that it is working.</p>
<h3 id="vim">Vim</h3>
<p><a href="http://www.vim.org/">Vim</a> can be used very effectively for Python development, but Ubuntu only comes with the <code>vim-tiny</code> package installed by default, so it doesn’t support color syntax highlighting or auto-indenting.</p>
<p>To use Vim, do the following:</p>
<ol type="1">
<li><p>From the unix command prompt, run:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" title="1">$ sudo apt install vim</a></code></pre></div></li>
<li><p>Create a file in your home directory named <code>.vimrc</code> that contains the following:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1">syntax enable</a>
<a class="sourceLine" id="cb6-2" title="2">filetype indent on</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="bu">set</span> et</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="bu">set</span> sw<span class="op">=</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="bu">set</span> smarttab</a>
<a class="sourceLine" id="cb6-6" title="6"><span class="bu">map</span> <span class="op">&lt;</span>f3<span class="op">&gt;</span> :w<span class="op">\|!</span>python3 <span class="op">%</span> <span class="op">&lt;</span>cr<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="bu">map</span> <span class="op">&lt;</span>f4<span class="op">&gt;</span> :w<span class="op">\|!</span>python3 <span class="op">-</span>m doctest <span class="op">-</span>v <span class="op">%</span> <span class="op">&lt;</span>cr<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="bu">map</span> <span class="op">&lt;</span>f8<span class="op">&gt;</span> :w<span class="op">\|!</span>pep8 <span class="op">%</span> <span class="op">-</span>v <span class="op">&lt;</span>cr<span class="op">&gt;</span></a></code></pre></div></li>
</ol>
<p>When you edit a file with a <code>.py</code> extension, you should now have color systax highlighting and auto indenting. Pressing the <code>&lt;f3&gt;</code> key should run your program, and bring you back to the editor when the program completes. <code>&lt;f4&gt;</code> runs the program with the verbose (<code>-v</code>) switch set, which will be helpful when running doctests. <code>&lt;f8&gt;</code> will run the pep8 style checker against your program source, which is useful in helping you learn to write Python programs with good styling.</p>
<p>To learn to use vim, run the following command at a unix command prompt:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" title="1">$ vimtutor</a></code></pre></div>
<h3 id="home-environment">$HOME environment</h3>
<p>The following creates a useful environment in your <a href="http://en.wikipedia.org/wiki/Home_directory">home directory</a> for using <code>pip3</code> to install packages into your home directory and for adding your own Python libraries and executable scripts:</p>
<ol type="1">
<li><p>From the command prompt in your home directory, create <code>bin</code> and <code>lib</code> subdirectories of your <code>.local</code> directory by running the following command:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" title="1">$ mkdir .local<span class="op">/</span>lib .local<span class="op">/</span><span class="bu">bin</span></a></code></pre></div></li>
<li><p>Now add a <code>my_python</code> subdirectory to <code>.local/lib</code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" title="1">$ mkdir .local<span class="op">/</span>lib<span class="op">/</span>my_python</a></code></pre></div></li>
<li><p>Add the following lines to the bottom of your <code>.bashrc</code> in your home directory:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" title="1">EDITOR<span class="op">=</span>vim</a>
<a class="sourceLine" id="cb10-2" title="2">PATH<span class="op">=</span>$HOME<span class="op">/</span>.local<span class="op">/</span>bin$PATH</a>
<a class="sourceLine" id="cb10-3" title="3">PYTHONPATH<span class="op">=</span>$HOME<span class="op">/</span>.local<span class="op">/</span>lib<span class="op">/</span>my_python</a>
<a class="sourceLine" id="cb10-4" title="4"></a>
<a class="sourceLine" id="cb10-5" title="5">export EDITOR PATH PYTHONPATH</a></code></pre></div>
<p>This will set your prefered editor to Vim, add your own <code>.local/bin</code> directory as a place to put executable scripts, and add <code>.local/lib/my_python</code> to your Python search path so modules you put there will be found by Python.</p>
<p>Then run:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" title="1">$ . .bashrc</a></code></pre></div>
<p>to set these <a href="http://en.wikipedia.org/wiki/Environment_variable">environment varialbles</a> and prepend the <code>.local/bin</code> directory to your <a href="http://en.wikipedia.org/wiki/Path_%28variable%29">search path</a> (note: logging out and back in will accomplish the same result).</p></li>
</ol>
<h3 id="lumpy">Lumpy</h3>
<p>Lumpy is python module that generates <a href="http://en.wikipedia.org/wiki/Unified_Modeling_Language">UML</a> diagrams. It was written by <a href="http://en.wikipedia.org/wiki/Allen_B._Downey">Allen B. Downey</a> as part of his <a href="http://www.greenteapress.com/thinkpython/swampy">Swampy</a> suite of Python programs written for use with his textbooks.</p>
<p>The version here is modified to work with Python 3 on Ubuntu 16.04. Click on <a href="https://www.openbookproject.net/books/bpp4awd/_downloads/4a0cd061f1926fc15f143fb811df283d/lumpy.py"><code>lumpy.py</code></a> to download the module. Put this file in your <code>.local/lib/my_python</code> directory after your <a href="https://www.openbookproject.net/books/bpp4awd/app_a.html#configuring-home">$HOME environment</a> is configured.</p>
<p>Lumpy is used in several of the exercises in this book to help illustrate python <a href="http://en.wikipedia.org/wiki/Data_structure">data structures</a>.</p>
<h3 id="making-a-python-script-executable-and-runnable-from-anywhere">Making a python script executable and runnable from anywhere</h3>
<p>On unix systems, Python scripts can be made <em>executable</em> using the following process:</p>
<ol type="1">
<li><p>Add this line as the first line in the script:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" title="1"><span class="co">#!/usr/bin/env python3</span></a></code></pre></div></li>
<li><p>At the unix command prompt, type the following to make <code>myscript.py</code> executable:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb13-1" title="1">$ chmod <span class="op">+</span>x myscript.py</a></code></pre></div></li>
<li><p>Move <code>myscript.py</code> into your <code>.local/bin</code> directory, and it will be runnable from anywhere.</p></li>
</ol>
</body>
</html>
