<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>social-graph</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="social-graph"># Social Graph</h1>
<h2 id="social-graph-1">Social Graph</h2>
<p>You have been assigned the task of building a new friend-based social network. In this network, users are able to view their own friends, friends of their friends, friends of their friends’ friends, and so on. People connected to you through any number of friendship connections are considered a part of your extended social network.</p>
<p>The functionality behind creating users and friendships has been completed already. Your job is to implement a function that shows all the friends in a user’s extended social network and chain of friendships that link them. The number of connections between one user and another are called the degrees of separation.</p>
<p>Your client is also interested in how the performance will scale as more users join so she has asked you to implement a feature that creates large numbers of users to the network and assigns them a random distribution of friends.</p>
<h3 id="generating-users-and-friendships">1. Generating Users and Friendships</h3>
<p>It will be easier to build your extended social network if you have users to test it with. <code>populateGraph()</code> takes in a number of users to create and the average number of friends each user should have and creates them.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="op">&gt;&gt;&gt;</span> sg <span class="op">=</span> SocialGraph()</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="op">&gt;&gt;&gt;</span> sg.populateGraph(<span class="dv">10</span>, <span class="dv">2</span>)  <span class="co"># Creates 10 users with an average of 2 friends each</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(sg.friendships)</a>
<a class="sourceLine" id="cb1-4" title="4">{<span class="dv">1</span>: {<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">5</span>}, <span class="dv">2</span>: {<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">7</span>}, <span class="dv">3</span>: {<span class="dv">4</span>}, <span class="dv">4</span>: {<span class="dv">9</span>, <span class="dv">3</span>}, <span class="dv">5</span>: {<span class="dv">8</span>, <span class="dv">1</span>, <span class="dv">2</span>}, <span class="dv">6</span>: {<span class="dv">10</span>}, <span class="dv">7</span>: {<span class="dv">2</span>}, <span class="dv">8</span>: {<span class="dv">1</span>, <span class="dv">5</span>}, <span class="dv">9</span>: {<span class="dv">4</span>}, <span class="dv">10</span>: {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>}}</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="op">&gt;&gt;&gt;</span> sg <span class="op">=</span> SocialGraph()</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="op">&gt;&gt;&gt;</span> sg.populateGraph(<span class="dv">10</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(sg.friendships)</a>
<a class="sourceLine" id="cb1-8" title="8">{<span class="dv">1</span>: {<span class="dv">8</span>}, <span class="dv">2</span>: <span class="bu">set</span>(), <span class="dv">3</span>: {<span class="dv">6</span>}, <span class="dv">4</span>: {<span class="dv">9</span>, <span class="dv">5</span>, <span class="dv">7</span>}, <span class="dv">5</span>: {<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">4</span>, <span class="dv">6</span>}, <span class="dv">6</span>: {<span class="dv">8</span>, <span class="dv">3</span>, <span class="dv">5</span>}, <span class="dv">7</span>: {<span class="dv">4</span>}, <span class="dv">8</span>: {<span class="dv">1</span>, <span class="dv">6</span>}, <span class="dv">9</span>: {<span class="dv">10</span>, <span class="dv">4</span>, <span class="dv">5</span>}, <span class="dv">10</span>: {<span class="dv">9</span>, <span class="dv">5</span>}}</a></code></pre></div>
<p>Note that in the above example, the average number of friendships is exactly 2 but the actual number of friends per user ranges anywhere from 0 to 4.</p>
<ul>
<li>Hint 1: To create N random friendships, you could create a list with all possible friendship combinations, shuffle the list, then grab the first N elements from the list. You will need to <code>import random</code> to get shuffle.</li>
<li>Hint 2: <code>addFriendship(1, 2)</code> is the same as <code>addFriendship(2, 1)</code>. You should avoid calling one after the other since it will do nothing but print a warning. You can avoid this by only creating friendships where user1 &lt; user2.</li>
</ul>
<h3 id="degrees-of-separation">2. Degrees of Separation</h3>
<p>Now that you have a graph full of users and friendships, you can crawl through their social graphs. <code>getAllSocialPaths()</code> takes a userID and returns a dictionary containing every user in that user’s extended network along with the shortest friendship path between each.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1"><span class="op">&gt;&gt;&gt;</span> sg <span class="op">=</span> SocialGraph()</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="op">&gt;&gt;&gt;</span> sg.populateGraph(<span class="dv">10</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(sg.friendships)</a>
<a class="sourceLine" id="cb2-4" title="4">{<span class="dv">1</span>: {<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">5</span>}, <span class="dv">2</span>: {<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">7</span>}, <span class="dv">3</span>: {<span class="dv">4</span>}, <span class="dv">4</span>: {<span class="dv">9</span>, <span class="dv">3</span>}, <span class="dv">5</span>: {<span class="dv">8</span>, <span class="dv">1</span>, <span class="dv">2</span>}, <span class="dv">6</span>: {<span class="dv">10</span>}, <span class="dv">7</span>: {<span class="dv">2</span>}, <span class="dv">8</span>: {<span class="dv">1</span>, <span class="dv">5</span>}, <span class="dv">9</span>: {<span class="dv">4</span>}, <span class="dv">10</span>: {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>}}</a>
<a class="sourceLine" id="cb2-5" title="5"><span class="op">&gt;&gt;&gt;</span> connections <span class="op">=</span> sg.getAllSocialPaths(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(connections)</a>
<a class="sourceLine" id="cb2-7" title="7">{<span class="dv">1</span>: [<span class="dv">1</span>], <span class="dv">8</span>: [<span class="dv">1</span>, <span class="dv">8</span>], <span class="dv">10</span>: [<span class="dv">1</span>, <span class="dv">10</span>], <span class="dv">5</span>: [<span class="dv">1</span>, <span class="dv">5</span>], <span class="dv">2</span>: [<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>], <span class="dv">6</span>: [<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">6</span>], <span class="dv">7</span>: [<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">7</span>]}</a></code></pre></div>
<p>Note that in this sample, Users 3, 4 and 9 are not in User 1’s extended social network.</p>
<ul>
<li>Hint 1: What kind of graph search guarantees you a shortest path?</li>
<li>Hint 2: Instead of using a <code>set</code> to mark users as visited, you could use a <code>dictionary</code>. Similar to sets, checking if something is in a dictionary runs in O(1) time. If the visited user is the key, what would the value be?</li>
</ul>
<h3 id="questions">3. Questions</h3>
<ol type="1">
<li>To create 100 users with an average of 10 friends each, how many times would you need to call <code>addFriendship()</code>? Why?</li>
<li>If you create 1000 users with an average of 5 random friends each, what percentage of other users will be in a particular user’s extended social network? What is the average degree of separation between a user and those in his/her extended network?</li>
</ol>
<h3 id="stretch-goal">4. Stretch Goal</h3>
<ol type="1">
<li>You might have found the results from question #2 above to be surprising. Would you expect results like this in real life? If not, what are some ways you could improve your friendship distribution model for more realistic results?</li>
<li>If you followed the hints for part 1, your <code>populateGraph()</code> will run in O(n^2) time. Refactor your code to run in O(n) time. Are there any tradeoffs that come with this implementation?</li>
</ol>
<p>{% tabs %} {% tab title=“Social-graph.py” %}</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> random</a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">class</span> Queue:</a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="va">self</span>.queue <span class="op">=</span> []</a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="kw">def</span> enqueue(<span class="va">self</span>, value):</a>
<a class="sourceLine" id="cb3-9" title="9">        <span class="va">self</span>.queue.append(value)</a>
<a class="sourceLine" id="cb3-10" title="10"></a>
<a class="sourceLine" id="cb3-11" title="11">    <span class="kw">def</span> dequeue(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb3-12" title="12">        <span class="cf">if</span> <span class="va">self</span>.size() <span class="op">&gt;</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb3-13" title="13">            <span class="cf">return</span> <span class="va">self</span>.queue.pop(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb3-14" title="14">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb3-15" title="15">            <span class="cf">return</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb3-16" title="16"></a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="kw">def</span> size(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb3-18" title="18">        <span class="cf">return</span> <span class="bu">len</span>(<span class="va">self</span>.queue)</a>
<a class="sourceLine" id="cb3-19" title="19"></a>
<a class="sourceLine" id="cb3-20" title="20"></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="kw">class</span> User:</a>
<a class="sourceLine" id="cb3-22" title="22">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</a>
<a class="sourceLine" id="cb3-23" title="23">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb3-24" title="24"></a>
<a class="sourceLine" id="cb3-25" title="25">    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb3-26" title="26">        <span class="cf">return</span> <span class="va">self</span>.name</a>
<a class="sourceLine" id="cb3-27" title="27"></a>
<a class="sourceLine" id="cb3-28" title="28"></a>
<a class="sourceLine" id="cb3-29" title="29"><span class="kw">class</span> SocialGraph:</a>
<a class="sourceLine" id="cb3-30" title="30">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb3-31" title="31">        <span class="va">self</span>.lastID <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb3-32" title="32">        <span class="va">self</span>.users <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb3-33" title="33">        <span class="va">self</span>.friendships <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb3-34" title="34"></a>
<a class="sourceLine" id="cb3-35" title="35">    <span class="kw">def</span> addFriendship(<span class="va">self</span>, userID, friendID):</a>
<a class="sourceLine" id="cb3-36" title="36">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-37" title="37"><span class="co">        Creates a bi-directional friendship</span></a>
<a class="sourceLine" id="cb3-38" title="38"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-39" title="39">        <span class="cf">if</span> userID <span class="op">==</span> friendID:</a>
<a class="sourceLine" id="cb3-40" title="40">            <span class="bu">print</span>(<span class="st">&quot;WARNING: You cannot be friends with yourself&quot;</span>)</a>
<a class="sourceLine" id="cb3-41" title="41">        <span class="cf">elif</span> (</a>
<a class="sourceLine" id="cb3-42" title="42">            friendID <span class="kw">in</span> <span class="va">self</span>.friendships[userID] <span class="kw">or</span> userID <span class="kw">in</span> <span class="va">self</span>.friendships[friendID]</a>
<a class="sourceLine" id="cb3-43" title="43">        ):</a>
<a class="sourceLine" id="cb3-44" title="44">            <span class="bu">print</span>(<span class="st">&quot;WARNING: Friendship already exists&quot;</span>)</a>
<a class="sourceLine" id="cb3-45" title="45">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb3-46" title="46">            <span class="va">self</span>.friendships[userID].add(friendID)</a>
<a class="sourceLine" id="cb3-47" title="47">            <span class="va">self</span>.friendships[friendID].add(userID)</a>
<a class="sourceLine" id="cb3-48" title="48"></a>
<a class="sourceLine" id="cb3-49" title="49">    <span class="kw">def</span> addUser(<span class="va">self</span>, name):</a>
<a class="sourceLine" id="cb3-50" title="50">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-51" title="51"><span class="co">        Create a new user with a sequential integer ID</span></a>
<a class="sourceLine" id="cb3-52" title="52"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-53" title="53">        <span class="va">self</span>.lastID <span class="op">+=</span> <span class="dv">1</span>  <span class="co"># automatically increment the ID to assign the new user</span></a>
<a class="sourceLine" id="cb3-54" title="54">        <span class="va">self</span>.users[<span class="va">self</span>.lastID] <span class="op">=</span> User(name)</a>
<a class="sourceLine" id="cb3-55" title="55">        <span class="va">self</span>.friendships[<span class="va">self</span>.lastID] <span class="op">=</span> <span class="bu">set</span>()</a>
<a class="sourceLine" id="cb3-56" title="56"></a>
<a class="sourceLine" id="cb3-57" title="57">    <span class="kw">def</span> populateGraph(<span class="va">self</span>, numUsers, avgFriendships):</a>
<a class="sourceLine" id="cb3-58" title="58">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-59" title="59"><span class="co">        Takes a number of users and an average number of friendships</span></a>
<a class="sourceLine" id="cb3-60" title="60"><span class="co">        as arguments</span></a>
<a class="sourceLine" id="cb3-61" title="61"></a>
<a class="sourceLine" id="cb3-62" title="62"><span class="co">        Creates that number of users and a randomly distributed friendships</span></a>
<a class="sourceLine" id="cb3-63" title="63"><span class="co">        between those users.</span></a>
<a class="sourceLine" id="cb3-64" title="64"></a>
<a class="sourceLine" id="cb3-65" title="65"><span class="co">        The number of users must be greater than the average number of friendships.</span></a>
<a class="sourceLine" id="cb3-66" title="66"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-67" title="67"></a>
<a class="sourceLine" id="cb3-68" title="68">        <span class="co"># # Reset graph</span></a>
<a class="sourceLine" id="cb3-69" title="69">        <span class="co"># self.lastID = 0</span></a>
<a class="sourceLine" id="cb3-70" title="70">        <span class="co"># self.users = {}</span></a>
<a class="sourceLine" id="cb3-71" title="71">        <span class="co"># self.friendships = {}</span></a>
<a class="sourceLine" id="cb3-72" title="72">        <span class="co"># # !!!! IMPLEMENT ME</span></a>
<a class="sourceLine" id="cb3-73" title="73">        <span class="co">#</span></a>
<a class="sourceLine" id="cb3-74" title="74">        <span class="co"># # Add users</span></a>
<a class="sourceLine" id="cb3-75" title="75">        <span class="co"># for i in range(0, numUsers):</span></a>
<a class="sourceLine" id="cb3-76" title="76">        <span class="co">#     self.addUser(f&quot;User {i}&quot;)</span></a>
<a class="sourceLine" id="cb3-77" title="77">        <span class="co">#</span></a>
<a class="sourceLine" id="cb3-78" title="78">        <span class="co"># possible_friendships = []</span></a>
<a class="sourceLine" id="cb3-79" title="79">        <span class="co"># # Create friendships</span></a>
<a class="sourceLine" id="cb3-80" title="80">        <span class="co"># for UserID in self.users:</span></a>
<a class="sourceLine" id="cb3-81" title="81">        <span class="co">#     for friendID in range(UserID + 1, self.lastID + 1):</span></a>
<a class="sourceLine" id="cb3-82" title="82">        <span class="co">#         possible_friendships.append((UserID, friendID))</span></a>
<a class="sourceLine" id="cb3-83" title="83">        <span class="co">#</span></a>
<a class="sourceLine" id="cb3-84" title="84">        <span class="co"># random.shuffle(possible_friendships)</span></a>
<a class="sourceLine" id="cb3-85" title="85">        <span class="co">#</span></a>
<a class="sourceLine" id="cb3-86" title="86">        <span class="co"># for i in range(numUsers * avgFriendships // 2):</span></a>
<a class="sourceLine" id="cb3-87" title="87">        <span class="co">#     friendship = possible_friendships[i]</span></a>
<a class="sourceLine" id="cb3-88" title="88">        <span class="co">#     self.addFriendship(friendship[0], friendship[1])</span></a>
<a class="sourceLine" id="cb3-89" title="89"></a>
<a class="sourceLine" id="cb3-90" title="90">        <span class="co"># Reset graph</span></a>
<a class="sourceLine" id="cb3-91" title="91">        <span class="va">self</span>.lastID <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb3-92" title="92">        <span class="va">self</span>.users <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb3-93" title="93">        <span class="va">self</span>.friendships <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb3-94" title="94">        <span class="co"># !!!! IMPLEMENT ME</span></a>
<a class="sourceLine" id="cb3-95" title="95"></a>
<a class="sourceLine" id="cb3-96" title="96">        <span class="co"># Add users</span></a>
<a class="sourceLine" id="cb3-97" title="97">        <span class="co"># call addUser() until our number of users is numUsers</span></a>
<a class="sourceLine" id="cb3-98" title="98">        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(numUsers):</a>
<a class="sourceLine" id="cb3-99" title="99">            <span class="va">self</span>.addUser(<span class="ss">f&quot;User </span><span class="sc">{i</span> <span class="op">+</span> <span class="dv">1</span><span class="sc">}</span><span class="ss">&quot;</span>)</a>
<a class="sourceLine" id="cb3-100" title="100"></a>
<a class="sourceLine" id="cb3-101" title="101">        <span class="co"># Create random friendships</span></a>
<a class="sourceLine" id="cb3-102" title="102">        <span class="co"># totalFriendships = avgFriendships * numUsers</span></a>
<a class="sourceLine" id="cb3-103" title="103">        <span class="co"># Generate a list of all possible friendships</span></a>
<a class="sourceLine" id="cb3-104" title="104">        possibleFriendships <span class="op">=</span> []</a>
<a class="sourceLine" id="cb3-105" title="105">        <span class="co"># Avoid dups by ensuring the first ID is smaller than the second</span></a>
<a class="sourceLine" id="cb3-106" title="106">        <span class="cf">for</span> userID <span class="kw">in</span> <span class="va">self</span>.users:</a>
<a class="sourceLine" id="cb3-107" title="107">            <span class="cf">for</span> friendID <span class="kw">in</span> <span class="bu">range</span>(userID <span class="op">+</span> <span class="dv">1</span>, <span class="va">self</span>.lastID <span class="op">+</span> <span class="dv">1</span>):</a>
<a class="sourceLine" id="cb3-108" title="108">                possibleFriendships.append((userID, friendID))</a>
<a class="sourceLine" id="cb3-109" title="109"></a>
<a class="sourceLine" id="cb3-110" title="110">        <span class="co"># Shuffle the list</span></a>
<a class="sourceLine" id="cb3-111" title="111">        random.shuffle(possibleFriendships)</a>
<a class="sourceLine" id="cb3-112" title="112">        <span class="bu">print</span>(<span class="st">&quot;random friendships:&quot;</span>)</a>
<a class="sourceLine" id="cb3-113" title="113">        <span class="bu">print</span>(possibleFriendships)</a>
<a class="sourceLine" id="cb3-114" title="114"></a>
<a class="sourceLine" id="cb3-115" title="115">        <span class="co"># Slice off totalFriendships from the front, create friendships</span></a>
<a class="sourceLine" id="cb3-116" title="116">        totalFriendships <span class="op">=</span> avgFriendships <span class="op">*</span> numUsers <span class="op">//</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb3-117" title="117">        <span class="bu">print</span>(<span class="ss">f&quot;Friendships to create: </span><span class="sc">{</span>totalFriendships<span class="sc">}</span><span class="ch">\n</span><span class="ss">&quot;</span>)</a>
<a class="sourceLine" id="cb3-118" title="118">        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(totalFriendships):</a>
<a class="sourceLine" id="cb3-119" title="119">            friendship <span class="op">=</span> possibleFriendships[i]</a>
<a class="sourceLine" id="cb3-120" title="120">            <span class="va">self</span>.addFriendship(friendship[<span class="dv">0</span>], friendship[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb3-121" title="121"></a>
<a class="sourceLine" id="cb3-122" title="122">    <span class="kw">def</span> getAllSocialPaths(<span class="va">self</span>, userID):</a>
<a class="sourceLine" id="cb3-123" title="123">        <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-124" title="124"><span class="co">        Takes a user&#39;s userID as an argument</span></a>
<a class="sourceLine" id="cb3-125" title="125"></a>
<a class="sourceLine" id="cb3-126" title="126"><span class="co">        Returns a dictionary containing every user in that user&#39;s</span></a>
<a class="sourceLine" id="cb3-127" title="127"><span class="co">        extended network with the shortest friendship path between them.</span></a>
<a class="sourceLine" id="cb3-128" title="128"></a>
<a class="sourceLine" id="cb3-129" title="129"><span class="co">        The key is the friend&#39;s ID and the value is the path.</span></a>
<a class="sourceLine" id="cb3-130" title="130"><span class="co">        &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb3-131" title="131">        visited <span class="op">=</span> {}  <span class="co"># Note that this is a dictionary, not a set</span></a>
<a class="sourceLine" id="cb3-132" title="132">        <span class="co"># !!!! IMPLEMENT ME</span></a>
<a class="sourceLine" id="cb3-133" title="133">        que <span class="op">=</span> Queue()  <span class="co"># creating our queue</span></a>
<a class="sourceLine" id="cb3-134" title="134"></a>
<a class="sourceLine" id="cb3-135" title="135">        <span class="co"># since BFS add start id to que</span></a>
<a class="sourceLine" id="cb3-136" title="136">        que.enqueue(</a>
<a class="sourceLine" id="cb3-137" title="137">            [userID]</a>
<a class="sourceLine" id="cb3-138" title="138">        )  <span class="co"># enqueuing the user id in list / build possible path / keep a good one</span></a>
<a class="sourceLine" id="cb3-139" title="139"></a>
<a class="sourceLine" id="cb3-140" title="140">        <span class="cf">while</span> que.size() <span class="op">&gt;</span> <span class="dv">0</span>:  <span class="co"># while the queue is not empty...</span></a>
<a class="sourceLine" id="cb3-141" title="141">            path <span class="op">=</span> que.dequeue()</a>
<a class="sourceLine" id="cb3-142" title="142"></a>
<a class="sourceLine" id="cb3-143" title="143">            new_user_id <span class="op">=</span> path[<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb3-144" title="144"></a>
<a class="sourceLine" id="cb3-145" title="145">            <span class="cf">if</span> new_user_id <span class="kw">not</span> <span class="kw">in</span> visited:</a>
<a class="sourceLine" id="cb3-146" title="146">                visited[</a>
<a class="sourceLine" id="cb3-147" title="147">                    new_user_id</a>
<a class="sourceLine" id="cb3-148" title="148">                ] <span class="op">=</span> path  <span class="co"># dict of paths from starting to everyone else</span></a>
<a class="sourceLine" id="cb3-149" title="149"></a>
<a class="sourceLine" id="cb3-150" title="150">                <span class="cf">for</span> neighbor <span class="kw">in</span> <span class="va">self</span>.friendships[new_user_id]:</a>
<a class="sourceLine" id="cb3-151" title="151">                    path_copy <span class="op">=</span> path.copy()</a>
<a class="sourceLine" id="cb3-152" title="152">                    path_copy.append(neighbor)</a>
<a class="sourceLine" id="cb3-153" title="153">                    que.enqueue(path_copy)</a>
<a class="sourceLine" id="cb3-154" title="154"></a>
<a class="sourceLine" id="cb3-155" title="155">        <span class="cf">return</span> visited</a>
<a class="sourceLine" id="cb3-156" title="156"></a>
<a class="sourceLine" id="cb3-157" title="157">    <span class="co"># %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></a>
<a class="sourceLine" id="cb3-158" title="158">    <span class="co"># earliest_ancestor</span></a>
<a class="sourceLine" id="cb3-159" title="159">    <span class="co"># %%%%%%% Code From ancestor.py For Reference %%%%%%%</span></a>
<a class="sourceLine" id="cb3-160" title="160">    <span class="co"># while q.size() &gt; 0:</span></a>
<a class="sourceLine" id="cb3-161" title="161">    <span class="co">#     path = q.dequeue()</span></a>
<a class="sourceLine" id="cb3-162" title="162">    <span class="co">#     v = path[-1]</span></a>
<a class="sourceLine" id="cb3-163" title="163">    <span class="co">#</span></a>
<a class="sourceLine" id="cb3-164" title="164">    <span class="co">#     if len(path) &gt;= max_path_length and v &lt; earliest_anc or len(path) &gt; max_path_length:</span></a>
<a class="sourceLine" id="cb3-165" title="165">    <span class="co">#         earliest_anc = v</span></a>
<a class="sourceLine" id="cb3-166" title="166">    <span class="co">#         max_path_length = len(path)</span></a>
<a class="sourceLine" id="cb3-167" title="167">    <span class="co">#</span></a>
<a class="sourceLine" id="cb3-168" title="168">    <span class="co">#     for neighbor in graph.vertices[v]:</span></a>
<a class="sourceLine" id="cb3-169" title="169">    <span class="co">#         path_copy = list(path)</span></a>
<a class="sourceLine" id="cb3-170" title="170">    <span class="co">#         path_copy.append(neighbor)</span></a>
<a class="sourceLine" id="cb3-171" title="171">    <span class="co">#         q.enqueue(path_copy)</span></a>
<a class="sourceLine" id="cb3-172" title="172">    <span class="co">#</span></a>
<a class="sourceLine" id="cb3-173" title="173">    <span class="co"># return earliest_anc</span></a>
<a class="sourceLine" id="cb3-174" title="174">    <span class="co"># %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></a>
<a class="sourceLine" id="cb3-175" title="175">    <span class="co"># %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></a>
<a class="sourceLine" id="cb3-176" title="176"></a>
<a class="sourceLine" id="cb3-177" title="177"></a>
<a class="sourceLine" id="cb3-178" title="178"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb3-179" title="179">    sg <span class="op">=</span> SocialGraph()</a>
<a class="sourceLine" id="cb3-180" title="180">    sg.populateGraph(<span class="dv">11</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb3-181" title="181">    <span class="bu">print</span>(<span class="st">&quot;USERS:&quot;</span>)</a>
<a class="sourceLine" id="cb3-182" title="182">    <span class="bu">print</span>(sg.users)</a>
<a class="sourceLine" id="cb3-183" title="183">    <span class="bu">print</span>(<span class="st">&quot;FRIENDSHIPS:&quot;</span>)</a>
<a class="sourceLine" id="cb3-184" title="184">    <span class="bu">print</span>(sg.friendships)</a>
<a class="sourceLine" id="cb3-185" title="185">    connections <span class="op">=</span> sg.getAllSocialPaths(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb3-186" title="186">    <span class="bu">print</span>(<span class="st">&quot;CONNECTIONS:&quot;</span>)</a>
<a class="sourceLine" id="cb3-187" title="187">    <span class="bu">print</span>(connections)</a></code></pre></div>
<p>{% endtab %}</p>
<p>{% tab title=“Output” %}</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" title="1"></a>
<a class="sourceLine" id="cb4-2" title="2">random friendships:</a>
<a class="sourceLine" id="cb4-3" title="3">[(<span class="dv">3</span>, <span class="dv">9</span>), (<span class="dv">2</span>, <span class="dv">11</span>), (<span class="dv">7</span>, <span class="dv">11</span>), (<span class="dv">7</span>, <span class="dv">9</span>), (<span class="dv">1</span>, <span class="dv">7</span>), (<span class="dv">2</span>, <span class="dv">9</span>), (<span class="dv">8</span>, <span class="dv">10</span>), (<span class="dv">2</span>, <span class="dv">6</span>), (<span class="dv">8</span>, <span class="dv">9</span>), (<span class="dv">6</span>, <span class="dv">8</span>), (<span class="dv">6</span>, <span class="dv">9</span>), (<span class="dv">9</span>, <span class="dv">11</span>), (<span class="dv">4</span>, <span class="dv">9</span>), (<span class="dv">4</span>, <span class="dv">5</span>), (<span class="dv">8</span>, <span class="dv">11</span>), (<span class="dv">3</span>, <span class="dv">11</span>), (<span class="dv">2</span>, <span class="dv">10</span>), (<span class="dv">6</span>, <span class="dv">7</span>), (<span class="dv">1</span>, <span class="dv">2</span>), (<span class="dv">1</span>, <span class="dv">3</span>), (<span class="dv">3</span>, <span class="dv">7</span>), (<span class="dv">7</span>, <span class="dv">8</span>), (<span class="dv">5</span>, <span class="dv">11</span>), (<span class="dv">4</span>, <span class="dv">7</span>), (<span class="dv">3</span>, <span class="dv">6</span>), (<span class="dv">9</span>, <span class="dv">10</span>), (<span class="dv">2</span>, <span class="dv">7</span>), (<span class="dv">4</span>, <span class="dv">10</span>), (<span class="dv">4</span>, <span class="dv">8</span>), (<span class="dv">1</span>, <span class="dv">10</span>), (<span class="dv">3</span>, <span class="dv">4</span>), (<span class="dv">5</span>, <span class="dv">10</span>), (<span class="dv">5</span>, <span class="dv">8</span>), (<span class="dv">6</span>, <span class="dv">11</span>), (<span class="dv">2</span>, <span class="dv">4</span>), (<span class="dv">1</span>, <span class="dv">8</span>), (<span class="dv">5</span>, <span class="dv">6</span>), (<span class="dv">1</span>, <span class="dv">5</span>), (<span class="dv">5</span>, <span class="dv">7</span>), (<span class="dv">3</span>, <span class="dv">8</span>), (<span class="dv">3</span>, <span class="dv">10</span>), (<span class="dv">4</span>, <span class="dv">6</span>), (<span class="dv">10</span>, <span class="dv">11</span>), (<span class="dv">3</span>, <span class="dv">5</span>), (<span class="dv">2</span>, <span class="dv">8</span>), (<span class="dv">2</span>, <span class="dv">5</span>), (<span class="dv">4</span>, <span class="dv">11</span>), (<span class="dv">1</span>, <span class="dv">6</span>), (<span class="dv">5</span>, <span class="dv">9</span>), (<span class="dv">7</span>, <span class="dv">10</span>), (<span class="dv">6</span>, <span class="dv">10</span>), (<span class="dv">2</span>, <span class="dv">3</span>), (<span class="dv">1</span>, <span class="dv">4</span>), (<span class="dv">1</span>, <span class="dv">9</span>), (<span class="dv">1</span>, <span class="dv">11</span>)]</a>
<a class="sourceLine" id="cb4-4" title="4">Friendships to create: <span class="dv">16</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6">USERS:</a>
<a class="sourceLine" id="cb4-7" title="7">{<span class="dv">1</span>: User <span class="dv">1</span>, <span class="dv">2</span>: User <span class="dv">2</span>, <span class="dv">3</span>: User <span class="dv">3</span>, <span class="dv">4</span>: User <span class="dv">4</span>, <span class="dv">5</span>: User <span class="dv">5</span>, <span class="dv">6</span>: User <span class="dv">6</span>, <span class="dv">7</span>: User <span class="dv">7</span>, <span class="dv">8</span>: User <span class="dv">8</span>, <span class="dv">9</span>: User <span class="dv">9</span>, <span class="dv">10</span>: User <span class="dv">10</span>, <span class="dv">11</span>: User <span class="dv">11</span>}</a>
<a class="sourceLine" id="cb4-8" title="8">FRIENDSHIPS:</a>
<a class="sourceLine" id="cb4-9" title="9">{<span class="dv">1</span>: {<span class="dv">7</span>}, <span class="dv">2</span>: {<span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">6</span>}, <span class="dv">3</span>: {<span class="dv">9</span>, <span class="dv">11</span>}, <span class="dv">4</span>: {<span class="dv">9</span>, <span class="dv">5</span>}, <span class="dv">5</span>: {<span class="dv">4</span>}, <span class="dv">6</span>: {<span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">2</span>}, <span class="dv">7</span>: {<span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">1</span>}, <span class="dv">8</span>: {<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">6</span>}, <span class="dv">9</span>: {<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">11</span>}, <span class="dv">10</span>: {<span class="dv">8</span>}, <span class="dv">11</span>: {<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>}}</a>
<a class="sourceLine" id="cb4-10" title="10">CONNECTIONS:</a>
<a class="sourceLine" id="cb4-11" title="11">{<span class="dv">1</span>: [<span class="dv">1</span>], <span class="dv">7</span>: [<span class="dv">1</span>, <span class="dv">7</span>], <span class="dv">9</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>], <span class="dv">11</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">11</span>], <span class="dv">2</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">2</span>], <span class="dv">3</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">3</span>], <span class="dv">4</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">4</span>], <span class="dv">6</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">6</span>], <span class="dv">8</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">8</span>], <span class="dv">5</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">4</span>, <span class="dv">5</span>], <span class="dv">10</span>: [<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">10</span>]}</a></code></pre></div>
<p>{% endtab %} {% endtabs %}</p>
</body>
</html>
