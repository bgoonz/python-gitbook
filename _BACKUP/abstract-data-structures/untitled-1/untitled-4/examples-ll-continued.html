<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>examples-ll-continued</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="examples-ll-continued">Examples (LL) continued</h1>
    <p>{% tabs %} {% tab title=“Python” %}</p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">You are given two non-empty linked lists representing</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">two non-negative integers. The digits are stored in reverse order</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">and each of their nodes contain a single digit.</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">Add the two numbers and return it as a linked list.</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">You may assume the two numbers do not contain any leading zero,</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">except the number 0 itself.</span></a>
<a class="sourceLine" id="cb1-9" title="9"></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">Output: 7 -&gt; 0 -&gt; 8</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-13" title="13"></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="im">import</span> unittest</a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x):</a>
<a class="sourceLine" id="cb1-19" title="19">        <span class="va">self</span>.val <span class="op">=</span> x</a>
<a class="sourceLine" id="cb1-20" title="20">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="kw">def</span> add_two_numbers(left: Node, right: Node) <span class="op">-&gt;</span> Node:</a>
<a class="sourceLine" id="cb1-24" title="24">    head <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-25" title="25">    current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-26" title="26">    <span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-27" title="27">    <span class="cf">while</span> left <span class="kw">or</span> right:</a>
<a class="sourceLine" id="cb1-28" title="28">        <span class="bu">print</span>(<span class="st">&quot;adding: &quot;</span>, left.val, right.val)</a>
<a class="sourceLine" id="cb1-29" title="29">        <span class="bu">sum</span> <span class="op">//=</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-30" title="30">        <span class="cf">if</span> left:</a>
<a class="sourceLine" id="cb1-31" title="31">            <span class="bu">sum</span> <span class="op">+=</span> left.val</a>
<a class="sourceLine" id="cb1-32" title="32">            left <span class="op">=</span> left.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-33" title="33">        <span class="cf">if</span> right:</a>
<a class="sourceLine" id="cb1-34" title="34">            <span class="bu">sum</span> <span class="op">+=</span> right.val</a>
<a class="sourceLine" id="cb1-35" title="35">            right <span class="op">=</span> right.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-36" title="36">        current.<span class="bu">next</span> <span class="op">=</span> Node(<span class="bu">sum</span> <span class="op">%</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-37" title="37">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-38" title="38">    <span class="cf">if</span> <span class="bu">sum</span> <span class="op">//</span> <span class="dv">10</span> <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-39" title="39">        current.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-40" title="40">    <span class="cf">return</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-41" title="41"></a>
<a class="sourceLine" id="cb1-42" title="42"></a>
<a class="sourceLine" id="cb1-43" title="43"><span class="kw">def</span> convert_to_list(number: <span class="bu">int</span>) <span class="op">-&gt;</span> Node:</a>
<a class="sourceLine" id="cb1-44" title="44">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-45" title="45"><span class="co">        converts a positive integer into a (reversed) linked list.</span></a>
<a class="sourceLine" id="cb1-46" title="46"><span class="co">        for example: give 112</span></a>
<a class="sourceLine" id="cb1-47" title="47"><span class="co">        result 2 -&gt; 1 -&gt; 1</span></a>
<a class="sourceLine" id="cb1-48" title="48"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-49" title="49">    <span class="cf">if</span> number <span class="op">&gt;=</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-50" title="50">        head <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-51" title="51">        current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-52" title="52">        remainder <span class="op">=</span> number <span class="op">%</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-53" title="53">        quotient <span class="op">=</span> number <span class="op">//</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-54" title="54"></a>
<a class="sourceLine" id="cb1-55" title="55">        <span class="cf">while</span> quotient <span class="op">!=</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-56" title="56">            current.<span class="bu">next</span> <span class="op">=</span> Node(remainder)</a>
<a class="sourceLine" id="cb1-57" title="57">            current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-58" title="58">            remainder <span class="op">=</span> quotient <span class="op">%</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-59" title="59">            quotient <span class="op">//=</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-60" title="60">        current.<span class="bu">next</span> <span class="op">=</span> Node(remainder)</a>
<a class="sourceLine" id="cb1-61" title="61">        <span class="cf">return</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-62" title="62">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-63" title="63">        <span class="bu">print</span>(<span class="st">&quot;number must be positive!&quot;</span>)</a>
<a class="sourceLine" id="cb1-64" title="64"></a>
<a class="sourceLine" id="cb1-65" title="65"></a>
<a class="sourceLine" id="cb1-66" title="66"><span class="kw">def</span> convert_to_str(l: Node) <span class="op">-&gt;</span> <span class="bu">str</span>:</a>
<a class="sourceLine" id="cb1-67" title="67">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-68" title="68"><span class="co">        converts the non-negative number list into a string.</span></a>
<a class="sourceLine" id="cb1-69" title="69"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-70" title="70">    result <span class="op">=</span> <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-71" title="71">    <span class="cf">while</span> l:</a>
<a class="sourceLine" id="cb1-72" title="72">        result <span class="op">+=</span> <span class="bu">str</span>(l.val)</a>
<a class="sourceLine" id="cb1-73" title="73">        l <span class="op">=</span> l.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-74" title="74">    <span class="cf">return</span> result</a>
<a class="sourceLine" id="cb1-75" title="75"></a>
<a class="sourceLine" id="cb1-76" title="76"></a>
<a class="sourceLine" id="cb1-77" title="77"><span class="kw">class</span> TestSuite(unittest.TestCase):</a>
<a class="sourceLine" id="cb1-78" title="78">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-79" title="79"><span class="co">        testsuite for the linked list structure and</span></a>
<a class="sourceLine" id="cb1-80" title="80"><span class="co">        the adding function, above.</span></a>
<a class="sourceLine" id="cb1-81" title="81"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-82" title="82"></a>
<a class="sourceLine" id="cb1-83" title="83">    <span class="kw">def</span> test_convert_to_str(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-84" title="84">        number1 <span class="op">=</span> Node(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-85" title="85">        number1.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-86" title="86">        number1.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-87" title="87">        <span class="va">self</span>.assertEqual(<span class="st">&quot;243&quot;</span>, convert_to_str(number1))</a>
<a class="sourceLine" id="cb1-88" title="88"></a>
<a class="sourceLine" id="cb1-89" title="89">    <span class="kw">def</span> test_add_two_numbers(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-90" title="90">        <span class="co"># 1. test case</span></a>
<a class="sourceLine" id="cb1-91" title="91">        number1 <span class="op">=</span> Node(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-92" title="92">        number1.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-93" title="93">        number1.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-94" title="94">        number2 <span class="op">=</span> Node(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-95" title="95">        number2.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-96" title="96">        number2.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-97" title="97">        result <span class="op">=</span> convert_to_str(add_two_numbers(number1, number2))</a>
<a class="sourceLine" id="cb1-98" title="98">        <span class="va">self</span>.assertEqual(<span class="st">&quot;708&quot;</span>, result)</a>
<a class="sourceLine" id="cb1-99" title="99"></a>
<a class="sourceLine" id="cb1-100" title="100">        <span class="co"># 2. test case</span></a>
<a class="sourceLine" id="cb1-101" title="101">        number3 <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-102" title="102">        number3.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-103" title="103">        number3.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb1-104" title="104">        number4 <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-105" title="105">        number4.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-106" title="106">        number4.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-107" title="107">        result <span class="op">=</span> convert_to_str(add_two_numbers(number3, number4))</a>
<a class="sourceLine" id="cb1-108" title="108">        <span class="va">self</span>.assertEqual(<span class="st">&quot;2101&quot;</span>, result)</a>
<a class="sourceLine" id="cb1-109" title="109"></a>
<a class="sourceLine" id="cb1-110" title="110">        <span class="co"># 3. test case</span></a>
<a class="sourceLine" id="cb1-111" title="111">        number5 <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-112" title="112">        number6 <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-113" title="113">        result <span class="op">=</span> convert_to_str(add_two_numbers(number5, number6))</a>
<a class="sourceLine" id="cb1-114" title="114">        <span class="va">self</span>.assertEqual(<span class="st">&quot;1&quot;</span>, result)</a>
<a class="sourceLine" id="cb1-115" title="115"></a>
<a class="sourceLine" id="cb1-116" title="116">        <span class="co"># 4. test case</span></a>
<a class="sourceLine" id="cb1-117" title="117">        number7 <span class="op">=</span> Node(<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb1-118" title="118">        number7.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-119" title="119">        number7.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-120" title="120">        number8 <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-121" title="121">        number8.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-122" title="122">        number8.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-123" title="123">        result <span class="op">=</span> convert_to_str(add_two_numbers(number7, number8))</a>
<a class="sourceLine" id="cb1-124" title="124">        <span class="va">self</span>.assertEqual(<span class="st">&quot;022&quot;</span>, result)</a>
<a class="sourceLine" id="cb1-125" title="125"></a>
<a class="sourceLine" id="cb1-126" title="126">    <span class="kw">def</span> test_convert_to_list(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-127" title="127">        result <span class="op">=</span> convert_to_str(convert_to_list(<span class="dv">112</span>))</a>
<a class="sourceLine" id="cb1-128" title="128">        <span class="va">self</span>.assertEqual(<span class="st">&quot;211&quot;</span>, result)</a>
<a class="sourceLine" id="cb1-129" title="129"></a>
<a class="sourceLine" id="cb1-130" title="130"></a>
<a class="sourceLine" id="cb1-131" title="131"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-132" title="132">    unittest.main()</a>
<a class="sourceLine" id="cb1-133" title="133"></a>
<a class="sourceLine" id="cb1-134" title="134"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-135" title="135"><span class="co">A linked list is given such that each node contains an additional random</span></a>
<a class="sourceLine" id="cb1-136" title="136"><span class="co">pointer which could point to any node in the list or null.</span></a>
<a class="sourceLine" id="cb1-137" title="137"></a>
<a class="sourceLine" id="cb1-138" title="138"><span class="co">Return a deep copy of the list.</span></a>
<a class="sourceLine" id="cb1-139" title="139"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-140" title="140"><span class="im">from</span> collections <span class="im">import</span> defaultdict</a>
<a class="sourceLine" id="cb1-141" title="141"></a>
<a class="sourceLine" id="cb1-142" title="142"></a>
<a class="sourceLine" id="cb1-143" title="143"><span class="kw">class</span> RandomListNode(<span class="bu">object</span>):</a>
<a class="sourceLine" id="cb1-144" title="144">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, label):</a>
<a class="sourceLine" id="cb1-145" title="145">        <span class="va">self</span>.label <span class="op">=</span> label</a>
<a class="sourceLine" id="cb1-146" title="146">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-147" title="147">        <span class="va">self</span>.random <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-148" title="148"></a>
<a class="sourceLine" id="cb1-149" title="149"></a>
<a class="sourceLine" id="cb1-150" title="150"><span class="kw">def</span> copy_random_pointer_v1(head):</a>
<a class="sourceLine" id="cb1-151" title="151">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-152" title="152"><span class="co">    :type head: RandomListNode</span></a>
<a class="sourceLine" id="cb1-153" title="153"><span class="co">    :rtype: RandomListNode</span></a>
<a class="sourceLine" id="cb1-154" title="154"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-155" title="155">    dic <span class="op">=</span> <span class="bu">dict</span>()</a>
<a class="sourceLine" id="cb1-156" title="156">    m <span class="op">=</span> n <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-157" title="157">    <span class="cf">while</span> m:</a>
<a class="sourceLine" id="cb1-158" title="158">        dic[m] <span class="op">=</span> RandomListNode(m.label)</a>
<a class="sourceLine" id="cb1-159" title="159">        m <span class="op">=</span> m.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-160" title="160">    <span class="cf">while</span> n:</a>
<a class="sourceLine" id="cb1-161" title="161">        dic[n].<span class="bu">next</span> <span class="op">=</span> dic.get(n.<span class="bu">next</span>)</a>
<a class="sourceLine" id="cb1-162" title="162">        dic[n].random <span class="op">=</span> dic.get(n.random)</a>
<a class="sourceLine" id="cb1-163" title="163">        n <span class="op">=</span> n.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-164" title="164">    <span class="cf">return</span> dic.get(head)</a>
<a class="sourceLine" id="cb1-165" title="165"></a>
<a class="sourceLine" id="cb1-166" title="166"></a>
<a class="sourceLine" id="cb1-167" title="167"><span class="co"># O(n)</span></a>
<a class="sourceLine" id="cb1-168" title="168"><span class="kw">def</span> copy_random_pointer_v2(head):</a>
<a class="sourceLine" id="cb1-169" title="169">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-170" title="170"><span class="co">    :type head: RandomListNode</span></a>
<a class="sourceLine" id="cb1-171" title="171"><span class="co">    :rtype: RandomListNode</span></a>
<a class="sourceLine" id="cb1-172" title="172"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-173" title="173">    copy <span class="op">=</span> defaultdict(<span class="kw">lambda</span>: RandomListNode(<span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1-174" title="174">    copy[<span class="va">None</span>] <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-175" title="175">    node <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-176" title="176">    <span class="cf">while</span> node:</a>
<a class="sourceLine" id="cb1-177" title="177">        copy[node].label <span class="op">=</span> node.label</a>
<a class="sourceLine" id="cb1-178" title="178">        copy[node].<span class="bu">next</span> <span class="op">=</span> copy[node.<span class="bu">next</span>]</a>
<a class="sourceLine" id="cb1-179" title="179">        copy[node].random <span class="op">=</span> copy[node.random]</a>
<a class="sourceLine" id="cb1-180" title="180">        node <span class="op">=</span> node.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-181" title="181">    <span class="cf">return</span> copy[head]</a>
<a class="sourceLine" id="cb1-182" title="182"></a>
<a class="sourceLine" id="cb1-183" title="183"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-184" title="184"><span class="co">Write a function to delete a node (except the tail)</span></a>
<a class="sourceLine" id="cb1-185" title="185"><span class="co">in a singly linked list, given only access to that node.</span></a>
<a class="sourceLine" id="cb1-186" title="186"></a>
<a class="sourceLine" id="cb1-187" title="187"><span class="co">Supposed the linked list is 1 -&gt; 2 -&gt; 3 -&gt; 4 and</span></a>
<a class="sourceLine" id="cb1-188" title="188"><span class="co">you are given the third node with value 3,</span></a>
<a class="sourceLine" id="cb1-189" title="189"><span class="co">the linked list should become 1 -&gt; 2 -&gt; 4 after calling your function.</span></a>
<a class="sourceLine" id="cb1-190" title="190"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-191" title="191"><span class="im">import</span> unittest</a>
<a class="sourceLine" id="cb1-192" title="192"></a>
<a class="sourceLine" id="cb1-193" title="193"></a>
<a class="sourceLine" id="cb1-194" title="194"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-195" title="195">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x):</a>
<a class="sourceLine" id="cb1-196" title="196">        <span class="va">self</span>.val <span class="op">=</span> x</a>
<a class="sourceLine" id="cb1-197" title="197">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-198" title="198"></a>
<a class="sourceLine" id="cb1-199" title="199"></a>
<a class="sourceLine" id="cb1-200" title="200"><span class="kw">def</span> delete_node(node):</a>
<a class="sourceLine" id="cb1-201" title="201">    <span class="cf">if</span> node <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> node.<span class="bu">next</span> <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-202" title="202">        <span class="cf">raise</span> <span class="pp">ValueError</span></a>
<a class="sourceLine" id="cb1-203" title="203">    node.val <span class="op">=</span> node.<span class="bu">next</span>.val</a>
<a class="sourceLine" id="cb1-204" title="204">    node.<span class="bu">next</span> <span class="op">=</span> node.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-205" title="205"></a>
<a class="sourceLine" id="cb1-206" title="206"></a>
<a class="sourceLine" id="cb1-207" title="207"><span class="kw">class</span> TestSuite(unittest.TestCase):</a>
<a class="sourceLine" id="cb1-208" title="208">    <span class="kw">def</span> test_delete_node(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-209" title="209"></a>
<a class="sourceLine" id="cb1-210" title="210">        <span class="co"># make linkedlist 1 -&gt; 2 -&gt; 3 -&gt; 4</span></a>
<a class="sourceLine" id="cb1-211" title="211">        head <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-212" title="212">        curr <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-213" title="213">        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">6</span>):</a>
<a class="sourceLine" id="cb1-214" title="214">            curr.<span class="bu">next</span> <span class="op">=</span> Node(i)</a>
<a class="sourceLine" id="cb1-215" title="215">            curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-216" title="216"></a>
<a class="sourceLine" id="cb1-217" title="217">        <span class="co"># node3 = 3</span></a>
<a class="sourceLine" id="cb1-218" title="218">        node3 <span class="op">=</span> head.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-219" title="219"></a>
<a class="sourceLine" id="cb1-220" title="220">        <span class="co"># after delete_node =&gt; 1 -&gt; 2 -&gt; 4</span></a>
<a class="sourceLine" id="cb1-221" title="221">        delete_node(node3)</a>
<a class="sourceLine" id="cb1-222" title="222"></a>
<a class="sourceLine" id="cb1-223" title="223">        curr <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-224" title="224">        <span class="va">self</span>.assertEqual(<span class="dv">1</span>, curr.val)</a>
<a class="sourceLine" id="cb1-225" title="225"></a>
<a class="sourceLine" id="cb1-226" title="226">        curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-227" title="227">        <span class="va">self</span>.assertEqual(<span class="dv">2</span>, curr.val)</a>
<a class="sourceLine" id="cb1-228" title="228"></a>
<a class="sourceLine" id="cb1-229" title="229">        curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-230" title="230">        <span class="va">self</span>.assertEqual(<span class="dv">4</span>, curr.val)</a>
<a class="sourceLine" id="cb1-231" title="231"></a>
<a class="sourceLine" id="cb1-232" title="232">        curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-233" title="233">        <span class="va">self</span>.assertEqual(<span class="dv">5</span>, curr.val)</a>
<a class="sourceLine" id="cb1-234" title="234"></a>
<a class="sourceLine" id="cb1-235" title="235">        tail <span class="op">=</span> curr</a>
<a class="sourceLine" id="cb1-236" title="236">        <span class="va">self</span>.assertIsNone(tail.<span class="bu">next</span>)</a>
<a class="sourceLine" id="cb1-237" title="237"></a>
<a class="sourceLine" id="cb1-238" title="238">        <span class="va">self</span>.assertRaises(<span class="pp">ValueError</span>, delete_node, tail)</a>
<a class="sourceLine" id="cb1-239" title="239">        <span class="va">self</span>.assertRaises(<span class="pp">ValueError</span>, delete_node, tail.<span class="bu">next</span>)</a>
<a class="sourceLine" id="cb1-240" title="240"></a>
<a class="sourceLine" id="cb1-241" title="241"></a>
<a class="sourceLine" id="cb1-242" title="242"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-243" title="243"></a>
<a class="sourceLine" id="cb1-244" title="244">    unittest.main()</a>
<a class="sourceLine" id="cb1-245" title="245"></a>
<a class="sourceLine" id="cb1-246" title="246"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-247" title="247"><span class="co">    Given a linked list, find the first node of a cycle in it.</span></a>
<a class="sourceLine" id="cb1-248" title="248"><span class="co">    1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5 -&gt; 1  =&gt; 1</span></a>
<a class="sourceLine" id="cb1-249" title="249"><span class="co">    A -&gt; B -&gt; C -&gt; D -&gt; E -&gt; C  =&gt; C</span></a>
<a class="sourceLine" id="cb1-250" title="250"></a>
<a class="sourceLine" id="cb1-251" title="251"><span class="co">    Note: The solution is a direct implementation</span></a>
<a class="sourceLine" id="cb1-252" title="252"><span class="co">          Floyd&#39;s cycle-finding algorithm (Floyd&#39;s Tortoise and Hare).</span></a>
<a class="sourceLine" id="cb1-253" title="253"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-254" title="254"><span class="im">import</span> unittest</a>
<a class="sourceLine" id="cb1-255" title="255"></a>
<a class="sourceLine" id="cb1-256" title="256"></a>
<a class="sourceLine" id="cb1-257" title="257"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-258" title="258">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x):</a>
<a class="sourceLine" id="cb1-259" title="259">        <span class="va">self</span>.val <span class="op">=</span> x</a>
<a class="sourceLine" id="cb1-260" title="260">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-261" title="261"></a>
<a class="sourceLine" id="cb1-262" title="262"></a>
<a class="sourceLine" id="cb1-263" title="263"><span class="kw">def</span> first_cyclic_node(head):</a>
<a class="sourceLine" id="cb1-264" title="264">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-265" title="265"><span class="co">    :type head: Node</span></a>
<a class="sourceLine" id="cb1-266" title="266"><span class="co">    :rtype: Node</span></a>
<a class="sourceLine" id="cb1-267" title="267"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-268" title="268">    runner <span class="op">=</span> walker <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-269" title="269">    <span class="cf">while</span> runner <span class="kw">and</span> runner.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-270" title="270">        runner <span class="op">=</span> runner.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-271" title="271">        walker <span class="op">=</span> walker.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-272" title="272">        <span class="cf">if</span> runner <span class="kw">is</span> walker:</a>
<a class="sourceLine" id="cb1-273" title="273">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-274" title="274"></a>
<a class="sourceLine" id="cb1-275" title="275">    <span class="cf">if</span> runner <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> runner.<span class="bu">next</span> <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-276" title="276">        <span class="cf">return</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-277" title="277"></a>
<a class="sourceLine" id="cb1-278" title="278">    walker <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-279" title="279">    <span class="cf">while</span> runner <span class="kw">is</span> <span class="kw">not</span> walker:</a>
<a class="sourceLine" id="cb1-280" title="280">        runner, walker <span class="op">=</span> runner.<span class="bu">next</span>, walker.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-281" title="281">    <span class="cf">return</span> runner</a>
<a class="sourceLine" id="cb1-282" title="282"></a>
<a class="sourceLine" id="cb1-283" title="283"></a>
<a class="sourceLine" id="cb1-284" title="284"><span class="kw">class</span> TestSuite(unittest.TestCase):</a>
<a class="sourceLine" id="cb1-285" title="285">    <span class="kw">def</span> test_first_cyclic_node(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-286" title="286"></a>
<a class="sourceLine" id="cb1-287" title="287">        <span class="co"># create linked list =&gt; A -&gt; B -&gt; C -&gt; D -&gt; E -&gt; C</span></a>
<a class="sourceLine" id="cb1-288" title="288">        head <span class="op">=</span> Node(<span class="st">&quot;A&quot;</span>)</a>
<a class="sourceLine" id="cb1-289" title="289">        head.<span class="bu">next</span> <span class="op">=</span> Node(<span class="st">&quot;B&quot;</span>)</a>
<a class="sourceLine" id="cb1-290" title="290">        curr <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-291" title="291"></a>
<a class="sourceLine" id="cb1-292" title="292">        cyclic_node <span class="op">=</span> Node(<span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb1-293" title="293">        curr.<span class="bu">next</span> <span class="op">=</span> cyclic_node</a>
<a class="sourceLine" id="cb1-294" title="294"></a>
<a class="sourceLine" id="cb1-295" title="295">        curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-296" title="296">        curr.<span class="bu">next</span> <span class="op">=</span> Node(<span class="st">&quot;D&quot;</span>)</a>
<a class="sourceLine" id="cb1-297" title="297">        curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-298" title="298">        curr.<span class="bu">next</span> <span class="op">=</span> Node(<span class="st">&quot;E&quot;</span>)</a>
<a class="sourceLine" id="cb1-299" title="299">        curr <span class="op">=</span> curr.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-300" title="300">        curr.<span class="bu">next</span> <span class="op">=</span> cyclic_node</a>
<a class="sourceLine" id="cb1-301" title="301"></a>
<a class="sourceLine" id="cb1-302" title="302">        <span class="va">self</span>.assertEqual(<span class="st">&quot;C&quot;</span>, first_cyclic_node(head).val)</a>
<a class="sourceLine" id="cb1-303" title="303"></a>
<a class="sourceLine" id="cb1-304" title="304"></a>
<a class="sourceLine" id="cb1-305" title="305"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-306" title="306"></a>
<a class="sourceLine" id="cb1-307" title="307">    unittest.main()</a>
<a class="sourceLine" id="cb1-308" title="308"></a>
<a class="sourceLine" id="cb1-309" title="309"><span class="im">from</span> .reverse <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-310" title="310"><span class="im">from</span> .is_sorted <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-311" title="311"><span class="im">from</span> .remove_range <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-312" title="312"><span class="im">from</span> .swap_in_pairs <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-313" title="313"><span class="im">from</span> .rotate_list <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-314" title="314"><span class="im">from</span> .is_cyclic <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-315" title="315"><span class="im">from</span> .merge_two_list <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-316" title="316"><span class="im">from</span> .is_palindrome <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-317" title="317"><span class="im">from</span> .copy_random_pointer <span class="im">import</span> <span class="op">*</span></a>
<a class="sourceLine" id="cb1-318" title="318"></a>
<a class="sourceLine" id="cb1-319" title="319"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-320" title="320"><span class="co">   This function takes two lists and returns the node they have in common, if any.</span></a>
<a class="sourceLine" id="cb1-321" title="321"><span class="co">   In this example:</span></a>
<a class="sourceLine" id="cb1-322" title="322"><span class="co">   1 -&gt; 3 -&gt; 5</span></a>
<a class="sourceLine" id="cb1-323" title="323"><span class="co">               \</span></a>
<a class="sourceLine" id="cb1-324" title="324"><span class="co">                7 -&gt; 9 -&gt; 11</span></a>
<a class="sourceLine" id="cb1-325" title="325"><span class="co">               /</span></a>
<a class="sourceLine" id="cb1-326" title="326"><span class="co">   2 -&gt; 4 -&gt; 6</span></a>
<a class="sourceLine" id="cb1-327" title="327"><span class="co">   ...we would return 7.</span></a>
<a class="sourceLine" id="cb1-328" title="328"><span class="co">   Note that the node itself is the unique identifier, not the value of the node.</span></a>
<a class="sourceLine" id="cb1-329" title="329"><span class="co">   &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-330" title="330"><span class="im">import</span> unittest</a>
<a class="sourceLine" id="cb1-331" title="331"></a>
<a class="sourceLine" id="cb1-332" title="332"></a>
<a class="sourceLine" id="cb1-333" title="333"><span class="kw">class</span> Node(<span class="bu">object</span>):</a>
<a class="sourceLine" id="cb1-334" title="334">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, val<span class="op">=</span><span class="va">None</span>):</a>
<a class="sourceLine" id="cb1-335" title="335">        <span class="va">self</span>.val <span class="op">=</span> val</a>
<a class="sourceLine" id="cb1-336" title="336">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-337" title="337"></a>
<a class="sourceLine" id="cb1-338" title="338"></a>
<a class="sourceLine" id="cb1-339" title="339"><span class="kw">def</span> intersection(h1, h2):</a>
<a class="sourceLine" id="cb1-340" title="340"></a>
<a class="sourceLine" id="cb1-341" title="341">    count <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-342" title="342">    flag <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-343" title="343">    h1_orig <span class="op">=</span> h1</a>
<a class="sourceLine" id="cb1-344" title="344">    h2_orig <span class="op">=</span> h2</a>
<a class="sourceLine" id="cb1-345" title="345"></a>
<a class="sourceLine" id="cb1-346" title="346">    <span class="cf">while</span> h1 <span class="kw">or</span> h2:</a>
<a class="sourceLine" id="cb1-347" title="347">        count <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-348" title="348"></a>
<a class="sourceLine" id="cb1-349" title="349">        <span class="cf">if</span> <span class="kw">not</span> flag <span class="kw">and</span> (h1.<span class="bu">next</span> <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> h2.<span class="bu">next</span> <span class="kw">is</span> <span class="va">None</span>):</a>
<a class="sourceLine" id="cb1-350" title="350">            <span class="co"># We hit the end of one of the lists, set a flag for this</span></a>
<a class="sourceLine" id="cb1-351" title="351">            flag <span class="op">=</span> (count, h1.<span class="bu">next</span>, h2.<span class="bu">next</span>)</a>
<a class="sourceLine" id="cb1-352" title="352"></a>
<a class="sourceLine" id="cb1-353" title="353">        <span class="cf">if</span> h1:</a>
<a class="sourceLine" id="cb1-354" title="354">            h1 <span class="op">=</span> h1.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-355" title="355">        <span class="cf">if</span> h2:</a>
<a class="sourceLine" id="cb1-356" title="356">            h2 <span class="op">=</span> h2.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-357" title="357"></a>
<a class="sourceLine" id="cb1-358" title="358">    long_len <span class="op">=</span> count  <span class="co"># Mark the length of the longer of the two lists</span></a>
<a class="sourceLine" id="cb1-359" title="359">    short_len <span class="op">=</span> flag[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb1-360" title="360"></a>
<a class="sourceLine" id="cb1-361" title="361">    <span class="cf">if</span> flag[<span class="dv">1</span>] <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-362" title="362">        shorter <span class="op">=</span> h1_orig</a>
<a class="sourceLine" id="cb1-363" title="363">        longer <span class="op">=</span> h2_orig</a>
<a class="sourceLine" id="cb1-364" title="364">    <span class="cf">elif</span> flag[<span class="dv">2</span>] <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-365" title="365">        shorter <span class="op">=</span> h2_orig</a>
<a class="sourceLine" id="cb1-366" title="366">        longer <span class="op">=</span> h1_orig</a>
<a class="sourceLine" id="cb1-367" title="367"></a>
<a class="sourceLine" id="cb1-368" title="368">    <span class="cf">while</span> longer <span class="kw">and</span> shorter:</a>
<a class="sourceLine" id="cb1-369" title="369"></a>
<a class="sourceLine" id="cb1-370" title="370">        <span class="cf">while</span> long_len <span class="op">&gt;</span> short_len:</a>
<a class="sourceLine" id="cb1-371" title="371">            <span class="co"># force the longer of the two lists to &quot;catch up&quot;</span></a>
<a class="sourceLine" id="cb1-372" title="372">            longer <span class="op">=</span> longer.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-373" title="373">            long_len <span class="op">-=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-374" title="374"></a>
<a class="sourceLine" id="cb1-375" title="375">        <span class="cf">if</span> longer <span class="op">==</span> shorter:</a>
<a class="sourceLine" id="cb1-376" title="376">            <span class="co"># The nodes match, return the node</span></a>
<a class="sourceLine" id="cb1-377" title="377">            <span class="cf">return</span> longer</a>
<a class="sourceLine" id="cb1-378" title="378">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-379" title="379">            longer <span class="op">=</span> longer.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-380" title="380">            shorter <span class="op">=</span> shorter.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-381" title="381"></a>
<a class="sourceLine" id="cb1-382" title="382">    <span class="cf">return</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-383" title="383"></a>
<a class="sourceLine" id="cb1-384" title="384"></a>
<a class="sourceLine" id="cb1-385" title="385"><span class="kw">class</span> TestSuite(unittest.TestCase):</a>
<a class="sourceLine" id="cb1-386" title="386">    <span class="kw">def</span> test_intersection(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-387" title="387"></a>
<a class="sourceLine" id="cb1-388" title="388">        <span class="co"># create linked list as:</span></a>
<a class="sourceLine" id="cb1-389" title="389">        <span class="co"># 1 -&gt; 3 -&gt; 5</span></a>
<a class="sourceLine" id="cb1-390" title="390">        <span class="co">#            \</span></a>
<a class="sourceLine" id="cb1-391" title="391">        <span class="co">#             7 -&gt; 9 -&gt; 11</span></a>
<a class="sourceLine" id="cb1-392" title="392">        <span class="co">#            /</span></a>
<a class="sourceLine" id="cb1-393" title="393">        <span class="co"># 2 -&gt; 4 -&gt; 6</span></a>
<a class="sourceLine" id="cb1-394" title="394">        a1 <span class="op">=</span> Node(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-395" title="395">        b1 <span class="op">=</span> Node(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-396" title="396">        c1 <span class="op">=</span> Node(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-397" title="397">        d <span class="op">=</span> Node(<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb1-398" title="398">        a2 <span class="op">=</span> Node(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-399" title="399">        b2 <span class="op">=</span> Node(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-400" title="400">        c2 <span class="op">=</span> Node(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-401" title="401">        e <span class="op">=</span> Node(<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb1-402" title="402">        f <span class="op">=</span> Node(<span class="dv">11</span>)</a>
<a class="sourceLine" id="cb1-403" title="403"></a>
<a class="sourceLine" id="cb1-404" title="404">        a1.<span class="bu">next</span> <span class="op">=</span> b1</a>
<a class="sourceLine" id="cb1-405" title="405">        b1.<span class="bu">next</span> <span class="op">=</span> c1</a>
<a class="sourceLine" id="cb1-406" title="406">        c1.<span class="bu">next</span> <span class="op">=</span> d</a>
<a class="sourceLine" id="cb1-407" title="407">        a2.<span class="bu">next</span> <span class="op">=</span> b2</a>
<a class="sourceLine" id="cb1-408" title="408">        b2.<span class="bu">next</span> <span class="op">=</span> c2</a>
<a class="sourceLine" id="cb1-409" title="409">        c2.<span class="bu">next</span> <span class="op">=</span> d</a>
<a class="sourceLine" id="cb1-410" title="410">        d.<span class="bu">next</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb1-411" title="411">        e.<span class="bu">next</span> <span class="op">=</span> f</a>
<a class="sourceLine" id="cb1-412" title="412"></a>
<a class="sourceLine" id="cb1-413" title="413">        <span class="va">self</span>.assertEqual(<span class="dv">7</span>, intersection(a1, a2).val)</a>
<a class="sourceLine" id="cb1-414" title="414"></a>
<a class="sourceLine" id="cb1-415" title="415"></a>
<a class="sourceLine" id="cb1-416" title="416"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-417" title="417"></a>
<a class="sourceLine" id="cb1-418" title="418">    unittest.main()</a>
<a class="sourceLine" id="cb1-419" title="419"></a>
<a class="sourceLine" id="cb1-420" title="420"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-421" title="421"><span class="co">Given a linked list, determine if it has a cycle in it.</span></a>
<a class="sourceLine" id="cb1-422" title="422"></a>
<a class="sourceLine" id="cb1-423" title="423"><span class="co">Follow up:</span></a>
<a class="sourceLine" id="cb1-424" title="424"><span class="co">Can you solve it without using extra space?</span></a>
<a class="sourceLine" id="cb1-425" title="425"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-426" title="426"></a>
<a class="sourceLine" id="cb1-427" title="427"></a>
<a class="sourceLine" id="cb1-428" title="428"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-429" title="429">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x):</a>
<a class="sourceLine" id="cb1-430" title="430">        <span class="va">self</span>.val <span class="op">=</span> x</a>
<a class="sourceLine" id="cb1-431" title="431">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-432" title="432"></a>
<a class="sourceLine" id="cb1-433" title="433"></a>
<a class="sourceLine" id="cb1-434" title="434"><span class="kw">def</span> is_cyclic(head):</a>
<a class="sourceLine" id="cb1-435" title="435">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-436" title="436"><span class="co">    :type head: Node</span></a>
<a class="sourceLine" id="cb1-437" title="437"><span class="co">    :rtype: bool</span></a>
<a class="sourceLine" id="cb1-438" title="438"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-439" title="439">    <span class="cf">if</span> <span class="kw">not</span> head:</a>
<a class="sourceLine" id="cb1-440" title="440">        <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-441" title="441">    runner <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-442" title="442">    walker <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-443" title="443">    <span class="cf">while</span> runner.<span class="bu">next</span> <span class="kw">and</span> runner.<span class="bu">next</span>.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-444" title="444">        runner <span class="op">=</span> runner.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-445" title="445">        walker <span class="op">=</span> walker.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-446" title="446">        <span class="cf">if</span> runner <span class="op">==</span> walker:</a>
<a class="sourceLine" id="cb1-447" title="447">            <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-448" title="448">    <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-449" title="449"></a>
<a class="sourceLine" id="cb1-450" title="450"><span class="kw">def</span> is_palindrome(head):</a>
<a class="sourceLine" id="cb1-451" title="451">    <span class="cf">if</span> <span class="kw">not</span> head:</a>
<a class="sourceLine" id="cb1-452" title="452">        <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-453" title="453">    <span class="co"># split the list to two parts</span></a>
<a class="sourceLine" id="cb1-454" title="454">    fast, slow <span class="op">=</span> head.<span class="bu">next</span>, head</a>
<a class="sourceLine" id="cb1-455" title="455">    <span class="cf">while</span> fast <span class="kw">and</span> fast.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-456" title="456">        fast <span class="op">=</span> fast.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-457" title="457">        slow <span class="op">=</span> slow.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-458" title="458">    second <span class="op">=</span> slow.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-459" title="459">    slow.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span>  <span class="co"># Don&#39;t forget here! But forget still works!</span></a>
<a class="sourceLine" id="cb1-460" title="460">    <span class="co"># reverse the second part</span></a>
<a class="sourceLine" id="cb1-461" title="461">    node <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-462" title="462">    <span class="cf">while</span> second:</a>
<a class="sourceLine" id="cb1-463" title="463">        nxt <span class="op">=</span> second.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-464" title="464">        second.<span class="bu">next</span> <span class="op">=</span> node</a>
<a class="sourceLine" id="cb1-465" title="465">        node <span class="op">=</span> second</a>
<a class="sourceLine" id="cb1-466" title="466">        second <span class="op">=</span> nxt</a>
<a class="sourceLine" id="cb1-467" title="467">    <span class="co"># compare two parts</span></a>
<a class="sourceLine" id="cb1-468" title="468">    <span class="co"># second part has the same or one less node</span></a>
<a class="sourceLine" id="cb1-469" title="469">    <span class="cf">while</span> node:</a>
<a class="sourceLine" id="cb1-470" title="470">        <span class="cf">if</span> node.val <span class="op">!=</span> head.val:</a>
<a class="sourceLine" id="cb1-471" title="471">            <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-472" title="472">        node <span class="op">=</span> node.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-473" title="473">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-474" title="474">    <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-475" title="475"></a>
<a class="sourceLine" id="cb1-476" title="476"></a>
<a class="sourceLine" id="cb1-477" title="477"><span class="kw">def</span> is_palindrome_stack(head):</a>
<a class="sourceLine" id="cb1-478" title="478">    <span class="cf">if</span> <span class="kw">not</span> head <span class="kw">or</span> <span class="kw">not</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-479" title="479">        <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-480" title="480"></a>
<a class="sourceLine" id="cb1-481" title="481">    <span class="co"># 1. Get the midpoint (slow)</span></a>
<a class="sourceLine" id="cb1-482" title="482">    slow <span class="op">=</span> fast <span class="op">=</span> cur <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-483" title="483">    <span class="cf">while</span> fast <span class="kw">and</span> fast.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-484" title="484">        fast, slow <span class="op">=</span> fast.<span class="bu">next</span>.<span class="bu">next</span>, slow.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-485" title="485"></a>
<a class="sourceLine" id="cb1-486" title="486">    <span class="co"># 2. Push the second half into the stack</span></a>
<a class="sourceLine" id="cb1-487" title="487">    stack <span class="op">=</span> [slow.val]</a>
<a class="sourceLine" id="cb1-488" title="488">    <span class="cf">while</span> slow.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-489" title="489">        slow <span class="op">=</span> slow.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-490" title="490">        stack.append(slow.val)</a>
<a class="sourceLine" id="cb1-491" title="491"></a>
<a class="sourceLine" id="cb1-492" title="492">    <span class="co"># 3. Comparison</span></a>
<a class="sourceLine" id="cb1-493" title="493">    <span class="cf">while</span> stack:</a>
<a class="sourceLine" id="cb1-494" title="494">        <span class="cf">if</span> stack.pop() <span class="op">!=</span> cur.val:</a>
<a class="sourceLine" id="cb1-495" title="495">            <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-496" title="496">        cur <span class="op">=</span> cur.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-497" title="497"></a>
<a class="sourceLine" id="cb1-498" title="498">    <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-499" title="499"></a>
<a class="sourceLine" id="cb1-500" title="500"></a>
<a class="sourceLine" id="cb1-501" title="501"><span class="kw">def</span> is_palindrome_dict(head):</a>
<a class="sourceLine" id="cb1-502" title="502">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-503" title="503"><span class="co">    This function builds up a dictionary where the keys are the values of the list,</span></a>
<a class="sourceLine" id="cb1-504" title="504"><span class="co">    and the values are the positions at which these values occur in the list.</span></a>
<a class="sourceLine" id="cb1-505" title="505"><span class="co">    We then iterate over the dict and if there is more than one key with an odd</span></a>
<a class="sourceLine" id="cb1-506" title="506"><span class="co">    number of occurrences, bail out and return False.</span></a>
<a class="sourceLine" id="cb1-507" title="507"><span class="co">    Otherwise, we want to ensure that the positions of occurrence sum to the</span></a>
<a class="sourceLine" id="cb1-508" title="508"><span class="co">    value of the length of the list - 1, working from the outside of the list inward.</span></a>
<a class="sourceLine" id="cb1-509" title="509"><span class="co">    For example:</span></a>
<a class="sourceLine" id="cb1-510" title="510"><span class="co">    Input: 1 -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; 1</span></a>
<a class="sourceLine" id="cb1-511" title="511"><span class="co">    d = {1: [0,1,5,6], 2: [2,4], 3: [3]}</span></a>
<a class="sourceLine" id="cb1-512" title="512"><span class="co">    &#39;3&#39; is the middle outlier, 2+4=6, 0+6=6 and 5+1=6 so we have a palindrome.</span></a>
<a class="sourceLine" id="cb1-513" title="513"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-514" title="514">    <span class="cf">if</span> <span class="kw">not</span> head <span class="kw">or</span> <span class="kw">not</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-515" title="515">        <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-516" title="516">    d <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb1-517" title="517">    pos <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-518" title="518">    <span class="cf">while</span> head:</a>
<a class="sourceLine" id="cb1-519" title="519">        <span class="cf">if</span> head.val <span class="kw">in</span> d.keys():</a>
<a class="sourceLine" id="cb1-520" title="520">            d[head.val].append(pos)</a>
<a class="sourceLine" id="cb1-521" title="521">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-522" title="522">            d[head.val] <span class="op">=</span> [pos]</a>
<a class="sourceLine" id="cb1-523" title="523">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-524" title="524">        pos <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-525" title="525">    checksum <span class="op">=</span> pos <span class="op">-</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-526" title="526">    middle <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-527" title="527">    <span class="cf">for</span> v <span class="kw">in</span> d.values():</a>
<a class="sourceLine" id="cb1-528" title="528">        <span class="cf">if</span> <span class="bu">len</span>(v) <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-529" title="529">            middle <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-530" title="530">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-531" title="531">            step <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-532" title="532">            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(v)):</a>
<a class="sourceLine" id="cb1-533" title="533">                <span class="cf">if</span> v[i] <span class="op">+</span> v[<span class="bu">len</span>(v) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> step] <span class="op">!=</span> checksum:</a>
<a class="sourceLine" id="cb1-534" title="534">                    <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-535" title="535">                step <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-536" title="536">        <span class="cf">if</span> middle <span class="op">&gt;</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-537" title="537">            <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-538" title="538">    <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-539" title="539"></a>
<a class="sourceLine" id="cb1-540" title="540"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-541" title="541"><span class="co">Given a linked list, is_sort function returns true if the list is in sorted</span></a>
<a class="sourceLine" id="cb1-542" title="542"><span class="co">(increasing) order and return false otherwise. An empty list is considered</span></a>
<a class="sourceLine" id="cb1-543" title="543"><span class="co">to be sorted.</span></a>
<a class="sourceLine" id="cb1-544" title="544"></a>
<a class="sourceLine" id="cb1-545" title="545"><span class="co">For example:</span></a>
<a class="sourceLine" id="cb1-546" title="546"><span class="co">Null :List is sorted</span></a>
<a class="sourceLine" id="cb1-547" title="547"><span class="co">1 2 3 4 :List is sorted</span></a>
<a class="sourceLine" id="cb1-548" title="548"><span class="co">1 2 -1 3 :List is not sorted</span></a>
<a class="sourceLine" id="cb1-549" title="549"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-550" title="550"></a>
<a class="sourceLine" id="cb1-551" title="551"></a>
<a class="sourceLine" id="cb1-552" title="552"><span class="kw">def</span> is_sorted(head):</a>
<a class="sourceLine" id="cb1-553" title="553">    <span class="cf">if</span> <span class="kw">not</span> head:</a>
<a class="sourceLine" id="cb1-554" title="554">        <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-555" title="555">    current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-556" title="556">    <span class="cf">while</span> current.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-557" title="557">        <span class="cf">if</span> current.val <span class="op">&gt;</span> current.<span class="bu">next</span>.val:</a>
<a class="sourceLine" id="cb1-558" title="558">            <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-559" title="559">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-560" title="560">    <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb1-561" title="561"></a>
<a class="sourceLine" id="cb1-562" title="562"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-563" title="563">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, val<span class="op">=</span><span class="va">None</span>):</a>
<a class="sourceLine" id="cb1-564" title="564">        <span class="va">self</span>.val <span class="op">=</span> val</a>
<a class="sourceLine" id="cb1-565" title="565">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-566" title="566"></a>
<a class="sourceLine" id="cb1-567" title="567"></a>
<a class="sourceLine" id="cb1-568" title="568"><span class="kw">def</span> kth_to_last_eval(head, k):</a>
<a class="sourceLine" id="cb1-569" title="569">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-570" title="570"><span class="co">    This is a suboptimal, hacky method using eval(), which is not</span></a>
<a class="sourceLine" id="cb1-571" title="571"><span class="co">     safe for user input. We guard against danger by ensuring k in an int</span></a>
<a class="sourceLine" id="cb1-572" title="572"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-573" title="573">    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(k, <span class="bu">int</span>) <span class="kw">or</span> <span class="kw">not</span> head.val:</a>
<a class="sourceLine" id="cb1-574" title="574">        <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-575" title="575"></a>
<a class="sourceLine" id="cb1-576" title="576">    nexts <span class="op">=</span> <span class="st">&quot;.&quot;</span>.join([<span class="st">&quot;next&quot;</span> <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, k <span class="op">+</span> <span class="dv">1</span>)])</a>
<a class="sourceLine" id="cb1-577" title="577">    seeker <span class="op">=</span> <span class="bu">str</span>(<span class="st">&quot;.&quot;</span>.join([<span class="st">&quot;head&quot;</span>, nexts]))</a>
<a class="sourceLine" id="cb1-578" title="578"></a>
<a class="sourceLine" id="cb1-579" title="579">    <span class="cf">while</span> head:</a>
<a class="sourceLine" id="cb1-580" title="580">        <span class="cf">if</span> <span class="bu">eval</span>(seeker) <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-581" title="581">            <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-582" title="582">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-583" title="583">            head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-584" title="584"></a>
<a class="sourceLine" id="cb1-585" title="585">    <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-586" title="586"></a>
<a class="sourceLine" id="cb1-587" title="587"></a>
<a class="sourceLine" id="cb1-588" title="588"><span class="kw">def</span> kth_to_last_dict(head, k):</a>
<a class="sourceLine" id="cb1-589" title="589">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-590" title="590"><span class="co">    This is a brute force method where we keep a dict the size of the list</span></a>
<a class="sourceLine" id="cb1-591" title="591"><span class="co">    Then we check it for the value we need. If the key is not in the dict,</span></a>
<a class="sourceLine" id="cb1-592" title="592"><span class="co">    our and statement will short circuit and return False</span></a>
<a class="sourceLine" id="cb1-593" title="593"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-594" title="594">    <span class="cf">if</span> <span class="kw">not</span> (head <span class="kw">and</span> k <span class="op">&gt;</span> <span class="dv">-1</span>):</a>
<a class="sourceLine" id="cb1-595" title="595">        <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-596" title="596">    d <span class="op">=</span> <span class="bu">dict</span>()</a>
<a class="sourceLine" id="cb1-597" title="597">    count <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-598" title="598">    <span class="cf">while</span> head:</a>
<a class="sourceLine" id="cb1-599" title="599">        d[count] <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-600" title="600">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-601" title="601">        count <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-602" title="602">    <span class="cf">return</span> <span class="bu">len</span>(d) <span class="op">-</span> k <span class="kw">in</span> d <span class="kw">and</span> d[<span class="bu">len</span>(d) <span class="op">-</span> k]</a>
<a class="sourceLine" id="cb1-603" title="603"></a>
<a class="sourceLine" id="cb1-604" title="604"></a>
<a class="sourceLine" id="cb1-605" title="605"><span class="kw">def</span> kth_to_last(head, k):</a>
<a class="sourceLine" id="cb1-606" title="606">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-607" title="607"><span class="co">    This is an optimal method using iteration.</span></a>
<a class="sourceLine" id="cb1-608" title="608"><span class="co">    We move p1 k steps ahead into the list.</span></a>
<a class="sourceLine" id="cb1-609" title="609"><span class="co">    Then we move p1 and p2 together until p1 hits the end.</span></a>
<a class="sourceLine" id="cb1-610" title="610"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-611" title="611">    <span class="cf">if</span> <span class="kw">not</span> (head <span class="kw">or</span> k <span class="op">&gt;</span> <span class="dv">-1</span>):</a>
<a class="sourceLine" id="cb1-612" title="612">        <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb1-613" title="613">    p1 <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-614" title="614">    p2 <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-615" title="615">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, k <span class="op">+</span> <span class="dv">1</span>):</a>
<a class="sourceLine" id="cb1-616" title="616">        <span class="cf">if</span> p1 <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-617" title="617">            <span class="co"># Went too far, k is not valid</span></a>
<a class="sourceLine" id="cb1-618" title="618">            <span class="cf">raise</span> <span class="pp">IndexError</span></a>
<a class="sourceLine" id="cb1-619" title="619">        p1 <span class="op">=</span> p1.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-620" title="620">    <span class="cf">while</span> p1:</a>
<a class="sourceLine" id="cb1-621" title="621">        p1 <span class="op">=</span> p1.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-622" title="622">        p2 <span class="op">=</span> p2.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-623" title="623">    <span class="cf">return</span> p2</a>
<a class="sourceLine" id="cb1-624" title="624"></a>
<a class="sourceLine" id="cb1-625" title="625"></a>
<a class="sourceLine" id="cb1-626" title="626"><span class="kw">def</span> print_linked_list(head):</a>
<a class="sourceLine" id="cb1-627" title="627">    string <span class="op">=</span> <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-628" title="628">    <span class="cf">while</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-629" title="629">        string <span class="op">+=</span> head.val <span class="op">+</span> <span class="st">&quot; -&gt; &quot;</span></a>
<a class="sourceLine" id="cb1-630" title="630">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-631" title="631">    string <span class="op">+=</span> head.val</a>
<a class="sourceLine" id="cb1-632" title="632">    <span class="bu">print</span>(string)</a>
<a class="sourceLine" id="cb1-633" title="633"></a>
<a class="sourceLine" id="cb1-634" title="634"></a>
<a class="sourceLine" id="cb1-635" title="635"><span class="kw">def</span> test():</a>
<a class="sourceLine" id="cb1-636" title="636">    <span class="co"># def make_test_li</span></a>
<a class="sourceLine" id="cb1-637" title="637">    <span class="co"># A A B C D C F G</span></a>
<a class="sourceLine" id="cb1-638" title="638">    a1 <span class="op">=</span> Node(<span class="st">&quot;A&quot;</span>)</a>
<a class="sourceLine" id="cb1-639" title="639">    a2 <span class="op">=</span> Node(<span class="st">&quot;A&quot;</span>)</a>
<a class="sourceLine" id="cb1-640" title="640">    b <span class="op">=</span> Node(<span class="st">&quot;B&quot;</span>)</a>
<a class="sourceLine" id="cb1-641" title="641">    c1 <span class="op">=</span> Node(<span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb1-642" title="642">    d <span class="op">=</span> Node(<span class="st">&quot;D&quot;</span>)</a>
<a class="sourceLine" id="cb1-643" title="643">    c2 <span class="op">=</span> Node(<span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb1-644" title="644">    f <span class="op">=</span> Node(<span class="st">&quot;F&quot;</span>)</a>
<a class="sourceLine" id="cb1-645" title="645">    g <span class="op">=</span> Node(<span class="st">&quot;G&quot;</span>)</a>
<a class="sourceLine" id="cb1-646" title="646">    a1.<span class="bu">next</span> <span class="op">=</span> a2</a>
<a class="sourceLine" id="cb1-647" title="647">    a2.<span class="bu">next</span> <span class="op">=</span> b</a>
<a class="sourceLine" id="cb1-648" title="648">    b.<span class="bu">next</span> <span class="op">=</span> c1</a>
<a class="sourceLine" id="cb1-649" title="649">    c1.<span class="bu">next</span> <span class="op">=</span> d</a>
<a class="sourceLine" id="cb1-650" title="650">    d.<span class="bu">next</span> <span class="op">=</span> c2</a>
<a class="sourceLine" id="cb1-651" title="651">    c2.<span class="bu">next</span> <span class="op">=</span> f</a>
<a class="sourceLine" id="cb1-652" title="652">    f.<span class="bu">next</span> <span class="op">=</span> g</a>
<a class="sourceLine" id="cb1-653" title="653">    print_linked_list(a1)</a>
<a class="sourceLine" id="cb1-654" title="654"></a>
<a class="sourceLine" id="cb1-655" title="655">    <span class="co"># test kth_to_last_eval</span></a>
<a class="sourceLine" id="cb1-656" title="656">    kth <span class="op">=</span> kth_to_last_eval(a1, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-657" title="657">    <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb1-658" title="658">        <span class="cf">assert</span> kth.val <span class="op">==</span> <span class="st">&quot;D&quot;</span></a>
<a class="sourceLine" id="cb1-659" title="659">    <span class="cf">except</span> <span class="pp">AssertionError</span> <span class="im">as</span> e:</a>
<a class="sourceLine" id="cb1-660" title="660">        e.args <span class="op">+=</span> (<span class="st">&quot;Expecting D, got </span><span class="sc">%s</span><span class="st">&quot;</span> <span class="op">%</span> kth.val,)</a>
<a class="sourceLine" id="cb1-661" title="661">        <span class="cf">raise</span></a>
<a class="sourceLine" id="cb1-662" title="662"></a>
<a class="sourceLine" id="cb1-663" title="663">    <span class="co"># test kth_to_last_dict</span></a>
<a class="sourceLine" id="cb1-664" title="664">    kth <span class="op">=</span> kth_to_last_dict(a1, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-665" title="665">    <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb1-666" title="666">        <span class="cf">assert</span> kth.val <span class="op">==</span> <span class="st">&quot;D&quot;</span></a>
<a class="sourceLine" id="cb1-667" title="667">    <span class="cf">except</span> <span class="pp">AssertionError</span> <span class="im">as</span> e:</a>
<a class="sourceLine" id="cb1-668" title="668">        e.args <span class="op">+=</span> (<span class="st">&quot;Expecting D, got </span><span class="sc">%s</span><span class="st">&quot;</span> <span class="op">%</span> kth.val,)</a>
<a class="sourceLine" id="cb1-669" title="669">        <span class="cf">raise</span></a>
<a class="sourceLine" id="cb1-670" title="670"></a>
<a class="sourceLine" id="cb1-671" title="671">    <span class="co"># test kth_to_last</span></a>
<a class="sourceLine" id="cb1-672" title="672">    kth <span class="op">=</span> kth_to_last(a1, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1-673" title="673">    <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb1-674" title="674">        <span class="cf">assert</span> kth.val <span class="op">==</span> <span class="st">&quot;D&quot;</span></a>
<a class="sourceLine" id="cb1-675" title="675">    <span class="cf">except</span> <span class="pp">AssertionError</span> <span class="im">as</span> e:</a>
<a class="sourceLine" id="cb1-676" title="676">        e.args <span class="op">+=</span> (<span class="st">&quot;Expecting D, got </span><span class="sc">%s</span><span class="st">&quot;</span> <span class="op">%</span> kth.val,)</a>
<a class="sourceLine" id="cb1-677" title="677">        <span class="cf">raise</span></a>
<a class="sourceLine" id="cb1-678" title="678">    <span class="bu">print</span>(<span class="st">&quot;all passed.&quot;</span>)</a>
<a class="sourceLine" id="cb1-679" title="679"></a>
<a class="sourceLine" id="cb1-680" title="680"></a>
<a class="sourceLine" id="cb1-681" title="681"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-682" title="682">    test()</a>
<a class="sourceLine" id="cb1-683" title="683"></a>
<a class="sourceLine" id="cb1-684" title="684"><span class="co"># Pros</span></a>
<a class="sourceLine" id="cb1-685" title="685"><span class="co"># Linked Lists have constant-time insertions and deletions in any position,</span></a>
<a class="sourceLine" id="cb1-686" title="686"><span class="co"># in comparison, arrays require O(n) time to do the same thing.</span></a>
<a class="sourceLine" id="cb1-687" title="687"><span class="co"># Linked lists can continue to expand without having to specify</span></a>
<a class="sourceLine" id="cb1-688" title="688"><span class="co"># their size ahead of time (remember our lectures on Array sizing</span></a>
<a class="sourceLine" id="cb1-689" title="689"><span class="co"># from the Array Sequence section of the course!)</span></a>
<a class="sourceLine" id="cb1-690" title="690"></a>
<a class="sourceLine" id="cb1-691" title="691"><span class="co"># Cons</span></a>
<a class="sourceLine" id="cb1-692" title="692"><span class="co"># To access an element in a linked list, you need to take O(k) time</span></a>
<a class="sourceLine" id="cb1-693" title="693"><span class="co"># to go from the head of the list to the kth element.</span></a>
<a class="sourceLine" id="cb1-694" title="694"><span class="co"># In contrast, arrays have constant time operations to access</span></a>
<a class="sourceLine" id="cb1-695" title="695"><span class="co"># elements in an array.</span></a>
<a class="sourceLine" id="cb1-696" title="696"></a>
<a class="sourceLine" id="cb1-697" title="697"></a>
<a class="sourceLine" id="cb1-698" title="698"><span class="kw">class</span> DoublyLinkedListNode(<span class="bu">object</span>):</a>
<a class="sourceLine" id="cb1-699" title="699">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, value):</a>
<a class="sourceLine" id="cb1-700" title="700">        <span class="va">self</span>.value <span class="op">=</span> value</a>
<a class="sourceLine" id="cb1-701" title="701">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-702" title="702">        <span class="va">self</span>.prev <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-703" title="703"></a>
<a class="sourceLine" id="cb1-704" title="704"></a>
<a class="sourceLine" id="cb1-705" title="705"><span class="kw">class</span> SinglyLinkedListNode(<span class="bu">object</span>):</a>
<a class="sourceLine" id="cb1-706" title="706">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, value):</a>
<a class="sourceLine" id="cb1-707" title="707">        <span class="va">self</span>.value <span class="op">=</span> value</a>
<a class="sourceLine" id="cb1-708" title="708">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-709" title="709"></a>
<a class="sourceLine" id="cb1-710" title="710"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-711" title="711"><span class="co">Merge two sorted linked lists and return it as a new list. The new list should</span></a>
<a class="sourceLine" id="cb1-712" title="712"><span class="co">be made by splicing together the nodes of the first two lists.</span></a>
<a class="sourceLine" id="cb1-713" title="713"></a>
<a class="sourceLine" id="cb1-714" title="714"><span class="co">For example:</span></a>
<a class="sourceLine" id="cb1-715" title="715"><span class="co">Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4</span></a>
<a class="sourceLine" id="cb1-716" title="716"><span class="co">Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</span></a>
<a class="sourceLine" id="cb1-717" title="717"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-718" title="718"></a>
<a class="sourceLine" id="cb1-719" title="719"></a>
<a class="sourceLine" id="cb1-720" title="720"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-721" title="721">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x):</a>
<a class="sourceLine" id="cb1-722" title="722">        <span class="va">self</span>.val <span class="op">=</span> x</a>
<a class="sourceLine" id="cb1-723" title="723">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-724" title="724"></a>
<a class="sourceLine" id="cb1-725" title="725"></a>
<a class="sourceLine" id="cb1-726" title="726"><span class="kw">def</span> merge_two_list(l1, l2):</a>
<a class="sourceLine" id="cb1-727" title="727">    ret <span class="op">=</span> cur <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-728" title="728">    <span class="cf">while</span> l1 <span class="kw">and</span> l2:</a>
<a class="sourceLine" id="cb1-729" title="729">        <span class="cf">if</span> l1.val <span class="op">&lt;</span> l2.val:</a>
<a class="sourceLine" id="cb1-730" title="730">            cur.<span class="bu">next</span> <span class="op">=</span> l1</a>
<a class="sourceLine" id="cb1-731" title="731">            l1 <span class="op">=</span> l1.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-732" title="732">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-733" title="733">            cur.<span class="bu">next</span> <span class="op">=</span> l2</a>
<a class="sourceLine" id="cb1-734" title="734">            l2 <span class="op">=</span> l2.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-735" title="735">        cur <span class="op">=</span> cur.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-736" title="736">    cur.<span class="bu">next</span> <span class="op">=</span> l1 <span class="kw">or</span> l2</a>
<a class="sourceLine" id="cb1-737" title="737">    <span class="cf">return</span> ret.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-738" title="738"></a>
<a class="sourceLine" id="cb1-739" title="739"></a>
<a class="sourceLine" id="cb1-740" title="740"><span class="co"># recursively</span></a>
<a class="sourceLine" id="cb1-741" title="741"><span class="kw">def</span> merge_two_list_recur(l1, l2):</a>
<a class="sourceLine" id="cb1-742" title="742">    <span class="cf">if</span> <span class="kw">not</span> l1 <span class="kw">or</span> <span class="kw">not</span> l2:</a>
<a class="sourceLine" id="cb1-743" title="743">        <span class="cf">return</span> l1 <span class="kw">or</span> l2</a>
<a class="sourceLine" id="cb1-744" title="744">    <span class="cf">if</span> l1.val <span class="op">&lt;</span> l2.val:</a>
<a class="sourceLine" id="cb1-745" title="745">        l1.<span class="bu">next</span> <span class="op">=</span> merge_two_list_recur(l1.<span class="bu">next</span>, l2)</a>
<a class="sourceLine" id="cb1-746" title="746">        <span class="cf">return</span> l1</a>
<a class="sourceLine" id="cb1-747" title="747">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-748" title="748">        l2.<span class="bu">next</span> <span class="op">=</span> merge_two_list_recur(l1, l2.<span class="bu">next</span>)</a>
<a class="sourceLine" id="cb1-749" title="749">        <span class="cf">return</span> l2</a>
<a class="sourceLine" id="cb1-750" title="750"></a>
<a class="sourceLine" id="cb1-751" title="751"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-752" title="752"><span class="co">Write code to partition a linked list around a value x, such that all nodes less</span></a>
<a class="sourceLine" id="cb1-753" title="753"><span class="co">than x come before all nodes greater than or equal to x.  If x is contained</span></a>
<a class="sourceLine" id="cb1-754" title="754"><span class="co">within the list, the values of x only need to be after the elements less than x.</span></a>
<a class="sourceLine" id="cb1-755" title="755"><span class="co">The partition element x can appear anywhere in the &quot;right partition&quot;;</span></a>
<a class="sourceLine" id="cb1-756" title="756"><span class="co">it does not need to appear between the left and right partitions.</span></a>
<a class="sourceLine" id="cb1-757" title="757"></a>
<a class="sourceLine" id="cb1-758" title="758"><span class="co">3 -&gt; 5 -&gt; 8 -&gt; 5 -&gt; 10 -&gt; 2 -&gt; 1 [partition=5]</span></a>
<a class="sourceLine" id="cb1-759" title="759"><span class="co">3 -&gt; 1 -&gt; 2 -&gt; 10 -&gt; 5 -&gt; 5 -&gt; 8</span></a>
<a class="sourceLine" id="cb1-760" title="760"></a>
<a class="sourceLine" id="cb1-761" title="761"><span class="co">We assume the values of all linked list nodes are int and that x in an int.</span></a>
<a class="sourceLine" id="cb1-762" title="762"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-763" title="763"></a>
<a class="sourceLine" id="cb1-764" title="764"></a>
<a class="sourceLine" id="cb1-765" title="765"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-766" title="766">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, val<span class="op">=</span><span class="va">None</span>):</a>
<a class="sourceLine" id="cb1-767" title="767">        <span class="va">self</span>.val <span class="op">=</span> <span class="bu">int</span>(val)</a>
<a class="sourceLine" id="cb1-768" title="768">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-769" title="769"></a>
<a class="sourceLine" id="cb1-770" title="770"></a>
<a class="sourceLine" id="cb1-771" title="771"><span class="kw">def</span> print_linked_list(head):</a>
<a class="sourceLine" id="cb1-772" title="772">    string <span class="op">=</span> <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-773" title="773">    <span class="cf">while</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-774" title="774">        string <span class="op">+=</span> <span class="bu">str</span>(head.val) <span class="op">+</span> <span class="st">&quot; -&gt; &quot;</span></a>
<a class="sourceLine" id="cb1-775" title="775">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-776" title="776">    string <span class="op">+=</span> <span class="bu">str</span>(head.val)</a>
<a class="sourceLine" id="cb1-777" title="777">    <span class="bu">print</span>(string)</a>
<a class="sourceLine" id="cb1-778" title="778"></a>
<a class="sourceLine" id="cb1-779" title="779"></a>
<a class="sourceLine" id="cb1-780" title="780"><span class="kw">def</span> partition(head, x):</a>
<a class="sourceLine" id="cb1-781" title="781">    left <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-782" title="782">    right <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-783" title="783">    prev <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-784" title="784">    current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-785" title="785">    <span class="cf">while</span> current:</a>
<a class="sourceLine" id="cb1-786" title="786">        <span class="cf">if</span> <span class="bu">int</span>(current.val) <span class="op">&gt;=</span> x:</a>
<a class="sourceLine" id="cb1-787" title="787">            <span class="cf">if</span> <span class="kw">not</span> right:</a>
<a class="sourceLine" id="cb1-788" title="788">                right <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-789" title="789">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-790" title="790">            <span class="cf">if</span> <span class="kw">not</span> left:</a>
<a class="sourceLine" id="cb1-791" title="791">                left <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-792" title="792">            <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-793" title="793">                prev.<span class="bu">next</span> <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-794" title="794">                left.<span class="bu">next</span> <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-795" title="795">                left <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-796" title="796">                left.<span class="bu">next</span> <span class="op">=</span> right</a>
<a class="sourceLine" id="cb1-797" title="797">        <span class="cf">if</span> prev <span class="kw">and</span> prev.<span class="bu">next</span> <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-798" title="798">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-799" title="799">        <span class="co"># cache previous value in case it needs to be pointed elsewhere</span></a>
<a class="sourceLine" id="cb1-800" title="800">        prev <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-801" title="801">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-802" title="802"></a>
<a class="sourceLine" id="cb1-803" title="803"></a>
<a class="sourceLine" id="cb1-804" title="804"><span class="kw">def</span> test():</a>
<a class="sourceLine" id="cb1-805" title="805">    a <span class="op">=</span> Node(<span class="st">&quot;3&quot;</span>)</a>
<a class="sourceLine" id="cb1-806" title="806">    b <span class="op">=</span> Node(<span class="st">&quot;5&quot;</span>)</a>
<a class="sourceLine" id="cb1-807" title="807">    c <span class="op">=</span> Node(<span class="st">&quot;8&quot;</span>)</a>
<a class="sourceLine" id="cb1-808" title="808">    d <span class="op">=</span> Node(<span class="st">&quot;5&quot;</span>)</a>
<a class="sourceLine" id="cb1-809" title="809">    e <span class="op">=</span> Node(<span class="st">&quot;10&quot;</span>)</a>
<a class="sourceLine" id="cb1-810" title="810">    f <span class="op">=</span> Node(<span class="st">&quot;2&quot;</span>)</a>
<a class="sourceLine" id="cb1-811" title="811">    g <span class="op">=</span> Node(<span class="st">&quot;1&quot;</span>)</a>
<a class="sourceLine" id="cb1-812" title="812"></a>
<a class="sourceLine" id="cb1-813" title="813">    a.<span class="bu">next</span> <span class="op">=</span> b</a>
<a class="sourceLine" id="cb1-814" title="814">    b.<span class="bu">next</span> <span class="op">=</span> c</a>
<a class="sourceLine" id="cb1-815" title="815">    c.<span class="bu">next</span> <span class="op">=</span> d</a>
<a class="sourceLine" id="cb1-816" title="816">    d.<span class="bu">next</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb1-817" title="817">    e.<span class="bu">next</span> <span class="op">=</span> f</a>
<a class="sourceLine" id="cb1-818" title="818">    f.<span class="bu">next</span> <span class="op">=</span> g</a>
<a class="sourceLine" id="cb1-819" title="819"></a>
<a class="sourceLine" id="cb1-820" title="820">    print_linked_list(a)</a>
<a class="sourceLine" id="cb1-821" title="821">    partition(a, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-822" title="822">    print_linked_list(a)</a>
<a class="sourceLine" id="cb1-823" title="823"></a>
<a class="sourceLine" id="cb1-824" title="824"></a>
<a class="sourceLine" id="cb1-825" title="825"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-826" title="826">    test()</a>
<a class="sourceLine" id="cb1-827" title="827"></a>
<a class="sourceLine" id="cb1-828" title="828"><span class="kw">class</span> Node:</a>
<a class="sourceLine" id="cb1-829" title="829">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, val<span class="op">=</span><span class="va">None</span>):</a>
<a class="sourceLine" id="cb1-830" title="830">        <span class="va">self</span>.val <span class="op">=</span> val</a>
<a class="sourceLine" id="cb1-831" title="831">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-832" title="832"></a>
<a class="sourceLine" id="cb1-833" title="833"></a>
<a class="sourceLine" id="cb1-834" title="834"><span class="kw">def</span> remove_dups(head):</a>
<a class="sourceLine" id="cb1-835" title="835">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-836" title="836"><span class="co">    Time Complexity: O(N)</span></a>
<a class="sourceLine" id="cb1-837" title="837"><span class="co">    Space Complexity: O(N)</span></a>
<a class="sourceLine" id="cb1-838" title="838"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-839" title="839">    hashset <span class="op">=</span> <span class="bu">set</span>()</a>
<a class="sourceLine" id="cb1-840" title="840">    prev <span class="op">=</span> Node()</a>
<a class="sourceLine" id="cb1-841" title="841">    <span class="cf">while</span> head:</a>
<a class="sourceLine" id="cb1-842" title="842">        <span class="cf">if</span> head.val <span class="kw">in</span> hashset:</a>
<a class="sourceLine" id="cb1-843" title="843">            prev.<span class="bu">next</span> <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-844" title="844">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-845" title="845">            hashset.add(head.val)</a>
<a class="sourceLine" id="cb1-846" title="846">            prev <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-847" title="847">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-848" title="848"></a>
<a class="sourceLine" id="cb1-849" title="849"></a>
<a class="sourceLine" id="cb1-850" title="850"><span class="kw">def</span> remove_dups_wothout_set(head):</a>
<a class="sourceLine" id="cb1-851" title="851">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-852" title="852"><span class="co">    Time Complexity: O(N^2)</span></a>
<a class="sourceLine" id="cb1-853" title="853"><span class="co">    Space Complexity: O(1)</span></a>
<a class="sourceLine" id="cb1-854" title="854"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-855" title="855">    current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-856" title="856">    <span class="cf">while</span> current:</a>
<a class="sourceLine" id="cb1-857" title="857">        runner <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-858" title="858">        <span class="cf">while</span> runner.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-859" title="859">            <span class="cf">if</span> runner.<span class="bu">next</span>.val <span class="op">==</span> current.val:</a>
<a class="sourceLine" id="cb1-860" title="860">                runner.<span class="bu">next</span> <span class="op">=</span> runner.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-861" title="861">            <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-862" title="862">                runner <span class="op">=</span> runner.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-863" title="863">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-864" title="864"></a>
<a class="sourceLine" id="cb1-865" title="865"></a>
<a class="sourceLine" id="cb1-866" title="866"><span class="kw">def</span> print_linked_list(head):</a>
<a class="sourceLine" id="cb1-867" title="867">    string <span class="op">=</span> <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-868" title="868">    <span class="cf">while</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-869" title="869">        string <span class="op">+=</span> head.val <span class="op">+</span> <span class="st">&quot; -&gt; &quot;</span></a>
<a class="sourceLine" id="cb1-870" title="870">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-871" title="871">    string <span class="op">+=</span> head.val</a>
<a class="sourceLine" id="cb1-872" title="872">    <span class="bu">print</span>(string)</a>
<a class="sourceLine" id="cb1-873" title="873"></a>
<a class="sourceLine" id="cb1-874" title="874"></a>
<a class="sourceLine" id="cb1-875" title="875"><span class="co"># A A B C D C F G</span></a>
<a class="sourceLine" id="cb1-876" title="876"></a>
<a class="sourceLine" id="cb1-877" title="877">a1 <span class="op">=</span> Node(<span class="st">&quot;A&quot;</span>)</a>
<a class="sourceLine" id="cb1-878" title="878">a2 <span class="op">=</span> Node(<span class="st">&quot;A&quot;</span>)</a>
<a class="sourceLine" id="cb1-879" title="879">b <span class="op">=</span> Node(<span class="st">&quot;B&quot;</span>)</a>
<a class="sourceLine" id="cb1-880" title="880">c1 <span class="op">=</span> Node(<span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb1-881" title="881">d <span class="op">=</span> Node(<span class="st">&quot;D&quot;</span>)</a>
<a class="sourceLine" id="cb1-882" title="882">c2 <span class="op">=</span> Node(<span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb1-883" title="883">f <span class="op">=</span> Node(<span class="st">&quot;F&quot;</span>)</a>
<a class="sourceLine" id="cb1-884" title="884">g <span class="op">=</span> Node(<span class="st">&quot;G&quot;</span>)</a>
<a class="sourceLine" id="cb1-885" title="885"></a>
<a class="sourceLine" id="cb1-886" title="886">a1.<span class="bu">next</span> <span class="op">=</span> a2</a>
<a class="sourceLine" id="cb1-887" title="887">a2.<span class="bu">next</span> <span class="op">=</span> b</a>
<a class="sourceLine" id="cb1-888" title="888">b.<span class="bu">next</span> <span class="op">=</span> c1</a>
<a class="sourceLine" id="cb1-889" title="889">c1.<span class="bu">next</span> <span class="op">=</span> d</a>
<a class="sourceLine" id="cb1-890" title="890">d.<span class="bu">next</span> <span class="op">=</span> c2</a>
<a class="sourceLine" id="cb1-891" title="891">c2.<span class="bu">next</span> <span class="op">=</span> f</a>
<a class="sourceLine" id="cb1-892" title="892">f.<span class="bu">next</span> <span class="op">=</span> g</a>
<a class="sourceLine" id="cb1-893" title="893"></a>
<a class="sourceLine" id="cb1-894" title="894">remove_dups(a1)</a>
<a class="sourceLine" id="cb1-895" title="895">print_linked_list(a1)</a>
<a class="sourceLine" id="cb1-896" title="896">remove_dups_wothout_set(a1)</a>
<a class="sourceLine" id="cb1-897" title="897">print_linked_list(a1)</a>
<a class="sourceLine" id="cb1-898" title="898"></a>
<a class="sourceLine" id="cb1-899" title="899"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-900" title="900"><span class="co">Given a linked list, remove_range function accepts a starting and ending index</span></a>
<a class="sourceLine" id="cb1-901" title="901"><span class="co">as parameters and removes the elements at those indexes (inclusive) from the list</span></a>
<a class="sourceLine" id="cb1-902" title="902"></a>
<a class="sourceLine" id="cb1-903" title="903"><span class="co">For example:</span></a>
<a class="sourceLine" id="cb1-904" title="904"><span class="co">List: [8, 13, 17, 4, 9, 12, 98, 41, 7, 23, 0, 92]</span></a>
<a class="sourceLine" id="cb1-905" title="905"><span class="co">remove_range(list, 3, 8);</span></a>
<a class="sourceLine" id="cb1-906" title="906"><span class="co">List becomes: [8, 13, 17, 23, 0, 92]</span></a>
<a class="sourceLine" id="cb1-907" title="907"></a>
<a class="sourceLine" id="cb1-908" title="908"><span class="co">legal range of the list (0 &lt; start index &lt; end index &lt; size of list).</span></a>
<a class="sourceLine" id="cb1-909" title="909"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-910" title="910"></a>
<a class="sourceLine" id="cb1-911" title="911"></a>
<a class="sourceLine" id="cb1-912" title="912"><span class="kw">def</span> remove_range(head, start, end):</a>
<a class="sourceLine" id="cb1-913" title="913">    <span class="cf">assert</span> start <span class="op">&lt;=</span> end</a>
<a class="sourceLine" id="cb1-914" title="914">    <span class="co"># Case: remove node at head</span></a>
<a class="sourceLine" id="cb1-915" title="915">    <span class="cf">if</span> start <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-916" title="916">        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, end <span class="op">+</span> <span class="dv">1</span>):</a>
<a class="sourceLine" id="cb1-917" title="917">            <span class="cf">if</span> head <span class="op">!=</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-918" title="918">                head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-919" title="919">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-920" title="920">        current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-921" title="921">        <span class="co"># Move pointer to start position</span></a>
<a class="sourceLine" id="cb1-922" title="922">        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, start <span class="op">-</span> <span class="dv">1</span>):</a>
<a class="sourceLine" id="cb1-923" title="923">            current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-924" title="924">        <span class="co"># Remove data until the end</span></a>
<a class="sourceLine" id="cb1-925" title="925">        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, end <span class="op">-</span> start <span class="op">+</span> <span class="dv">1</span>):</a>
<a class="sourceLine" id="cb1-926" title="926">            <span class="cf">if</span> current <span class="op">!=</span> <span class="va">None</span> <span class="kw">and</span> current.<span class="bu">next</span> <span class="op">!=</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-927" title="927">                current.<span class="bu">next</span> <span class="op">=</span> current.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-928" title="928">    <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-929" title="929"></a>
<a class="sourceLine" id="cb1-930" title="930"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-931" title="931"><span class="co">Reverse a singly linked list. For example:</span></a>
<a class="sourceLine" id="cb1-932" title="932"></a>
<a class="sourceLine" id="cb1-933" title="933"><span class="co">1 --&gt; 2 --&gt; 3 --&gt; 4</span></a>
<a class="sourceLine" id="cb1-934" title="934"><span class="co">After reverse:</span></a>
<a class="sourceLine" id="cb1-935" title="935"><span class="co">4 --&gt; 3 --&gt; 2 --&gt; 1</span></a>
<a class="sourceLine" id="cb1-936" title="936"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-937" title="937"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-938" title="938"><span class="co"># Iterative solution</span></a>
<a class="sourceLine" id="cb1-939" title="939"><span class="co"># T(n)- O(n)</span></a>
<a class="sourceLine" id="cb1-940" title="940"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-941" title="941"><span class="kw">def</span> reverse_list(head):</a>
<a class="sourceLine" id="cb1-942" title="942">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-943" title="943"><span class="co">    :type head: ListNode</span></a>
<a class="sourceLine" id="cb1-944" title="944"><span class="co">    :rtype: ListNode</span></a>
<a class="sourceLine" id="cb1-945" title="945"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-946" title="946">    <span class="cf">if</span> <span class="kw">not</span> head <span class="kw">or</span> <span class="kw">not</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-947" title="947">        <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-948" title="948">    prev <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-949" title="949">    <span class="cf">while</span> head:</a>
<a class="sourceLine" id="cb1-950" title="950">        current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-951" title="951">        head <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-952" title="952">        current.<span class="bu">next</span> <span class="op">=</span> prev</a>
<a class="sourceLine" id="cb1-953" title="953">        prev <span class="op">=</span> current</a>
<a class="sourceLine" id="cb1-954" title="954">    <span class="cf">return</span> prev</a>
<a class="sourceLine" id="cb1-955" title="955"></a>
<a class="sourceLine" id="cb1-956" title="956"></a>
<a class="sourceLine" id="cb1-957" title="957"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-958" title="958"><span class="co"># Recursive solution</span></a>
<a class="sourceLine" id="cb1-959" title="959"><span class="co"># T(n)- O(n)</span></a>
<a class="sourceLine" id="cb1-960" title="960"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-961" title="961"><span class="kw">def</span> reverse_list_recursive(head):</a>
<a class="sourceLine" id="cb1-962" title="962">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-963" title="963"><span class="co">    :type head: ListNode</span></a>
<a class="sourceLine" id="cb1-964" title="964"><span class="co">    :rtype: ListNode</span></a>
<a class="sourceLine" id="cb1-965" title="965"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-966" title="966">    <span class="cf">if</span> head <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> head.<span class="bu">next</span> <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb1-967" title="967">        <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-968" title="968">    p <span class="op">=</span> head.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-969" title="969">    head.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-970" title="970">    revrest <span class="op">=</span> reverse_list_recursive(p)</a>
<a class="sourceLine" id="cb1-971" title="971">    p.<span class="bu">next</span> <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-972" title="972">    <span class="cf">return</span> revrest</a>
<a class="sourceLine" id="cb1-973" title="973"></a>
<a class="sourceLine" id="cb1-974" title="974"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-975" title="975"><span class="co">Given a list, rotate the list to the right by k places,</span></a>
<a class="sourceLine" id="cb1-976" title="976"><span class="co">where k is non-negative.</span></a>
<a class="sourceLine" id="cb1-977" title="977"></a>
<a class="sourceLine" id="cb1-978" title="978"><span class="co">For example:</span></a>
<a class="sourceLine" id="cb1-979" title="979"><span class="co">Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL and k = 2,</span></a>
<a class="sourceLine" id="cb1-980" title="980"><span class="co">return 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL.</span></a>
<a class="sourceLine" id="cb1-981" title="981"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-982" title="982"></a>
<a class="sourceLine" id="cb1-983" title="983"><span class="co"># Definition for singly-linked list.</span></a>
<a class="sourceLine" id="cb1-984" title="984"><span class="co"># class ListNode(object):</span></a>
<a class="sourceLine" id="cb1-985" title="985"><span class="co">#     def __init__(self, x):</span></a>
<a class="sourceLine" id="cb1-986" title="986"><span class="co">#         self.val = x</span></a>
<a class="sourceLine" id="cb1-987" title="987"><span class="co">#         self.next = None</span></a>
<a class="sourceLine" id="cb1-988" title="988"></a>
<a class="sourceLine" id="cb1-989" title="989"></a>
<a class="sourceLine" id="cb1-990" title="990"><span class="kw">def</span> rotate_right(head, k):</a>
<a class="sourceLine" id="cb1-991" title="991">    <span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-992" title="992"><span class="co">    :type head: ListNode</span></a>
<a class="sourceLine" id="cb1-993" title="993"><span class="co">    :type k: int</span></a>
<a class="sourceLine" id="cb1-994" title="994"><span class="co">    :rtype: ListNode</span></a>
<a class="sourceLine" id="cb1-995" title="995"><span class="co">    &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-996" title="996">    <span class="cf">if</span> <span class="kw">not</span> head <span class="kw">or</span> <span class="kw">not</span> head.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-997" title="997">        <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-998" title="998">    current <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-999" title="999">    length <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-1000" title="1000">    <span class="co"># count length of the list</span></a>
<a class="sourceLine" id="cb1-1001" title="1001">    <span class="cf">while</span> current.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-1002" title="1002">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1003" title="1003">        length <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-1004" title="1004">    <span class="co"># make it circular</span></a>
<a class="sourceLine" id="cb1-1005" title="1005">    current.<span class="bu">next</span> <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-1006" title="1006">    k <span class="op">=</span> k <span class="op">%</span> length</a>
<a class="sourceLine" id="cb1-1007" title="1007">    <span class="co"># rotate until length-k</span></a>
<a class="sourceLine" id="cb1-1008" title="1008">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(length <span class="op">-</span> k):</a>
<a class="sourceLine" id="cb1-1009" title="1009">        current <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1010" title="1010">    head <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1011" title="1011">    current.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-1012" title="1012">    <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-1013" title="1013"></a>
<a class="sourceLine" id="cb1-1014" title="1014"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-1015" title="1015"><span class="co">Given a linked list, swap every two adjacent nodes</span></a>
<a class="sourceLine" id="cb1-1016" title="1016"><span class="co">and return its head.</span></a>
<a class="sourceLine" id="cb1-1017" title="1017"></a>
<a class="sourceLine" id="cb1-1018" title="1018"><span class="co">For example,</span></a>
<a class="sourceLine" id="cb1-1019" title="1019"><span class="co">Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3.</span></a>
<a class="sourceLine" id="cb1-1020" title="1020"></a>
<a class="sourceLine" id="cb1-1021" title="1021"><span class="co">Your algorithm should use only constant space.</span></a>
<a class="sourceLine" id="cb1-1022" title="1022"><span class="co">You may not modify the values in the list,</span></a>
<a class="sourceLine" id="cb1-1023" title="1023"><span class="co">only nodes itself can be changed.</span></a>
<a class="sourceLine" id="cb1-1024" title="1024"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-1025" title="1025"></a>
<a class="sourceLine" id="cb1-1026" title="1026"></a>
<a class="sourceLine" id="cb1-1027" title="1027"><span class="kw">class</span> Node(<span class="bu">object</span>):</a>
<a class="sourceLine" id="cb1-1028" title="1028">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, x):</a>
<a class="sourceLine" id="cb1-1029" title="1029">        <span class="va">self</span>.val <span class="op">=</span> x</a>
<a class="sourceLine" id="cb1-1030" title="1030">        <span class="va">self</span>.<span class="bu">next</span> <span class="op">=</span> <span class="va">None</span></a>
<a class="sourceLine" id="cb1-1031" title="1031"></a>
<a class="sourceLine" id="cb1-1032" title="1032"></a>
<a class="sourceLine" id="cb1-1033" title="1033"><span class="kw">def</span> swap_pairs(head):</a>
<a class="sourceLine" id="cb1-1034" title="1034">    <span class="cf">if</span> <span class="kw">not</span> head:</a>
<a class="sourceLine" id="cb1-1035" title="1035">        <span class="cf">return</span> head</a>
<a class="sourceLine" id="cb1-1036" title="1036">    start <span class="op">=</span> Node(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-1037" title="1037">    start.<span class="bu">next</span> <span class="op">=</span> head</a>
<a class="sourceLine" id="cb1-1038" title="1038">    current <span class="op">=</span> start</a>
<a class="sourceLine" id="cb1-1039" title="1039">    <span class="cf">while</span> current.<span class="bu">next</span> <span class="kw">and</span> current.<span class="bu">next</span>.<span class="bu">next</span>:</a>
<a class="sourceLine" id="cb1-1040" title="1040">        first <span class="op">=</span> current.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1041" title="1041">        second <span class="op">=</span> current.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1042" title="1042">        first.<span class="bu">next</span> <span class="op">=</span> second.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1043" title="1043">        current.<span class="bu">next</span> <span class="op">=</span> second</a>
<a class="sourceLine" id="cb1-1044" title="1044">        current.<span class="bu">next</span>.<span class="bu">next</span> <span class="op">=</span> first</a>
<a class="sourceLine" id="cb1-1045" title="1045">        current <span class="op">=</span> current.<span class="bu">next</span>.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1046" title="1046">    <span class="cf">return</span> start.<span class="bu">next</span></a>
<a class="sourceLine" id="cb1-1047" title="1047"></a></code></pre>
    </div>
    <p>{% endtab %}</p>
    <p>{% tab title=“Second Tab” %}</p>
    <p>{% endtab %} {% endtabs %}</p>
  </body>
</html>
