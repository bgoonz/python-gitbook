!function(e){function t(t){for(var n,a,o=t\[0\],i=t\[1\],c=0,u=\[\];c 1&&void 0!==arguments\[1\]?arguments\[1\]:"absurd";throw new Error(t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r={card:"card",cardNumber:"cardNumber",cardExpiry:"cardExpiry",cardCvc:"cardCvc",postalCode:"postalCode",iban:"iban",idealBank:"idealBank",p24Bank:"p24Bank",paymentRequestButton:"paymentRequestButton",auBankAccount:"auBankAccount",fpxBank:"fpxBank",netbankingBank:"netbankingBank",epsBank:"epsBank",afterpayClearpayMessage:"afterpayClearpayMessage",linkAuthentication:"linkAuthentication",payment:"payment",shippingAddress:"shippingAddress",idealBankSecondary:"idealBankSecondary",p24BankSecondary:"p24BankSecondary",auBankAccountNumber:"auBankAccountNumber",auBsb:"auBsb",fpxBankSecondary:"fpxBankSecondary",netbankingBankSecondary:"netbankingBankSecondary",issuingCardNumberDisplay:"issuingCardNumberDisplay",issuingCardCopyButton:"issuingCardCopyButton",issuingCardCvcDisplay:"issuingCardCvcDisplay",issuingCardExpiryDisplay:"issuingCardExpiryDisplay",epsBankSecondary:"epsBankSecondary",afterpayClearpayMessageModal:"afterpayClearpayMessageModal"};t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(7),a=n(11),o=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},i=o(),c=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return o()-i},s=function(){function e(t){Object(r.a)(this,e),this.timestampValue=null!=t?t:c()}return Object(a.a)(e,\[{key:"getAsPosixTime",value:function(){return o()-this.getElapsedTime()}},{key:"getElapsedTime",value:function(e){return Math.round((e?e.timestampValue:c())-this.timestampValue)}},{key:"valueOf",value:function(){return Math.round(this.timestampValue)}}\],\[{key:"fromPosixTime",value:function(t){return new e(t-o()+c())}}\]),e}()},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return h}));var r=n(16),a=n(37),o=n.n(a),i=n(2),c=function(e,t){var n={};t.forEach((function(e){var t=Object(r.a)(e,2),a=t\[0\],o=t\[1\];a.split(/\\s+/).forEach((function(e){e&&(n\[e\]=n\[e\]||o)}))})),e.className=o()(e.className,n)},s=function(e,t){e.style.cssText=Object.keys(t).map((function(e){return"".concat(e,": ").concat(t\[e\]," !important;")})).join(" ")},u={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block",visibility:"hidden",position:"fixed",height:"1px","pointer-events":"none","user-select":"none"},l=function(e){s(e,u)},p=function(e){try{return window.parent.frames\[e\]}catch(e){return null}},d=function(){if(!document.body)throw new i.a("Stripe.js requires that your page has a

element.");return document.body},m=function(e){return requestAnimationFrame((function(){requestAnimationFrame(e)}))},f=function(e,t){return!!e.documentElement&&e.documentElement.contains(t)},\_="isConnected"in window.Node.prototype?function(e,t){return t.isConnected&&t.ownerDocument===e}:f,h=function(e,t){return!f(e,t)&&\_(e,t)}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n =0,r=e.getBoundingClientRect(),a=Object(o.a)(e),i=r.width&gt;0&&r.height&gt;0&&a&&"hidden"!==a.getPropertyValue("visibility");return n&&i}))},c=function(e,t){var n=i();return n\[Object(a.b)(n,(function(t){return t===e||e.contains(t)}))+("previous"===t?-1:1)\]},s=function(e,t){return e.then((function(){return Object(a.d)(t,(function(e){var t=e.element,n=e.tabIndex;""===n?t.removeAttribute("tabindex"):t.setAttribute("tabindex",n)}))}))},u=function(e){var t=\[\],n=Object(a.d)(document.querySelectorAll("\*"),(function(n){var r=n.getAttribute("tabindex")||"";e!==n&&(n.tabIndex=-1),t.push({element:n,tabIndex:r})})),o=Object(r.c)((function(){s(n,t)}));return{lockedPromise:n,lockedElements:t,restoreFocus:o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(28);function a(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.\_\_proto\_\_=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t){return e?window.getComputedStyle(e,t):null}},function(e,t,n){"use strict";function r(e,t){(null==t||t&gt;e.length)&&(t=e.length);for(var n=0,r=new Array(t);n 1024){for(var t=0,n=a.length-o;t =0||(a\[n\]=e\[n\]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r =0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a\[n\]=e\[n\])}return a}var u=n(1),l=n(2),p=n(6),d=n(12),m=\["aed","afn","all","amd","ang","aoa","ars","aud","awg","azn","bam","bbd","bdt","bgn","bhd","bif","bmd","bnd","bob","brl","bsd","btn","bwp","byr","bzd","cad","cdf","chf","clf","clp","cny","cop","crc","cuc","cup","cve","czk","djf","dkk","dop","dzd","egp","ern","etb","eur","fjd","fkp","gbp","gel","ghs","gip","gmd","gnf","gtq","gyd","hkd","hnl","hrk","htg","huf","idr","ils","inr","iqd","irr","isk","jmd","jod","jpy","kes","kgs","khr","kmf","kpw","krw","kwd","kyd","kzt","lak","lbp","lkr","lrd","lsl","ltl","lvl","lyd","mad","mdl","mga","mkd","mmk","mnt","mop","mro","mur","mvr","mwk","mxn","myr","mzn","nad","ngn","nio","nok","npr","nzd","omr","pab","pen","pgk","php","pkr","pln","pyg","qar","ron","rsd","rub","rwf","sar","sbd","scr","sdg","sek","sgd","shp","skk","sll","sos","srd","ssp","std","svc","syp","szl","thb","tjs","tmt","tnd","top","try","ttd","twd","tzs","uah","ugx","usd","uyu","uzs","vef","vnd","vuv","wst","xaf","xag","xau","xcd","xdr","xof","xpf","yer","zar","zmk","zmw","btc","jep","eek","ghc","mtl","tmm","yen","zwd","zwl","zwn","zwr"\],f={AE:"AE",AT:"AT",AU:"AU",BE:"BE",BG:"BG",BR:"BR",CA:"CA",CH:"CH",CI:"CI",CR:"CR",CY:"CY",CZ:"CZ",DE:"DE",DK:"DK",DO:"DO",EE:"EE",ES:"ES",FI:"FI",FR:"FR",GB:"GB",GI:"GI",GR:"GR",GT:"GT",HK:"HK",HU:"HU",ID:"ID",IE:"IE",IN:"IN",IT:"IT",JP:"JP",LI:"LI",LT:"LT",LU:"LU",LV:"LV",MT:"MT",MX:"MX",MY:"MY",NL:"NL",NO:"NO",NZ:"NZ",PE:"PE",PH:"PH",PL:"PL",PT:"PT",RO:"RO",SE:"SE",SG:"SG",SI:"SI",SK:"SK",SN:"SN",TH:"TH",TT:"TT",US:"US",UY:"UY"},\_=Object.keys(f),h={applePay:"applePay",googlePay:"googlePay",browserCard:"browserCard"},y=function(e,t){return e.indexOf(t)&gt;=0},b=Object.keys(h),v={live:"live",test:"test",unknown:"unknown"},g=function(e){return/^pk\_test\_/.test(e)?v.test:/^pk\_live\_/.test(e)?v.live:v.unknown},w=n(19),E=function(e,t,n){var r=n.path.reduce((function(e,t,n){return 0===n?t:0===t.indexOf(".")?"".concat(e,'\["').concat(t,'"\]'):"".concat(e,".").concat(t)}),"");return"undefined"===t?"Missing value for ".concat(n.label,": ").concat(r||"value"," should be ").concat(e,"."):"Invalid value for ".concat(n.label,": ").concat(r||"value"," should be ").concat(e,". You specified: ").concat(t,".")},O=function(e){var t=arguments.length&gt;1&&void 0!==arguments\[1\]?arguments\[1\]:\[\];return{type:"valid",value:e,warnings:t}},k=function(e){return{error:e,errorType:"full",type:"error"}},S=function(e,t,n){var r=new l.a(E(e,t,n));return k(r)},P=function(e,t,n){return{expected:e,actual:String(t),options:n,errorType:"mismatch",type:"error"}},j=function(e,t){return Object(r.a)(Object(r.a)({},e),{},{path:\[\].concat(Object(i.a)(e.path),\[t\])})},A=function(e){return function(t,n){return void 0===t?O(t):e(t,n)}},T=function(e,t){return function(n,r){var a=function(e){var t=e.options.path.join(".")||"value";return{error:"".concat(t," should be ").concat(e.expected),actual:"".concat(t," as ").concat(e.actual)}},o=function(e,t,n){return k(new l.a("Invalid value for ".concat(e,": ").concat(t,". You specified ").concat(n,".")))},i=e(n,r),c=t(n,r);if("error"===i.type&&"error"===c.type){if("mismatch"===i.errorType&&"mismatch"===c.errorType){var s=a(i),u=s.error,p=s.actual,d=a(c),m=d.error,f=d.actual;return o(r.label,u===m?u:"".concat(u," or ").concat(m),p===f?p:"".concat(p," and ").concat(f))}if("mismatch"===i.errorType){var \_=a(i),h=\_.error,y=\_.actual;return o(r.label,h,y)}if("mismatch"===c.errorType){var b=a(c),v=b.error,g=b.actual;return o(r.label,v,g)}return k(i.error)}return"valid"===i.type?i:c}},I=function(e,t){return function(n,r){var a=Object(d.a)(e,(function(e){return e===n}));if(void 0===a){var o=t?"a recognized string.":"one of the following strings: ".concat(e.join(", "));return P(o,n,r)}return O(a)}},C=function(e){return function(t,n){return"string"==typeof t&&0===t.indexOf(e)?O(t):P("a string starting with ".concat(e),t,n)}},N=function(e,t){return function(n,r){return"string"==typeof n&&n.length&gt;=e&&n.length &lt;=t?O(n):P(e===t? "a string of ".concat(e, " characters"): "a string with ".concat(e, " to ").concat(t, " characters"),n,r)}},R=function(){for(var e=arguments.length,t=new Array(e),n=0;ne?O(t):P("a number greater than ".concat(e),t,n)}},z=function(e){return function(t,n){return"number"==typeof t&&t===parseInt(t,10)&&(!e||t&gt;=0)?O(t):P(e?"a positive amount in the currency's subunit":"an amount in the currency's subunit",t,n)}},H=function(e,t){return z(!1)(e,t)},G=function(e,t){return e&&"object"==typeof e?O(e):P("an object",e,t)},W=function(e){return function(t,n){return Array.isArray(t)?t.map((function(t,r){return e(t,j(n,String(r)))})).reduce((function(e,t){return"error"===e.type?e:"error"===t.type?t:O(\[\].concat(Object(i.a)(e.value),\[t.value\]),\[\].concat(Object(i.a)(e.warnings),Object(i.a)(t.warnings)))}),O(\[\])):P("array",t,n)}},K=function(e){return function(t){return function(n,r){if(Array.isArray(n)){var a=t(n,r);if("valid"===a.type)for(var o={},i=0;i 0&&void 0!==arguments\[0\]?arguments\[0\]:"";return t?(parseInt(t,10)^16\*Math.random()&gt;&gt;parseInt(t,10)/4).toString(16):"00000000-0000-4000-8000-000000000000".replace(/\[08\]/g,e)},oe=n(14),ie=n(15),ce=n(22),se=n(10),ue=function(e){var t,n=e.controllerId,a=e.frameId,o=e.targetOrigin,i=e.type,c=o;"controller"===i?t=Object(se.e)(a):"group"===i?t=Object(se.e)(n):"outer"===i||"hosted"===i?t=window.frames\[a\]:"inner"===i&&(c=c||"\*",t=window.parent),c=c||ee.k,t&&"function"==typeof t.postMessage&&t.postMessage(JSON.stringify(Object(r.a)(Object(r.a)({},e),{},{\_\_stripeJsV3:!0})),c)},le=(n(43),/https?:\\/\\/(\[^/\]\*)\\/\[^:\]\*/g),pe=function(e,t,n,r){var a,o,i,c=e.\_isUserError||"IntegrationError"===e.name;throw t&&!c&&t.report("fatal.uncaught\_error",{iframe:!1,name:e.name,element:"outer",message:e.message||e.description,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,stack:e.stack&&(a=e.stack,o=a.match(le),i=a,o&&o.forEach((function(e){-1===e.indexOf("https://js.stripe.com")&&(i=i.replace(e," "))})),i.substring(0,1e3)),inPromise:n,apiMethodName:r}),e},de=function(e,t,n){return function(r){try{return e.call(this,r)}catch(e){return pe(e,t||this&&this.\_controller,!1,n)}}},me=function(e,t,n){return function(r,a){try{return e.call(this,r,a)}catch(e){return pe(e,t||this&&this.\_controller,!1,n)}}},fe=function(e,t,n){return function(r){var a=this;try{return e.call(this,r).catch((function(e){return pe(e,t||a&&a.\_controller,!0,n)}))}catch(e){return pe(e,t||this&&this.\_controller,!1,n)}}},\_e=function(e,t,n){return function(r,a){var o=this;try{return e.call(this,r,a).catch((function(e){return pe(e,t||o&&o.\_controller,!0,n)}))}catch(e){return pe(e,t||this&&this.\_controller,!1,n)}}},he=function(e,t,n){return function(r,a,o){var i=this;try{return e.call(this,r,a,o).catch((function(e){return pe(e,t||i&&i.\_controller,!0,n)}))}catch(e){return pe(e,t||this&&this.\_controller,!1,n)}}},ye=function e(){var t=this;Object(a.a)(this,e),this.\_emit=function(e){for(var n=arguments.length,r=new Array(n&gt;1?n-1:0),a=1;a 0},this.\_off=function(e,n){if(n){for(var r,a=t.\_callbacks\[e\],o=0;o element.");this.autoload&&(this.loaded=!0)}},{key: "\_createIFrame",value:function(e,t,r){var a=we(Object(ge.a)(n.prototype), "\_createIFrame",this).call(this,e,t,r);return a.setAttribute( "aria-hidden", "true"),a.setAttribute( "tabIndex", "-1"),Object(se.c)(a),a}}\]),n}(be),Oe=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,\[{key: "\_generateId",value:function(){return this.\_controllerId}}\]),n}(Ee),ke=function(e){return/Edge\\//i.test(e)},Se=function(e){return/Edg\\//i.test(e)},Pe=function(e){return/(MSIE (\[0-9\]{1,}\[.0-9\]{0,})|Trident\\/)/i.test(e)},je=function(e){return/SamsungBrowser/.test(e)},Ae=function(e){return/iPad|iPhone/i.test(e)&&!Pe(e)},Te=function(e){return/^((?!chrome|android).)\*safari/i.test(e)&&!je(e)},Ie=function(e){return/Android/i.test(e)&&!Pe(e)},Ce=window.navigator.userAgent,Ne=ke(Ce),Re=Se(Ce),Me=(/Edge\\/((1\[0-6\]\\.)|0\\.)/i.test(Ce),Pe(Ce)),xe=(function(e){/MSIE (\[0-9\]{1,}\[.0-9\]{0,})/i.test(e)}(Ce),Ae(Ce)),Le=(function(e){/iPad/i.test(e)&&Pe(e)}(Ce),function(e){Ae(e)||Ie(e)}(Ce),Ie(Ce)),De=(function(e){/Android 4\\./i.test(e)&&!/Chrome/i.test(e)&&Ie(e)}(Ce),Te(Ce)),Be=(function(e){Te(e)&&Ae(e)}(Ce),function(e){/Firefox\\//i.test(e)}(Ce),function(e){/Firefox\\/(50|51|\[0-4\]?\\d)(\[^\\d\]|$)/i.test(e)}(Ce),je(Ce)),qe=(function(e){/Chrome\\/(6\[6-9\]|\[7-9\]\\d+|\[1-9\]\\d{2,})/i.test(e)}(Ce),function(e){return/AppleWebKit/i.test(e)&&!/Chrome/i.test(e)&&!ke(e)&&!Pe(e)}(Ce)),Fe=function(e){return/Chrome/i.test(e)&&!ke(e)}(Ce),Ue=(function(e){/CriOS/i.test(e)}(Ce),De&& "download"in document.createElement( "a")),Ye=(!!window.navigator.brave&&window.navigator.brave.isBrave,{border: "none",margin: "0",padding: "0",width: "1px", "min-width": "100%",overflow: "hidden",display: "block", "user-select": "none", "will-change": "transform"}),ze=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(e){var r;return Object(a.a)(this,n),r=t.call(this,e),De&&r.\_listenerRegistry.addEventListener(document, "transitionstart",(function(e){switch(e.propertyName){case "opacity":case "transform":case "visibility":var t=e.target;r.\_isMounted()&&t.contains(r.\_iframe)&&r.\_forceRepaint()}}),{passive:!0}),r}return Object(o.a)(n,\[{key: "update",value:function(e){this.send({action: "stripe-user-update",payload:e})}},{key: "updateStyle",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.\_iframe.style\[n\]=e\[n\]}))}},{key: "focus",value:function(){this.loaded&&(De?this.\_iframe.focus():this.send({action: "stripe-user-focus",payload:{}}))}},{key: "blur",value:function(){this.loaded&&(this.\_iframe.contentWindow.blur(),this.\_iframe.blur(),document.activeElement===this.\_iframe&&(window.focus(),document.activeElement&& "function"==typeof document.activeElement.blur&&document.activeElement.blur()))}},{key: "clear",value:function(){this.send({action: "stripe-user-clear",payload:{}})}},{key: "collapse",value:function(){this.send({action: "stripe-user-collapse",payload:{}})}},{key: "\_createIFrame",value:function(e,t,r){var a=we(Object(ge.a)(n.prototype), "\_createIFrame",this).call(this,e,t,r);return a.setAttribute( "title", "Secure payment input frame"),Object(se.d)(a,Ye),a}},{key: "\_forceRepaint",value:function(){var e=this.\_iframe,t=e.style.display;e.style.display="none" ;var n=e.offsetHeight;return e.style.display=t,n}}\]),n}(be),He=n(35),Ge=n(24),We={display: "block",position: "fixed", "z-index": "2147483647",background: "rgba(40,40,40,0)",transition: "background 400ms ease", "will-change": "background",top: "0",left: "0",right: "0",bottom: "0"},Ke=Object(r.a)(Object(r.a)({},We),{},{background: "rgba(40,40,40,0.75)"}),Ve=function e(t){var n=this,r=t.lockScrolling,o=t.lockFocus,i=t.lockFocusOn,c=t.listenerRegistry;Object(a.a)(this,e),this.domElement=document.createElement( "div"),this.\_runOnHide=\[\],this.mount=function(){var e=Object(se.a)();n.domElement.style.display="none" ,e.contains(n.domElement)||e.insertBefore(n.domElement,e.firstChild)},this.show=function(){if(Object(se.d)(n.domElement,We),n.\_lockScrolling){var e=Object(He.a)();n.\_runOnHide.push(e)}if(n.\_lockFocus){var t=Object(Ge.a)(n.\_lockFocusOn).restoreFocus;n.\_runOnHide.push(t)}},this.fadeIn=function(){setTimeout((function(){Object(se.d)(n.domElement,Ke)}))},this.fadeOut=function(){return new u.a((function(e){Object(se.d)(n.domElement,We),setTimeout(e,500),n.\_listenerRegistry.addEventListener(n.domElement, "transitionend",e)})).then((function(){for(n.domElement.style.display="none" ;n.\_runOnHide.length;)n.\_runOnHide.pop()()}))},this.unmount=function(){Object(se.a)().removeChild(n.domElement)},this.\_lockScrolling=!!r,this.\_lockFocus=!!o,this.\_lockFocusOn=i||null,this.\_listenerRegistry=c},Je={position: "absolute",left: "0",top: "0",height: "100%",width: "100%"},$e=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(e){var r,o,i,c=e.type,s=e.controllerId,u=e.listenerRegistry,l=e.options;return Object(a.a)(this,n),(i=t.call(this,{type:c,controllerId:s,listenerRegistry:u,appParams:l})).\_autoMount=function(){i.appendTo(i.\_backdrop.domElement),i.\_backdrop.mount()},i.show=function(){i.\_backdrop.show(),Object(se.d)(i.\_iframe,Je),i.isVisible=!0},i.fadeInBackdrop=function(){i.\_backdrop.fadeIn()},i.\_backdropFadeoutPromise=null,i.fadeOutBackdrop=function(){return i.\_backdropFadeoutPromise||(i.\_backdropFadeoutPromise=i.\_backdrop.fadeOut()),i.\_backdropFadeoutPromise},i.destroy=function(){var e=arguments.length&gt;0&&void 0!==arguments\[0\]&&arguments\[0\],t=i.fadeOutBackdrop().then((function(){i.\_backdrop.unmount(),e||we((r=Object(ve.a)(i),Object(ge.a)(n.prototype)),"destroy",r).call(r)}));return e&&we((o=Object(ve.a)(i),Object(ge.a)(n.prototype)),"destroy",o).call(o),i.isVisible=!1,t},i.\_backdrop=new Ve({lockScrolling:!0,lockFocus:!0,lockFocusOn:i.\_iframe,listenerRegistry:u}),i.\_autoMount(),i.isVisible=!1,i}return n}(be),Ze={display:"block",position:"absolute","z-index":"1000",width:"1px","min-width":"100%",margin:"2px 0 0 0",padding:"0",border:"none",overflow:"hidden"},Xe=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,\[{key:"updateStyle",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.\_iframe.style\[n\]=e\[n\]}))}},{key:"update",value:function(e){this.send({action:"stripe-user-update",payload:e})}},{key:"\_createIFrame",value:function(e,t,a){var o=we(Object(ge.a)(n.prototype),"\_createIFrame",this).call(this,e,t,a&&"object"==typeof a?Object(r.a)(Object(r.a)({},a),{},{isSecondaryFrame:!0}):a);return Object(se.d)(o,Ze),o.style.height="0",o}}\]),n}(be),Qe=n(21),et=\["button","checkbox","file","hidden","image","submit","radio","reset"\],tt=function(e){var t=e.tagName;if(e.isContentEditable||"TEXTAREA"===t)return!0;if("INPUT"!==t)return!1;var n=e.getAttribute("type");return-1===et.indexOf(n)},nt=function(e){var t=e.name,n=e.value,r=e.expiresIn,a=e.path,o=e.domain,i=e.protocol,c=new Date,s=r||31536e6;c.setTime(c.getTime()+s);var u=a||"/",l=(n||"").replace(/\[^!\#-+\\--: &lt;-\[\\\]-~\]/g,encodeURIComponent),p="" .concat(encodeURIComponent(t), "=").concat(l, ";expires=").concat(c.toGMTString(), ";path=").concat(u, ";SameSite=Lax");return o&&(p+=";domain=" .concat(o)), "https:"===i&&(p+=";secure" ),document.cookie=p,p},rt=function(e){var t=Object(d.a)(document.cookie.split( "; "),(function(t){var n=t.indexOf( "=");return decodeURIComponent(t.substr(0,n))===e}));if(t){var n=t.indexOf( "=");return decodeURIComponent(t.substr(n+1))}return null},at=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ot=function(e){var t={};return e.replace(/\\+/g, " ").split( "&").forEach((function(e,n){var r,a=e.split( "="),o=decodeURIComponent(a\[0\]),i=t,c=0,s=o.split( "\]\["),u=s.length-1;if(/\\\[/.test(s\[0\])&&/\\\]$/.test(s\[u\])?(s\[u\]=s\[u\].replace(/\\\]$/, ""),u=(s=s.shift().split( "\[").concat(s)).length-1):u=0,!(s.indexOf( "\_\_proto\_\_")&gt;=0))if(2===a.length)if(r=decodeURIComponent(a\[1\]),u)for(;c &lt;=u;c++){if(o=""===s\[c\]?i.length:s\[c\],!at(i,o)&&i\[o\])return;i\[o\]=c0&&void 0!==arguments\[0\]?arguments\[0\]:{};if(Object(a.a)(this,e),this.\_controllerFrame=null,this.\_latencies=\[\],this.\_handleMessage=function(e){return function(n){var r=n.data,a=n.origin;if(Object(Qe.c)(a)&&"string"==typeof r)try{var o=JSON.parse(r),i=o.originatingScript,c=o.payload;if("m2"===i){var s=c.guid,u=c.muid,l=c.sid;t.\_guid=s,t.\_muid=t.\_getID(Tt,u),t.\_sid=t.\_getID(It,l),e()}}catch(e){}}},n.checkoutIds){var r=n.checkoutIds,o=r.muid,i=r.sid;this.\_guid=Ct,this.\_muid=o,this.\_sid=i,this.\_doNotPersist="NA"!==o&&"NA"!==i}else this.\_guid=Ct,this.\_muid=this.\_getID(Tt),this.\_sid=this.\_getID(It),this.\_doNotPersist=!1;this.\_listenerRegistry=jt(),this.\_idsPromise=new u.a((function(e){t.\_establishMessageChannel(e)})),this.\_id=re(At),St&&(this.\_controllerFrame=new Oe({type:ee.c.METRICS\_CONTROLLER,controllerId:this.\_id,listenerRegistry:this.\_listenerRegistry,autoload:!0,appParams:this.\_buildFrameQueryString()}),this.\_startIntervalCheck(),setTimeout(this.\_testLatency.bind(this),2e3+500\*Math.random()))}return Object(o.a)(e,\[{key:"ids",value:function(){return{guid:this.\_guid,muid:this.\_muid,sid:this.\_sid}}},{key:"idsPromise",value:function(){var e=this;return this.\_idsPromise.then((function(){return e.ids()}))}},{key:"\_establishMessageChannel",value:function(e){if(!St)return this.\_guid=ae(),void e();this.\_listenerRegistry.addEventListener(window,"message",this.\_handleMessage(e))}},{key:"\_startIntervalCheck",value:function(){var e=this,t=window.location.href;setInterval((function(){var n=window.location.href;n!==t&&(e.send((function(e){return{action:"ping",payload:{sid:e.sid,muid:e.muid,title:document.title,referrer:document.referrer,url:document.location.href,version:6}}})),t=n)}),5e3)}},{key:"report",value:function(e,t){this.send((function(n){return{action:"track",payload:{sid:n.sid,muid:n.muid,url:document.location.href,source:e,data:t,version:6}}}))}},{key:"send",value:function(e){var t=this;this.\_idsPromise.then((function(){try{t.\_controllerFrame&&t.\_controllerFrame.send(e(t.ids()))}catch(e){}}))}},{key:"\_testLatency",value:function(){var e=this,t=new Date;this.\_listenerRegistry.addEventListener(document,"mousemove",(function n(){try{var r=new Date;e.\_latencies.push(r-t),e.\_latencies.length&gt;=10&&(e.report("mouse-timings-10",e.\_latencies),e.\_listenerRegistry.removeEventListener(document,"mousemove",n)),t=r}catch(e){}}))}},{key:"\_extractMetaReferrerPolicy",value:function(){var e=document.querySelector("meta\[name=referrer\]");return null!=e&&e instanceof HTMLMetaElement?e.content.toLowerCase():null}},{key:"\_extractUrl",value:function(e){var t=document.location.href;switch(e){case"origin":case"strict-origin":case"origin-when-cross-origin":case"strict-origin-when-cross-origin":return document.location.origin;case"unsafe-url":return t.split("\#")\[0\];default:return t}}},{key:"\_buildFrameQueryString",value:function(){var e=this.\_extractMetaReferrerPolicy(),t=this.\_extractUrl(e),n={url:t,title:document.title,referrer:document.referrer,muid:this.\_muid,sid:this.\_sid,version:6,preview:Object(Qe.c)(t)};return null!=e&&(n.metaReferrerPolicy=e),Object.keys(n).map((function(e){return null!=n\[e\]?"".concat(e,"=").concat(encodeURIComponent(n\[e\].toString())):null})).join("&")}},{key:"\_getID",value:function(e){var t=arguments.length&gt;1&&void 0!==arguments\[1\]?arguments\[1\]:Ct;switch(e){case Tt:if(this.\_doNotPersist)return Rt(this.\_muid,t,St);try{var n="\_\_stripe\_mid",r=Rt(rt(n),t,St);return Nt(r)&&nt({name:n,value:r,domain:".".concat(document.location.hostname),protocol:document.location.protocol}),r}catch(e){return Ct}case It:if(this.\_doNotPersist)return Rt(this.\_sid,t,St);try{var a="\_\_stripe\_sid",o=Rt(rt(a),t,St);return Nt(o)&&nt({name:a,value:o,domain:".".concat(document.location.hostname),protocol:document.location.protocol,expiresIn:18e5}),o}catch(e){return Ct}default:throw new Error("Invalid ID type specified: ".concat(e))}}}\]),e}(),xt=null,Lt=function(){var e=arguments.length&gt;0&&void 0!==arguments\[0\]?arguments\[0\]:{};return xt=new Mt(e)},Dt=!1,Bt=function(){var e=xt;e&&(Dt||(Dt=!0,e.send((function(e){return{action:"ping",payload:{v2:2,sid:e.sid,muid:e.muid,title:document.title,referrer:document.referrer,url:document.location.href,version:6}}})),e.send((function(t){return{action:"track",payload:{sid:t.sid,muid:t.muid,url:document.location.href,source:"mouse-timings-10-v2",data:e.\_latencies,version:6}}}))))},qt=n(9),Ft=!1,Ut=function(e){Ft||"null"===(null!=e?e:window.origin)&&(Ft=!0,console.error("Stripe.js requires 'allow-same-origin' if sandboxed."))},Yt=(ht={},Object(c.a)(ht,ee.b.card,{unique:!0,conflict:\[ee.b.cardNumber,ee.b.cardExpiry,ee.b.cardCvc,ee.b.postalCode\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.cardNumber,{unique:!0,conflict:\[ee.b.card\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.cardExpiry,{unique:!0,conflict:\[ee.b.card\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.cardCvc,{unique:!0,conflict:\[ee.b.card\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.postalCode,{unique:!0,conflict:\[ee.b.card\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.paymentRequestButton,{unique:!0,conflict:\[\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.iban,{unique:!0,conflict:\[\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.idealBank,{unique:!0,conflict:\[\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.p24Bank,{unique:!0,conflict:\[\],beta:!1,implementation:"legacy"}),Object(c.a)(ht,ee.b.auBankAccount,{unique:!0,beta:!1,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.fpxBank,{unique:!0,beta:!1,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.netbankingBank,{unique:!0,beta:!0,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.issuingCardCopyButton,{unique:!1,beta:!0,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.issuingCardNumberDisplay,{unique:!1,beta:!0,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.issuingCardCvcDisplay,{unique:!1,beta:!0,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.issuingCardExpiryDisplay,{unique:!1,beta:!0,conflict:\[\],implementation:"legacy"}),Object(c.a)(ht,ee.b.epsBank,{unique:!0,conflict:\[\],beta:!0,implementation:"legacy"}),Object(c.a)(ht,ee.b.afterpayClearpayMessage,{unique:!1,conflict:\[\],beta:!1,implementation:"afterpay\_message"}),Object(c.a)(ht,ee.b.linkAuthentication,{unique:!0,conflict:\[\],beta:!0,implementation:"frame"}),Object(c.a)(ht,ee.b.payment,{unique:!0,conflict:\[\],beta:!0,implementation:"frame"}),Object(c.a)(ht,ee.b.shippingAddress,{unique:!0,conflict:\[\],beta:!0,implementation:"frame"}),ht),zt="\_\_PrivateStripeElement",Ht=\["brand"\],Gt=(yt={},Object(c.a)(yt,ee.b.card,Ht),Object(c.a)(yt,ee.b.cardNumber,Ht),Object(c.a)(yt,ee.b.iban,\["country","bankName"\]),Object(c.a)(yt,ee.b.auBankAccount,\["bankName","branchName"\]),yt),Wt=(bt={},Object(c.a)(bt,ee.b.idealBank,{secondary:ee.b.idealBankSecondary}),Object(c.a)(bt,ee.b.p24Bank,{secondary:ee.b.p24BankSecondary}),Object(c.a)(bt,ee.b.fpxBank,{secondary:ee.b.fpxBankSecondary}),Object(c.a)(bt,ee.b.netbankingBank,{secondary:ee.b.netbankingBankSecondary}),Object(c.a)(bt,ee.b.epsBank,{secondary:ee.b.epsBankSecondary}),bt),Kt=n(8),Vt=n(13),Jt="".concat(zt,"-input"),$t=("".concat(zt,"-inputAfter"),"".concat(zt,"-safariInput")),Zt="StripeElement",Xt=\["ready","focus","blur","escape","change"\],Qt=(vt={},Object(c.a)(vt,Kt.a.linkAuthentication,Vt.a.LINK_AUTHENTICATION_ELEMENT),Object(c.a)(vt,Kt.a.payment,Vt.a.PAYMENT_ELEMENT),Object(c.a)(vt,Kt.a.shippingAddress,Vt.a.SHIPPING_ADDRESS_ELEMENT),vt),en=!1,tn={},nn=function(e,t){return document.activeElement===e.\_iframe||e.\_iframe.parentElement&&document.activeElement===t},rn=function(e){return"object"==typeof e&&null!==e&&"IntegrationError"===e.name?new l.a("string"==typeof e.message?e.message:""):e},an=function(){function e(t){var n=this;Object(a.a)(this,e),this.\_sendCAReq=function(e){var t=re(e.tag);return new u.a((function(r,a){n.\_requests\[t\]={resolve:r,reject:a},n.\_controllerFrame.send({action:"stripe-safe-controller-action-request",payload:{nonce:t,caReq:e}})}))},this.keyMode=function(){return g(n.\_apiKey)},this.action={retrievePaymentIntent:function(e){return n.\_sendCAReq({tag:"RETRIEVE_PAYMENT_INTENT",value:e})},confirmPaymentIntent:function(e){return n.\_sendCAReq({tag:"CONFIRM_PAYMENT_INTENT",value:e})},completeLinkPayment:function(e){return n.\_sendCAReq({tag:"COMPLETE_LINK_PAYMENT",value:e})},completeLinkSetup:function(e){return n.\_sendCAReq({tag:"COMPLETE_LINK_SETUP",value:e})},createBankPaymentDetails:function(e){return n.\_sendCAReq({tag:"CREATE_BANK_PAYMENT_DETAILS",value:e})},cancelPaymentIntentSource:function(e){return n.\_sendCAReq({tag:"CANCEL_PAYMENT_INTENT_SOURCE",value:e})},confirmSetupIntent:function(e){return n.\_sendCAReq({tag:"CONFIRM_SETUP_INTENT",value:e})},retrieveSetupIntent:function(e){return n.\_sendCAReq({tag:"RETRIEVE_SETUP_INTENT",value:e})},cancelSetupIntentSource:function(e){return n.\_sendCAReq({tag:"CANCEL_SETUP_INTENT_SOURCE",value:e})},lookupLocale:function(e){return n.\_sendCAReq({tag:"LOOKUP_LOCALE",value:e})},fetchLocale:function(e){return n.\_sendCAReq({tag:"FETCH_LOCALE",value:e})},updateCSSFonts:function(e){return n.\_sendCAReq({tag:"UPDATE_CSS_FONTS",value:e})},createApplePaySession:function(e){return n.\_sendCAReq({tag:"CREATE_APPLE_PAY_SESSION",value:e})},retrieveSource:function(e){return n.\_sendCAReq({tag:"RETRIEVE_SOURCE",value:e})},tokenizeWithElement:function(e){return n.\_sendCAReq({tag:"TOKENIZE_WITH_ELEMENT",value:e})},tokenizeCvcUpdate:function(e){return n.\_sendCAReq({tag:"TOKENIZE_CVC_UPDATE",value:e})},tokenizeWithData:function(e){return n.\_sendCAReq({tag:"TOKENIZE_WITH_DATA",value:e})},createSourceWithElement:function(e){return n.\_sendCAReq({tag:"CREATE_SOURCE_WITH_ELEMENT",value:e})},createSourceWithData:function(e){return n.\_sendCAReq({tag:"CREATE_SOURCE_WITH_DATA",value:e})},createPaymentMethodWithElement:function(e){return n.\_sendCAReq({tag:"CREATE_PAYMENT_METHOD_WITH_ELEMENT",value:e})},createPaymentMethodWithData:function(e){return n.\_sendCAReq({tag:"CREATE_PAYMENT_METHOD_WITH_DATA",value:e})},createPaymentPage:function(e){return n.\_sendCAReq({tag:"CREATE_PAYMENT_PAGE",value:e})},createPaymentPageWithSession:function(e){return n.\_sendCAReq({tag:"CREATE_PAYMENT_PAGE_WITH_SESSION",value:e})},createRadarSession:function(e){return n.\_sendCAReq({tag:"CREATE_RADAR_SESSION",value:e})},authenticate3DS2:function(e){return n.\_sendCAReq({tag:"AUTHENTICATE_3DS2",value:e})},verifyMicrodepositsForPayment:function(e){return n.\_sendCAReq({tag:"VERIFY_MICRODEPOSITS_FOR_PAYMENT",value:e})},verifyMicrodepositsForSetup:function(e){return n.\_sendCAReq({tag:"VERIFY_MICRODEPOSITS_FOR_SETUP",value:e})},retrieveIssuingCardWithoutNonce:function(e){return n.\_sendCAReq({tag:"RETRIEVE_ISSUING_CARD_WITHOUT_NONCE",value:e})},retrieveIssuingCard:function(e){return n.\_sendCAReq({tag:"RETRIEVE_ISSUING_CARD",value:e})},createEphemeralKeyNonce:function(e){return n.\_sendCAReq({tag:"CREATE_EPHEMERAL_KEY_NONCE",value:e})},updatePaymentIntent:function(e){return n.\_sendCAReq({tag:"UPDATE_PAYMENT_INTENT",value:e})},createAcssDebitSession:function(e){return n.\_sendCAReq({tag:"CREATE_ACSS_DEBIT_SESSION",value:e})},confirmReturnIntent:function(e){return n.\_sendCAReq({tag:"CONFIRM_RETURN_INTENT",value:e})},refreshPaymentIntent:function(e){return n.\_sendCAReq({tag:"REFRESH_PAYMENT_INTENT",value:e})},refreshSetupIntent:function(e){return n.\_sendCAReq({tag:"REFRESH_SETUP_INTENT",value:e})},localizeError:function(e){return n.\_sendCAReq({tag:"LOCALIZE_ERROR",value:e})},retrieveElementsSession:function(e){return n.\_sendCAReq({tag:"RETRIEVE_ELEMENTS_SESSION",value:e})},updateElementsOptions:function(e){return n.\_sendCAReq({tag:"UPDATE_ELEMENTS_OPTIONS",value:e})}},this.createElementFrame=function(e,t,a,o){var i=n.\_betas,c=new ze({type:e,betas:i,controllerId:n.\_id,listenerRegistry:n.\_listenerRegistry,appParams:Object(r.a)(Object(r.a)({},o),{},{componentName:t,keyMode:g(n.\_apiKey),apiKey:n.\_apiKey})});return n.\_setupFrame(c,e,a)},this.createSecondaryElementFrame=function(e,t,a,o,i){var c=n.\_betas,s=new Xe({type:e,betas:c,controllerId:n.\_id,listenerRegistry:n.\_listenerRegistry,appParams:Object(r.a)(Object(r.a)({},i),{},{componentName:t,primaryElementType:a,keyMode:g(n.\_apiKey)})});return n.\_setupFrame(s,e,o)},this.createHiddenFrame=function(e,t){var r=new Ee({type:e,betas:n.\_betas,controllerId:n.\_id,listenerRegistry:n.\_listenerRegistry,appParams:t});return n.\_setupFrame(r,e)},this.createLightboxFrame=function(e){var t=e.type,a=e.options,o=new $e({type:t,controllerId:n.\_id,listenerRegistry:n.\_listenerRegistry,options:Object(r.a)(Object(r.a)({},a),{},{betas:n.\_betas})});return n.\_setupFrame(o,t)},this.\_setupFrame=function(e,t,r){return n.\_frames\[e.id\]=e,n.\_controllerFrame.sendPersistent({action:"stripe-user-createframe",payload:{newFrameId:e.id,frameType:t,groupId:r}}),e.\_on("unload",(function(){n.\_controllerFrame.sendPersistent({action:"stripe-frame-unload",payload:{unloadedFrameId:e.id}})})),e.\_on("destroy",(function(){delete n.\_frames\[e.id\],n.\_controllerFrame.sendPersistent({action:"stripe-frame-destroy",payload:{destroyedFrameId:e.id}})})),e.\_on("load",(function(){n.\_controllerFrame.sendPersistent({action:"stripe-frame-load",payload:{loadedFrameId:e.id}}),n.\_controllerFrame.loaded&&e.send({action:"stripe-controller-load",payload:{}})})),e},this.report=function(e){var t=arguments.length&gt;1&&void 0!==arguments\[1\]?arguments\[1\]:{};n.\_controllerFrame.send({action:"stripe-controller-report",payload:{event:e,data:t}})},this.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r -1})):e.indexOf(t)&gt;-1},dn=n(33),mn=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).name="NetworkError",e.type="network\_error",e}return n}(Object(dn.a)(Error)),fn=function e(t){return new u.a((function(n,a){var o=t.method,i=t.url,c=t.data,s=t.headers,u=t.withCredentials,l=t.contentType,p=void 0===l?"application/x-www-form-urlencoded":l,d="";c&&"application/x-www-form-urlencoded"===p?d=Object(ce.a)(c):c&&"application/json"===p&&(d=JSON.stringify(c));var m="GET"===o&&d?"".concat(i,"?").concat(d):i,f="GET"===o?"":d,\_=new XMLHttpRequest;u&&(\_.withCredentials=u),\_.open(o,m,!0),\_.setRequestHeader("Accept","application/json"),\_.setRequestHeader("Content-Type",p),s&&Object.keys(s).forEach((function(e){var t=s\[e\];"string"==typeof t&&\_.setRequestHeader(e,t)})),\_.onreadystatechange=function(){4===\_.readyState&&(\_.onreadystatechange=function(){},0===\_.status?u?a(new mn):e(Object(r.a)(Object(r.a)({},t),{},{withCredentials:!0})).then(n,a):n(\_))};try{\_.send(f)}catch(e){a(e)}}))},\_n=function(e,t){var n=e.reduce((function(e,n){var a=function(e,t){var n=e.indexOf(":");if(-1===n)throw new l.a("Invalid css declaration in file from ".concat(t,': "').concat(e,'"'));var r=e.slice(0,n).trim(),a=ee.a\[r\];if(!a)throw new l.a("Unsupported css property in file from ".concat(t,': "').concat(r,'"'));return{property:a,value:e.slice(n+1).trim()}}(n,t),o=a.property,i=a.value;return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},o,i))}),{});return\["family","src"\].forEach((function(e){if(!n\[e\])throw new l.a("Missing css property in file from ".concat(t,': "').concat(ee.h\[e\],'"'))})),n},hn=function(e){return fn({url:e,method:"GET"}).then((function(e){return e.responseText})).then((function(t){return function(e,t){var n=e.match(/@font-face\[ \]?{\[^}\]\*}/g);if(!n)throw new l.a("No @font-face rules found in file from ".concat(t));return n}(t,e).map((function(t){var n,r=function(e,t){var n=e.replace(/\\/\\\*.\*\\\*\\//g,"").trim(),r=(n.length&&/;$/.test(n)?n:"".concat(n,";")).match(/(((\[^;(\]\*\\(\[^()\]\*\\)\[^;)\]\*)|\[^;\]+)+)(?=;)/g);if(!r)throw new l.a("Found @font-face rule containing no valid font-properties in file from ".concat(t));return r}((n=t.match(/@font-face\[ \]?{(\[^}\]\*)}/))?n\[1\]:"",e);return \_n(r,e)}))}))},yn=(gt=\[\],function(e,t){return pn(t,sn.stripe_js_beta_locales)||-1===gt.indexOf(e)?e:"auto"}),bn=function(e,t){var n,r="string"==typeof(n=e)&&Object(d.a)(Object.keys(Yt),(function(e){return e===n}))||null;if(!r||!function(e,t){var n=un\[e\];return!n||pn(t,n)}(r,t)){var a="string"==typeof e?e:typeof e;throw new l.a("A valid Element name must be provided. Valid Elements are:\\n ".concat(Object.keys(Yt).filter((function(e){return!Yt\[e\].beta})).join(", "),"; you passed: ").concat(a,"."))}},vn="1.2em",gn="14px",wn=function(e){var t=e.split(" ").map((function(e){return parseInt(e.trim(),10)}));return 1===t.length||2===t.length?2\*t\[0\]:3===t.length||4===t.length?t\[0\]+t\[2\]:0},En=function(){var e=arguments.length&gt;0&&void 0!==arguments\[0\]?arguments\[0\]:vn,t=arguments.length&gt;1&&void 0!==arguments\[1\]?arguments\[1\]:gn,n=arguments.length&gt;2&&void 0!==arguments\[2\]?arguments\[2\]:"0",r=wn(n);if("string"==typeof e&&/^\[0-9.\]+px$/.test(e)){var a=parseFloat(e.toString().replace(/\[^0-9.\]/g,""));return"".concat(a+r,"px")}var o,i=parseFloat(e.toString().replace(/\[^0-9.\]/g,"")),c=parseFloat(gn.replace(/\[^0-9.\]/g,"")),s=parseFloat(t.toString().replace(/\[^0-9.\]/g,""));if("string"==typeof t&&/^(\\d+|\\d\*\\.\\d+)px$/.test(t))o=s;else if("string"==typeof t&&/^(\\d+|\\d\*\\.\\d+)em$/.test(t))o=s\*c;else if("string"==typeof t&&/^(\\d+|\\d\*\\.\\d+)%$/.test(t))o=s/100\*c;else{if("string"!=typeof t||!/^\[\\d.\]+$/.test(t)&&!/^\\d\*\\.(px|em|%)$/.test(t))return"100%";o=c}var u=i\*o+r,l="".concat(u,"px");return/^\[0-9.\]+px$/.test(l)?l:"100%"},On=n(27),kn=function(e,t){return e.reduce((function(e,n){return e.then((function(e){return"SATISFIED"===e.type?e:n().then((function(e){return t(e)?{type:"SATISFIED",value:e}:{type:"UNSATISFIED"}}))}))}),u.a.resolve({type:"UNSATISFIED"}))},Sn="40px",Pn={success:"success",fail:"fail",invalid\_shipping\_address:"invalid\_shipping\_address"},jn={shipping:"shipping",delivery:"delivery",pickup:"pickup"},An=Object(r.a)({success:"success"},{fail:"fail",invalid\_payer\_name:"invalid\_payer\_name",invalid\_payer\_email:"invalid\_payer\_email",invalid\_payer\_phone:"invalid\_payer\_phone",invalid\_shipping\_address:"invalid\_shipping\_address"}),Tn={merchantCapabilities:\["supports3DS"\],displayItems:\[\]},In=Z({amount:function(e,t){return z(!0)(e,t)},label:B,pending:A(F)}),Cn=Z({amount:H,label:B,pending:A(F)}),Nn=Z({amount:H,label:B,pending:A(F),id:q(B,(function(){return re("shippingOption")})),detail:q(B,(function(){return""}))}),Rn=R.apply(void 0,Object(i.a)(Object.keys(jn))),Mn=Z({origin:B,name:B}),xn=Z({displayItems:A(W(Cn)),shippingOptions:A(K("id")(W(Nn))),wallets:A(W(D)),disableWallets:A(W(D)),total:In,requestShipping:A(F),requestPayerName:A(F),requestPayerEmail:A(F),requestPayerPhone:A(F),shippingType:A(Rn),currency:L,country:x,jcbEnabled:A(F),\_\_billingDetailsEmailOverride:A(B),\_\_minApplePayVersion:A(U),\_\_merchantDetails:A(Mn),\_\_isCheckout:A(F),\_\_betas:A(W(M.apply(void 0,Object(i.a)(ln))))}),Ln=$({currency:A(L),displayItems:A(W(Cn)),shippingOptions:A(K("id")(W(Nn))),total:A(In)}),Dn=Z({displayItems:A(W(Cn)),shippingOptions:A(K("id")(W(Nn))),total:A(In),status:function(e,t){return R.apply(void 0,Object(i.a)(Object.keys(Pn)))(-1!==\["invalid_payer_name","invalid_payer_email","invalid_payer_phone"\].indexOf(e)?"fail":e,t)}}),Bn=R.apply(void 0,Object(i.a)(Object.keys(An))),qn=function(){return window.ApplePaySession?\["APPLE_PAY"\]:\["GOOGLE_PAY","BROWSER"\]},Fn=function(e){var t=\[\];return window.ApplePaySession?y(e,h.applePay)&&t.push("APPLE_PAY"):(y(e,h.googlePay)&&(t.push("GOOGLE_PAY"),Le&&t.push("BROWSER")),y(e,h.browserCard)&&-1===t.indexOf("BROWSER")&&t.push("BROWSER")),t},Un=n(20),Yn=function(){try{return window.location.origin===window.top.location.origin}catch(e){return!1}},zn=Object(Un.b)((function(e){return window.ApplePaySession.canMakePaymentsWithActiveCard(e)})),Hn=function(){return u.a.resolve(window.ApplePaySession.canMakePayments())},Gn=function(e){if(!window.ApplePaySession)return!1;try{return window.ApplePaySession.supportsVersion(e)}catch(e){return!1}},Wn=\["mastercard","visa"\],Kn=\["AT","AU","BE","CA","CH","DE","DK","EE","ES","FI","FR","GB","GR","HK","IE","IT","JP","LT","LU","LV","MX","NL","NO","NZ","PL","PT","SE","SG","US"\],Vn=function(e,t){var n="US"===e||t?\["discover","diners","jcb"\].concat(Wn):Wn;return-1!==Kn.indexOf(e)?\["amex"\].concat(Object(i.a)(n)):n},Jn={bif:1,clp:1,djf:1,gnf:1,jpy:1,kmf:1,krw:1,mga:1,pyg:1,rwf:1,vnd:1,vuv:1,xaf:1,xof:1,xpf:1,bhd:1e3,jod:1e3,kwd:1e3,omr:1e3,tnd:1e3},$n=function(e,t){var n=function(e){var t=Jn\[e.toLowerCase()\]||100;return{unitSize:1/t,fractionDigits:Math.ceil(Math.log(t)/Math.log(10))}}(t),r=n.unitSize,a=n.fractionDigits;return(e\*r).toFixed(a)},Zn=function(e,t){return{amount:$n(e.amount,t.currency),label:e.label,type:e.pending?"pending":"final"}},Xn=function(e,t){return new window.ApplePayError(e,t)},Qn=function(e){return function(t){return t\[e\]&&"string"==typeof t\[e\]?t\[e\].toUpperCase():null}},er=(wt={},Object(c.a)(wt,An.success,0),Object(c.a)(wt,An.fail,1),Object(c.a)(wt,An.invalid_payer_name,2),Object(c.a)(wt,An.invalid_shipping_address,3),Object(c.a)(wt,An.invalid_payer_phone,4),Object(c.a)(wt,An.invalid_payer_email,4),wt),tr=(Et={},Object(c.a)(Et,An.success,(function(){return null})),Object(c.a)(Et,An.fail,(function(){return null})),Object(c.a)(Et,An.invalid_payer_name,(function(){return Xn("billingContactInvalid","name")})),Object(c.a)(Et,An.invalid_shipping_address,(function(){return Xn("shippingContactInvalid","postalAddress")})),Object(c.a)(Et,An.invalid_payer_phone,(function(){return Xn("shippingContactInvalid","phoneNumber")})),Object(c.a)(Et,An.invalid_payer_email,(function(){return Xn("shippingContactInvalid","emailAddress")})),Et),nr=(Ot={},Object(c.a)(Ot,jn.pickup,"storePickup"),Object(c.a)(Ot,jn.shipping,"shipping"),Object(c.a)(Ot,jn.delivery,"delivery"),Ot),rr={total:function(e){return Zn(e.total,e)},lineItems:function(e){return e.displayItems?e.displayItems.map((function(t){return Zn(t,e)})):\[\]},shippingMethods:function(e){return e.shippingOptions?e.shippingOptions.map((function(t){return function(e,t){return{amount:$n(e.amount,t.currency),label:e.label,detail:e.detail,identifier:e.id}}(t,e)})):\[\]},applicationData:function(e){return e.applicationData||null}},ar={shippingType:function(e){var t=e.shippingType;if(!t)return null;var n=nr\[t\];if(void 0!==n)return n;throw new l.a("Invalid value for shippingType: ".concat(t))},requiredBillingContactFields:function(e){return e.requestPayerName?\["postalAddress"\]:null},requiredShippingContactFields:function(e){var t=\[\];return e.requestShipping&&t.push("postalAddress"),e.requestPayerEmail&&t.push("email"),e.requestPayerPhone&&t.push("phone"),t.length?t:null},countryCode:Qn("country"),currencyCode:Qn("currency"),merchantCapabilities:function(e){var t=e.merchantCapabilities||Tn.merchantCapabilities;return e.\_\_betas&&pn(e.\_\_betas,"cup\_apple\_pay\_beta\_1")&&t.push("supportsEMV"),t},supportedNetworks:function(e){var t,n,r=(t=e.country,n=e.jcbEnabled||!1,Vn(t,n).reduce((function(e,t){return"mastercard"===t?\[\].concat(Object(i.a)(e),\["masterCard"\]):"diners"===t?e:\[\].concat(Object(i.a)(e),\[t\])}),\[\]));return Gn(4)&&r.push("maestro"),e.\_\_betas&&pn(e.\_\_betas,"cup\_apple\_pay\_beta\_1")&&r.push("chinaUnionPay"),r}},or={status:function(e){var t=er\[e.status\];return Gn(3)&&t&gt;1?1:t},error:function(e){return Gn(3)?tr\[e.status\]():null}},ir=Object(r.a)(Object(r.a)({},rr),ar),cr=Object(r.a)(Object(r.a)({},rr),or),sr=function(e){return Object.keys(cr).reduce((function(t,n){var a=(0,cr\[n\])(e);return null!==a?Object(r.a)(Object(r.a)({},t),{},Object(c.a)({},n,a)):t}),{})},ur=function(e){return"string"==typeof e?e:null},lr=function(e){return e?ur(e.phoneNumber):null},pr=function(e){return e?ur(e.emailAddress):null},dr=function(e){return e?\[e.givenName,e.familyName\].filter((function(e){return e&&"string"==typeof e})).join(" "):null},mr=function(e){var t=e.addressLines,n=e.countryCode,r=e.postalCode,a=e.administrativeArea,o=e.locality,c=e.phoneNumber,s=ur(n);return{addressLine:Array.isArray(t)?t.reduce((function(e,t){return"string"==typeof t?\[\].concat(Object(i.a)(e),\[t\]):e}),\[\]):\[\],country:s?s.toUpperCase():"",postalCode:ur(r)||"",recipient:dr(e)||"",region:ur(a)||"",city:ur(o)||"",phone:ur(c)||"",sortingCode:"",dependentLocality:"",organization:""}},fr=function(e,t){var n=e.identifier,r=e.label;return t.filter((function(e){return e.id===n&&e.label===r}))\[0\]},\_r=function(e,t){var n=e.shippingContact,r=e.shippingMethod,a=e.billingContact;return{shippingOption:r&&t.shippingOptions&&t.shippingOptions.length?fr(r,t.shippingOptions):null,shippingAddress:n?mr(n):null,payerEmail:pr(n),payerPhone:lr(n),payerName:dr(a),walletName:"applePay",methodName:"apple-pay"}},hr={austria:"AT",sterreich:"AT",csterreich:"AT",au:"AU",australia:"AU",belgium:"BE",br:"BR",brasil:"BR",brazil:"BR",ca:"CA",canada:"CA",ch:"CH",schweiz:"CH",switzerland:"CH",china:"CN",czechrepublic:"CZ",de:"DE",deutschland:"DE",germany:"DE",danmark:"DK",denmark:"DK",es:"ES",espaa:"ES",spain:"ES",finland:"FI",suomi:"FI",fr:"FR",hk:"HK",hongkong:"HK",england:"GB",gb:"GB",uk:"GB",unitedkingdom:"GB",scotland:"GB",wales:"GB",it:"IT",italy:"IT",italia:"IT",japan:"JP",lietuva:"LT",luxembourg:"LU",netherlands:"NL",nederland:"NL",norway:"NO",poland:"PL",polska:"PL",russia:"RU",saudiarabia:"SA",se:"SE",sweden:"SE",sverige:"SE",singapore:"SG",us:"US",usa:"US",unitedstatesofamerica:"US",unitedstates:"US",estadosunidos:"US"},yr=function(e,t){return e&&"object"==typeof e?t(e):null},br=function(){function e(t){var n=this;Object(a.a)(this,e),this.\_onEvent=function(){},this.setEventHandler=function(e){n.\_onEvent=e},this.canMakePayment=function(e){var t=e.skipEnrollmentChecks;return function(e,t,n,r){var a=arguments.length&gt;4&&void 0!==arguments\[4\]?arguments\[4\]:2,o=arguments.length&gt;5?arguments\[5\]:void 0,i=Math.max(2,a);if(window.ApplePaySession){if(Yn()){if(window.ApplePaySession.supportsVersion(i)){var c="merchant.".concat((t?\[e,t\]:\[e\]).join("."),".stripe");return o?Hn():zn(c).then((function(a){if(r("pr.apple\_pay.can\_make\_payment\_native\_response",{available:a}),n&&!a&&window.console){var o=t?"or stripeAccount parameter (".concat(t,") "):"";window.console.warn("Either you do not have a card saved to your Wallet or the current domain (".concat(e,") ").concat(o,"is not registered for Apple Pay. Visit https://dashboard.stripe.com/account/apple\_pay to register this domain."))}return a}))}return n&&window.console&&window.console.warn("This version of Safari does not support ApplePay JS version ".concat(i,".")),u.a.resolve(!1)}return u.a.resolve(!1)}return u.a.resolve(!1)}(window.location.hostname,n.\_authentication.accountId,g(n.\_authentication.apiKey)===v.test,n.\_report,n.\_minimumVersion,t)},this.update=function(e){n.\_initialPaymentRequest=ft(n.\_paymentRequestOptions,e),n.\_initializeSessionState()},this.show=function(){var e,t,a;n.\_initializeSessionState();try{e=new window.ApplePaySession(n.\_minimumVersion,(t=n.\_paymentRequestOptions,a=Object(r.a)(Object(r.a)({},Tn),t),Object.keys(ir).reduce((function(e,t){var n=(0,ir\[t\])(a);return null!==n?Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},t,n)):e}),{})))}catch(e){throw"Must create a new ApplePaySession from a user gesture handler."===e.message?new l.a("show() must be called from a user gesture handler (such as a click handler, after the user clicks a button)."):e}n.\_privateSession=e,n.\_setupSession(e,n.\_usesButtonElement()),e.begin(),n.\_isShowing=!0},this.abort=function(){n.\_privateSession&&n.\_privateSession.abort()},this.\_warn=function(e){},this.\_report=function(e,t){n.\_controller.report(e,Object(r.a)(Object(r.a)({},t),{},{backingLibrary:"APPLE\_PAY",usesButtonElement:n.\_usesButtonElement()}))},this.\_validateMerchant=function(e,t){return function(r){n.\_controller.action.createApplePaySession({data:{validation\_url:r.validationURL,domain\_name:window.location.hostname,display\_name:n.\_paymentRequestOptions.total.label},usesButtonElement:t}).then((function(t){if(n.\_isShowing)switch(t.type){case"object":e.completeMerchantValidation(JSON.parse(t.object.session));break;case"error":n.\_handleValidationError(e)(t.error);break;default:Object(p.a)(t)}}),n.\_handleValidationError(e))}},this.\_handleValidationError=function(e){return function(t){n.\_report("error.pr.apple\_pay.session\_creation\_failed",{error:t}),e.abort();var r=t.message;"string"==typeof r&&n.\_controller.warn(r)}},this.\_paymentAuthorized=function(e){return function(t){var a=t.payment,o=n.\_usesButtonElement()?ee.b.paymentRequestButton:null;n.\_controller.action.tokenizeWithData({type:"apple\_pay",elementName:o,tokenData:Object(r.a)(Object(r.a)({},a),{},{billingContact:yr(a.billingContact,n.\_normalizeContact)}),mids:n.\_mids}).then((function(t){if("error"===t.type)e.completePayment(window.ApplePaySession.STATUS\_FAILURE),n.\_report("error.pr.create\_token\_failed",{error:t.error});else{var o=yr(a.shippingContact,n.\_normalizeContact),i=yr(a.billingContact,n.\_normalizeContact);o&&n.\_paymentRequestOptions.requestShipping&&!o.countryCode&&e.completePayment(window.ApplePaySession.STATUS\_INVALID\_SHIPPING\_POSTAL\_ADDRESS);var c=\_r({shippingContact:o,billingContact:i},n.\_paymentRequestOptions);n.\_onToken(e)(Object(r.a)(Object(r.a)({},c),{},{shippingOption:n.\_privateShippingOption,token:t.object}))}}))}},this.\_normalizeContact=function(e){if(e.country&&"string"==typeof e.country){var t,a=e.country.toLowerCase().replace(/\[^a-z\]+/g,"");return e.countryCode?"string"==typeof e.countryCode&&(t=e.countryCode.toUpperCase()):(t=hr\[a\])||n.\_report("warn.pr.apple\_pay.missing\_country\_code",{country:e.country}),Object(r.a)(Object(r.a)({},e),{},{countryCode:t})}return e},this.\_onToken=function(e){return function(t){n.\_onEvent({type:"paymentresponse",payload:Object(r.a)(Object(r.a)({},t),{},{complete:de(n.\_completePayment(e))})})}},this.\_completePayment=function(e){return function(t){n.\_paymentRequestOptions=ft(n.\_paymentRequestOptions,{status:t});var r=sr(n.\_paymentRequestOptions),a=r.status,o=r.error;n.\_isShowing&&(o?e.completePayment({status:a,errors:\[o\]}):e.completePayment(a)),(0===a||1===a&&null==o)&&(n.\_isShowing=!1,n.\_onEvent&&n.\_onEvent({type:"close"}))}},this.\_shippingContactSelected=function(e){return function(t){n.\_onEvent({type:"shippingaddresschange",payload:{shippingAddress:mr(n.\_normalizeContact(t.shippingContact)),updateWith:de(n.\_completeShippingContactSelection(e))}})}},this.\_completeShippingContactSelection=function(e){return function(t){var r;n.\_paymentRequestOptions=ft(n.\_paymentRequestOptions,t),(null===(r=n.\_paymentRequestOptions.shippingOptions)||void 0===r?void 0:r.length)&&(n.\_privateShippingOption=n.\_paymentRequestOptions.shippingOptions\[0\]);var a=sr(n.\_paymentRequestOptions),o=a.status,i=a.shippingMethods,c=a.total,s=a.lineItems;e.completeShippingContactSelection(o,i,c,s)}},this.\_shippingMethodSelected=function(e){return function(t){if(n.\_paymentRequestOptions.shippingOptions){var r=fr(t.shippingMethod,n.\_paymentRequestOptions.shippingOptions);n.\_privateShippingOption=r,n.\_onEvent({type:"shippingoptionchange",payload:{shippingOption:r,updateWith:de(n.\_completeShippingMethodSelection(e))}})}}},this.\_completeShippingMethodSelection=function(e){return function(t){n.\_paymentRequestOptions=ft(n.\_paymentRequestOptions,t);var r=sr(n.\_paymentRequestOptions),a=r.status,o=r.total,i=r.lineItems;e.completeShippingMethodSelection(a,o,i)}};var o=t.controller,i=t.authentication,s=t.mids,d=t.options,m=t.usesButtonElement,f=t.listenerRegistry;this.\_controller=o,this.\_authentication=i,this.\_mids=s,this.\_minimumVersion=d.\_\_minApplePayVersion||2,this.\_usesButtonElement=m,this.\_listenerRegistry=f,this.\_initialPaymentRequest=d,this.\_isShowing=!1,this.\_initializeSessionState()}return Object(o.a)(e,\[{key:"\_initializeSessionState",value:function(){var e=btoa(this.\_authentication.accountId?"".concat(this.\_authentication.apiKey,":").concat(this.\_authentication.accountId):this.\_authentication.apiKey);this.\_paymentRequestOptions=Object(r.a)(Object(r.a)(Object(r.a)({},Tn),this.\_initialPaymentRequest),{},{status:An.success,applicationData:e}),this.\_privateSession=null,this.\_privateShippingOption=null;var t=this.\_paymentRequestOptions.shippingOptions;(null==t?void 0:t.length)&&(this.\_privateShippingOption=t\[0\])}},{key:"\_setupSession",value:function(e,t){var n=this;this.\_listenerRegistry.addEventListener(e,"validatemerchant",de(this.\_validateMerchant(e,t))),this.\_listenerRegistry.addEventListener(e,"paymentauthorized",de(this.\_paymentAuthorized(e))),this.\_listenerRegistry.addEventListener(e,"cancel",de((function(){n.\_isShowing=!1,n.\_onEvent({type:"cancel"}),n.\_onEvent({type:"close"})}))),this.\_listenerRegistry.addEventListener(e,"shippingcontactselected",de(this.\_shippingContactSelected(e))),this.\_listenerRegistry.addEventListener(e,"shippingmethodselected",de(this.\_shippingMethodSelected(e)))}}\]),e}(),vr=null;var gr,wr,Er,Or=function(e){return null!==vr?u.a.resolve(vr):e().then((function(e){return vr=e}))},kr=function(e){return!(!qe&&!Fe)&&(!Re&&(!(!e.isCheckout&&!window.PaymentRequest)&&!(!e.isCheckout&&Le)))},Sr=function e(t){var n=this;Object(a.a)(this,e),this.\_mids=null,this.\_frame=null,this.\_initFrame=function(e){var t=n.\_controller.createHiddenFrame(ee.c.PAYMENT\_REQUEST\_GOOGLE\_PAY,{authentication:n.\_authentication,mids:n.\_mids,origin:n.\_origin});t.send({action:"stripe-pr-initialize",payload:{data:e}}),n.\_initFrameEventHandlers(t),n.\_frame=t},this.\_initFrameEventHandlers=function(e){e.\_on("pr-cancel",(function(){n.\_onEvent({type:"cancel"})})),e.\_on("pr-close",(function(){n.\_backdrop.fadeOut().then((function(){n.\_backdrop.unmount()})),n.\_onEvent({type:"close"})})),e.\_on("pr-error",(function(e){n.\_onEvent({type:"error",payload:{errorMessage:e.errorMessage,errorCode:e.errorCode}})})),e.\_on("pr-callback",(function(t){var r=t.event,a=t.options,o=t.nonce;switch(r){case"paymentresponse":n.\_handlePaymentResponse(e,a,o);break;case"shippingaddresschange":n.\_handleShippingAddressChange(e,a,o);break;case"shippingoptionchange":n.\_handleShippingOptionChange(e,a,o);break;default:throw new Error("Unexpected event name: ".concat(r))}}))},this.\_handlePaymentResponse=function(e,t,a){n.\_onEvent({type:"paymentresponse",payload:Object(r.a)(Object(r.a)({},t),{},{complete:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:a,data:{status:t}}})}})})},this.\_handleShippingAddressChange=function(e,t,a){n.\_onEvent({type:"shippingaddresschange",payload:Object(r.a)(Object(r.a)({},t),{},{updateWith:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:a,data:t}})}})})},this.\_handleShippingOptionChange=function(e,t,a){n.\_onEvent({type:"shippingoptionchange",payload:Object(r.a)(Object(r.a)({},t),{},{updateWith:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:a,data:t}})}})})},this.setEventHandler=function(e){n.\_onEvent=e},this.canMakePayment=function(){var e=arguments.length&gt;0&&void 0!==arguments\[0\]?arguments\[0\]:{skipEnrollmentChecks:!1},t=e.skipEnrollmentChecks;if(!kr({isCheckout:n.\_isCheckout}))return u.a.resolve(!1);if(!n.\_frame)throw new Error("Frame not initialized.");var r=n.\_frame;return Or((function(){return r.action.checkCanMakePayment({skipEnrollmentChecks:t}).then((function(e){return!0===e.available}))}))},this.show=function(){n.\_frame&&(n.\_frame.send({action:"stripe-pr-show",payload:{data:{usesButtonElement:n.\_usesButtonElement()}}}),n.\_backdrop.mount(),n.\_backdrop.show(),n.\_backdrop.fadeIn())},this.update=function(e){n.\_frame&&n.\_frame.send({action:"stripe-pr-update",payload:{data:e}})},this.abort=function(){n.\_frame&&n.\_frame.send({action:"stripe-pr-abort",payload:{}})},this.\_controller=t.controller,this.\_authentication=t.authentication,this.\_mids=t.mids,this.\_origin=t.origin,this.\_usesButtonElement=t.usesButtonElement,this.\_backdrop=new Ve({lockScrolling:!1,lockFocus:!0,lockFocusOn:null,listenerRegistry:t.listenerRegistry}),this.\_isCheckout=!!t.options.\_\_isCheckout,kr({isCheckout:this.\_isCheckout})&&this.\_controller&&(this.\_controller.action.fetchLocale({locale:"auto"}),this.\_initFrame(t.options))},Pr=function(){if(!window.PaymentRequest)return null;if(/CriOS\\/59/.test(navigator.userAgent))return null;if(/.\*\\(.\*; wv\\).\*Chrome\\/(?:53|54)\\.\\d.\*/g.test(navigator.userAgent))return null;if(Be)return null;var e=window.PaymentRequest;return e.prototype.canMakePayment||(e.prototype.canMakePayment=function(){return u.a.resolve(!1)}),e}(),jr=null,Ar=function e(t){var n=this;Object(a.a)(this,e),this.\_onEvent=function(){},this.setEventHandler=function(e){n.\_onEvent=e},this.canMakePayment=function(e){var t=e.skipEnrollmentChecks;return function(e,t,n){return null!==jr?u.a.resolve(jr):Pr&&e?e.action.checkCanMakePayment({skipEnrollmentChecks:n}).then((function(e){var t=e.available;return jr=!0===t})):u.a.resolve(!1)}(n.\_prFrame,g(n.\_authentication.apiKey),t)},this.update=function(e){var t=n.\_prFrame;t&&t.send({action:"stripe-pr-update",payload:{data:e}})},this.show=function(){if(!n.\_prFrame)throw new l.a("Payment Request is not available in this browser.");n.\_prFrame.send({action:"stripe-pr-show",payload:{data:{usesButtonElement:n.\_usesButtonElement()}}})},this.abort=function(){n.\_prFrame&&n.\_prFrame.send({action:"stripe-pr-abort",payload:{}})},this.\_setupPrFrame=function(e,t){e.send({action:"stripe-pr-initialize",payload:{data:t}}),e.\_on("pr-cancel",(function(){n.\_onEvent({type:"cancel"})})),e.\_on("pr-close",(function(){n.\_onEvent({type:"close"})})),e.\_on("pr-error",(function(e){n.\_onEvent({type:"error",payload:{errorMessage:e.message||"",errorCode:e.code||""}})})),e.\_on("pr-callback",(function(t){var a=t.event,o=t.nonce,i=t.options;switch(a){case"token":n.\_onEvent({type:"paymentresponse",payload:Object(r.a)(Object(r.a)({},i),{},{complete:function(t){e.send({action:"stripe-pr-callback-complete",payload:{data:{status:t},nonce:o}})}})});break;case"shippingaddresschange":n.\_onEvent({type:"shippingaddresschange",payload:{shippingAddress:i.shippingAddress,updateWith:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:o,data:t}})}}});break;case"shippingoptionchange":n.\_onEvent({type:"shippingoptionchange",payload:{shippingOption:i.shippingOption,updateWith:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:o,data:t}})}}});break;default:throw new Error("Unexpected event from PaymentRequest inner: ".concat(a))}}))};var o=t.authentication,i=t.controller,c=t.mids,s=t.origin,p=t.usesButtonElement,d=t.options;if(this.\_authentication=o,this.\_controller=i,this.\_usesButtonElement=p,Pr&&"https:"===window.location.protocol){this.\_controller.action.fetchLocale({locale:"auto"});var m=this.\_controller.createHiddenFrame(ee.c.PAYMENT\_REQUEST\_BROWSER,{authentication:o,mids:c,origin:s});this.\_setupPrFrame(m,d),this.\_prFrame=m}else this.\_prFrame=null},Tr=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(e){var o;Object(a.a)(this,n),(o=t.call(this)).\_usedByButtonElement=null,o.\_showCalledByButtonElement=!1,o.\_isShowing=!1,o.\_backingLibraries={APPLE\_PAY:null,GOOGLE\_PAY:null,BROWSER:null},o.\_activeBackingLibraryName=null,o.\_buttonTypeName=null,o.\_activeBackingLibrary=null,o.\_isCustomizedQueryStrategy=!1,o.\_canMakePaymentAvailability={APPLE\_PAY:null,GOOGLE\_PAY:null,BROWSER:null},o.\_canMakePaymentResolved=!1,o.\_validateUserOn=function(e,t){"string"==typeof e&&("source"===e&&o.\_hasRegisteredListener("paymentmethod")||"paymentmethod"===e&&o.\_hasRegisteredListener("source"))&&(o.\_report("pr.double\_callback\_registration"),o.\_controller.warn("Do not register event listeners for both \`source\` or \`paymentmethod\`. Only one of them will succeed."))},o.\_report=function(e,t){o.\_controller.report(e,Object(r.a)(Object(r.a)({},t),{},{activeBackingLibrary:o.\_activeBackingLibraryName,usesButtonElement:o.\_usedByButtonElement||!1}))},o.\_warn=function(e){o.\_controller.warn(e)},o.\_registerElement=function(){o.\_usedByButtonElement=!0},o.\_elementShow=function(){o.\_showCalledByButtonElement=!0,o.show()},o.\_initBackingLibraries=function(e){o.\_queryStrategy.forEach((function(t){var n={controller:o.\_controller,authentication:o.\_authentication,mids:o.\_mids,origin:window.location.origin,options:e,usesButtonElement:function(){return!0===o.\_usedByButtonElement},listenerRegistry:o.\_listenerRegistry};switch(t){case"APPLE\_PAY":o.\_backingLibraries.APPLE\_PAY=new br(n),o.\_backingLibraries.APPLE\_PAY.setEventHandler(o.\_handleInternalEvent);break;case"GOOGLE\_PAY":o.\_backingLibraries.GOOGLE\_PAY=new Sr(n),o.\_backingLibraries.GOOGLE\_PAY.setEventHandler(o.\_handleInternalEvent);break;case"BROWSER":o.\_backingLibraries.BROWSER=new Ar(n),o.\_backingLibraries.BROWSER.setEventHandler(o.\_handleInternalEvent);break;default:Object(p.a)(t)}}))},o.\_handleInternalEvent=function(e){switch(e.type){case"paymentresponse":o.\_emitPaymentResponse(e.payload);break;case"error":o.\_report("error.pr.internal\_error",{error:e.payload});break;case"close":o.\_isShowing=!1;break;default:o.\_emitExternalEvent(e)}},o.\_emitExternalEvent=function(e){switch(e.type){case"cancel":o.\_emit("cancel");break;case"shippingoptionchange":case"shippingaddresschange":var t=e.type,n=e.payload,a=null,i=!1,c=!1,u=function(r){if(c&&i)return o.\_report("pr.update\_with\_called\_after\_timeout",{event:t}),void o.\_controller.warn("Call to updateWith() was ignored because it has already timed out. Please ensure that updateWith is called within 30 seconds.");if(i)return o.\_report("pr.update\_with\_double\_call",{event:t}),void o.\_controller.warn("Call to updateWith() was ignored because it has already been called. Do not call updateWith more than once.");a&&clearTimeout(a),i=!0,o.\_report("pr.update\_with",{event:t});var u=Q(Dn,r||{},"".concat(t," callback")),p=u.value;u.warnings.forEach((function(e){return o.\_controller.warn(e)}));var d=p,m=!1;if(o.\_initialOptions.\_\_isCheckout&&"APPLE\_PAY"===o.\_activeBackingLibraryName&&p.shippingOptions&&1===p.shippingOptions.length&&0===p.shippingOptions\[0\].amount){p.shippingOptions;d=s(p,\["shippingOptions"\]),m=!0}var f=p.shippingOptions||o.\_initialOptions.shippingOptions;if(!(m||"shippingaddresschange"!==e.type||p.status!==An.success||f&&f.length))throw new l.a("When requesting shipping information, you must specify shippingOptions once a shipping address is selected.\\nEither provide shippingOptions in stripe.paymentRequest(...) or listen for the shippingaddresschange event and provide shippingOptions to the updateWith callback there.");n.updateWith(d)};o.\_hasRegisteredListener(e.type)?(a=setTimeout((function(){c=!0,o.\_report("pr.update\_with\_timed\_out",{event:t}),o.\_controller.warn('Timed out waiting for a call to updateWith(). If you listen to "'.concat(e.type,'" events, then you must call event.updateWith in the "').concat(e.type,'" handler within 30 seconds.')),u({status:"fail"})}),29900),o.\_emit(t,Object(r.a)(Object(r.a)({},n),{},{updateWith:u}))):u({status:"success"});break;case"token":case"source":case"paymentmethod":var d=e.type,m=e.payload,f=null,\_=!1,h=!1,y=function(e){if(\_&&h)return o.\_report("pr.complete\_called\_after\_timeout"),void o.\_controller.warn("Call to complete() was ignored because it has already timed out. Please ensure that complete is called within 30 seconds.");if(h)return o.\_report("pr.complete\_double\_call"),void o.\_controller.warn("Call to complete() was ignored because it has already been called. Do not call complete more than once.");f&&clearTimeout(f),h=!0;var t=Q(Bn,e,"status for PaymentRequest completion"),n=t.value;t.warnings.forEach((function(e){return o.\_controller.warn(e)})),m.complete(n)};f=setTimeout((function(){\_=!0,o.\_report("pr.complete\_timed\_out"),o.\_controller.warn('Timed out waiting for a call to complete(). Once you have processed the payment in the "'.concat(e.type,'" handler, you must call event.complete within 30 seconds.')),y("fail")}),29900),o.\_emit(d,Object(r.a)(Object(r.a)({},m),{},{complete:y}));break;default:Object(p.a)(e)}},o.\_maybeEmitPaymentResponse=function(e){o.\_isShowing&&o.\_emitExternalEvent(e)},o.\_emitPaymentResponse=function(e){o.\_report("pr.payment\_authorized");var t=e.token,n=s(e,\["token"\]),a=n.payerEmail,i=n.payerPhone,c=n.complete,u=o.\_showCalledByButtonElement?ee.b.paymentRequestButton:null;o.\_hasRegisteredListener("token")&&o.\_maybeEmitPaymentResponse({type:"token",payload:e}),o.\_hasRegisteredListener("source")&&o.\_controller.action.createSourceWithData({elementName:u,type:"card",sourceData:{token:t.id,owner:{email:o.\_initialOptions.\_\_billingDetailsEmailOverride||a,phone:i}},mids:null}).then((function(e){"error"===e.type?e.error.code&&"email\_invalid"===e.error.code?c("invalid\_payer\_email"):(o.\_report("fatal.pr.token\_to\_source\_failed",{error:e.error,token:t.id}),c("fail")):o.\_maybeEmitPaymentResponse({type:"source",payload:Object(r.a)(Object(r.a)({},n),{},{source:e.object})})})),o.\_hasRegisteredListener("paymentmethod")&&o.\_controller.action.createPaymentMethodWithData({elementName:u,type:"card",paymentMethodData:{card:{token:t.id},billing\_details:{email:o.\_initialOptions.\_\_billingDetailsEmailOverride||a,phone:i}},mids:null}).then((function(e){"error"===e.type?e.error.code&&"email\_invalid"===e.error.code?c("invalid\_payer\_email"):(o.\_report("fatal.pr.token\_to\_payment\_method\_failed",{error:e.error,token:t.id}),c("fail")):o.\_maybeEmitPaymentResponse({type:"paymentmethod",payload:Object(r.a)(Object(r.a)({},n),{},{paymentMethod:e.object})})}))},o.\_canMakePaymentForBackingLibrary=function(e,t){var n=o.\_backingLibraries\[e\];if(!n)throw new Error("Unexpectedly calling canMakePayment on uninitialized backing library.");return u.a.race(\[new u.a((function(e){return setTimeout(e,1e4)})).then((function(){return!1})),n.canMakePayment({skipEnrollmentChecks:t}).then((function(e){return!!e}))\]).then((function(t){return o.\_canMakePaymentAvailability=Object(r.a)(Object(r.a)({},o.\_canMakePaymentAvailability),{},Object(c.a)({},e,t)),{backingLibraryName:e,available:t}}))},o.\_isGooglePayOnAndroid=function(){var e=o.\_initialOptions.wallets,t=e&&-1===e.indexOf("googlePay");return Le&&!t},o.\_constructCanMakePaymentResponse=function(){var e=o.\_isGooglePayOnAndroid()&&!!o.\_canMakePaymentAvailability.BROWSER;return{applePay:!!o.\_canMakePaymentAvailability.APPLE\_PAY,googlePay:!!o.\_canMakePaymentAvailability.GOOGLE\_PAY||e}},o.canMakePayment=de((function(e){var t=Boolean(null==e?void 0:e.skipEnrollmentChecks);if(o.\_report("pr.can\_make\_payment"),o.\_canMakePaymentResolved){var n=null!==o.\_activeBackingLibrary?o.\_constructCanMakePaymentResponse():null;return o.\_report("pr.can\_make\_payment\_response",{response:n,cached:!0}),u.a.resolve(n)}if("https:"!==window.location.protocol)return o.\_controller.warn("If you are testing the PaymentRequest button (to accept Apple Pay, Google Pay, etc.) you must serve this page over HTTPS as it will not work over HTTP. Please read https://stripe.com/docs/stripe-js/elements/payment-request-button\#html-js-prerequisites for more details."),o.\_canMakePaymentResolved=!0,u.a.resolve(null);if(o.\_isCustomizedQueryStrategy&&window.self!==window.top)return o.\_controller.warn("You must use Stripe PaymentRequest in the top level frame if you specify which wallets are available."),o.\_canMakePaymentResolved=!0,u.a.resolve(null);var r=o.\_queryStrategy.map((function(e){return function(){return o.\_canMakePaymentForBackingLibrary(e,!!o.\_initialOptions.\_\_isCheckout&&t)}})),a=new qt.a;return kn(r,(function(e){var t=e.backingLibraryName,n=e.available;return n&&(o.\_activeBackingLibraryName=t,o.\_activeBackingLibrary=o.\_backingLibraries\[t\],o.\_buttonTypeName=o.\_activeBackingLibraryName,o.\_isGooglePayOnAndroid()&&(o.\_buttonTypeName="GOOGLE\_PAY")),n})).then((function(e){var t=new qt.a;o.\_canMakePaymentResolved=!0;var n=null;return"SATISFIED"===e.type&&(n=o.\_constructCanMakePaymentResponse()),o.\_report("pr.can\_make\_payment\_response",{response:n,cached:!1,duration:a.getElapsedTime(t)}),n}))})),o.update=de((function(e){if(o.\_isShowing)throw o.\_report("pr.update\_called\_while\_showing"),new l.a("You cannot update Payment Request options while the payment sheet is showing.");var t=Q(Ln,e,"PaymentRequest update()"),n=t.value,r=t.warnings;o.\_report("pr.update"),r.forEach((function(e){return o.\_warn(e)})),o.\_activeBackingLibrary&&o.\_activeBackingLibrary.update(n)})),o.show=de((function(){if(o.\_usedByButtonElement&&!o.\_showCalledByButtonElement&&(o.\_report("pr.show\_called\_with\_button"),o.\_warn("Do not call show() yourself if you are using the paymentRequestButton Element. The Element handles showing the payment sheet.")),!o.\_canMakePaymentResolved)throw o.\_report("pr.show\_called\_before\_can\_make\_payment"),new l.a("You must first check the Payment Request API's availability using paymentRequest.canMakePayment() before calling show().");if(!o.\_activeBackingLibrary)throw o.\_report("pr.show\_called\_with\_can\_make\_payment\_false"),new l.a("Payment Request is not available in this browser.");var e=o.\_activeBackingLibrary;o.\_report("pr.show",{listeners:Object.keys(o.\_callbacks).sort()}),o.\_isShowing=!0,e.show()})),o.abort=de((function(){if(o.\_activeBackingLibrary){var e=o.\_activeBackingLibrary;o.\_report("pr.abort"),e.abort()}})),o.isShowing=function(){return o.\_isShowing},o.\_controller=e.controller,o.\_authentication=e.authentication,o.\_mids=e.mids,o.\_listenerRegistry=e.listenerRegistry;var i=Q(xn,e.rawOptions||{},"paymentRequest()"),d=i.value,m=i.warnings;if(o.\_report("pr.options",{options:ut(d,\["country","currency","jcbEnabled","requestPayerEmail","requestPayerName","requestPayerPhone","requestShipping","disableWallets","wallets"\])}),m.forEach((function(e){return o.\_warn(e)})),d.\_\_billingDetailsEmailOverride&&d.requestPayerEmail)throw new l.a("When providing \`\_\_billingDetailsEmailOverride\`, \`requestPayerEmail\` has to be \`false\` so that the customer is not prompted for their email in the payment sheet.");var f=d.disableWallets,\_=f?b.filter((function(e){return-1===f.indexOf(e)})):d.wallets;return o.\_queryStrategy=\_?Fn(\_):e.queryStrategyOverride||qn(),o.\_isCustomizedQueryStrategy=!!\_,o.\_report("pr.query\_strategy",{queryStrategy:o.\_queryStrategy}),o.\_initialOptions=Object(r.a)(Object(r.a)({},d),{},{\_\_betas:e.betas,wallets:\_}),o.\_initBackingLibraries(o.\_initialOptions),o}return n}(ye),Ir={base:A(G),complete:A(G),empty:A(G),invalid:A(G),paymentRequestButton:A(G)},Cr={classes:A(Z({base:A(B),complete:A(B),empty:A(B),focus:A(B),invalid:A(B),webkitAutofill:A(B)})),hidePostalCode:A(F),hideIcon:A(F),showIcon:A(F),style:A(Z(Ir)),iconStyle:A(R("solid","default")),value:A(T(B,G)),\_\_privateCvcOptional:A(F),\_\_privateValue:A(T(B,G)),\_\_privateEmitIbanValue:A(F),error:A(Z({type:B,code:A(B),decline\_code:A(B),param:A(B)})),locale:V("elements()"),fonts:V("elements()"),placeholder:A(B),disabled:A(F),placeholderCountry:A(B),paymentRequest:A((gr=Tr,wr="stripe.paymentRequest(...)",function(e,t){return e instanceof gr?O(e):P("a ".concat(wr," instance"),e,t)})),supportedCountries:A(W(B)),accountHolderType:A(R("individual","company")),issuingCard:A(B),toCopy:A(B)},Nr=Z(Cr),Rr=(Er={},Object(c.a)(Er,Kt.a.card,Vt.a.CARD\_ELEMENT),Object(c.a)(Er,Kt.a.cardNumber,Vt.a.CARD\_ELEMENT),Object(c.a)(Er,Kt.a.cardExpiry,Vt.a.CARD\_ELEMENT),Object(c.a)(Er,Kt.a.cardCvc,Vt.a.CARD\_ELEMENT),Object(c.a)(Er,Kt.a.postalCode,Vt.a.CARD\_ELEMENT),Object(c.a)(Er,Kt.a.paymentRequestButton,Vt.a.PAYMENT\_REQUEST\_ELEMENT),Object(c.a)(Er,Kt.a.iban,Vt.a.IBAN\_ELEMENT),Object(c.a)(Er,Kt.a.idealBank,Vt.a.IDEAL\_BANK\_ELEMENT),Object(c.a)(Er,Kt.a.p24Bank,Vt.a.P24\_BANK\_ELEMENT),Object(c.a)(Er,Kt.a.auBankAccount,Vt.a.AU\_BANK\_ACCOUNT\_ELEMENT),Object(c.a)(Er,Kt.a.fpxBank,Vt.a.FPX\_BANK\_ELEMENT),Object(c.a)(Er,Kt.a.issuingCardNumberDisplay,Vt.a.ISSUING\_CARD\_NUMBER\_DISPLAY\_ELEMENT),Object(c.a)(Er,Kt.a.issuingCardCopyButton,Vt.a.ISSUING\_CARD\_COPY\_BUTTON\_ELEMENT),Object(c.a)(Er,Kt.a.issuingCardCvcDisplay,Vt.a.ISSUING\_CARD\_CVC\_DISPLAY\_ELEMENT),Object(c.a)(Er,Kt.a.issuingCardExpiryDisplay,Vt.a.ISSUING\_CARD\_EXPIRY\_DISPLAY\_ELEMENT),Object(c.a)(Er,Kt.a.epsBank,Vt.a.EPS\_BANK\_ELEMENT),Object(c.a)(Er,Kt.a.netbankingBank,Vt.a.NETBANKING\_BANK\_ELEMENT),Object(c.a)(Er,Kt.a.afterpayClearpayMessageModal,Vt.a.AFTERPAY\_MESSAGE\_MODAL\_ELEMENT),Er),Mr=function(e){var t=Object(On.a)(e,null);return!!t&&"rtl"===t.getPropertyValue("direction")},xr={margin:"0",padding:"0",border:"none",display:"block",background:"transparent",position:"relative",opacity:"1"},Lr={border:"none",display:"block",position:"absolute",height:"1px",top:"-1px",left:"0",padding:"0",margin:"0",width:"100%",opacity:"0",background:"transparent","pointer-events":"none","font-size":"16px"},Dr=function(e){var t=document.createElement("input");return t.className=e,t.setAttribute("aria-hidden","true"),t.setAttribute("aria-label"," "),t.setAttribute("autocomplete","false"),t.maxLength=1,t.disabled=!0,Object(se.d)(t,Lr),t},Br=\["test\_id"\],qr=function(e){switch(e.type){case"object":return Br.push(e.object.id),{issuingCard:e.object};case"error":return{error:e.error};default:return Object(p.a)(e)}},Fr=function(e){switch(e.type){case"object":return{nonce:e.object.public\_nonce};case"error":return{error:e.error};default:return Object(p.a)(e)}},Ur={base:"StripeElement",focus:"StripeElement--focus",invalid:"StripeElement--invalid",complete:"StripeElement--complete",empty:"StripeElement--empty",webkitAutofill:"StripeElement--webkit-autofill"},Yr="\#faffbd",zr=function(e){return parseFloat(e.toFixed(1))},Hr=function(e){return/^\\d+(\\.\\d\*)?px$/.test(e)},Gr=function(){function e(t){var n=this;Object(a.a)(this,e),this.focus=function(){if(n.\_isIssuingDisplayElement())throw new l.a("Cannot call focus() on an ".concat(n.\_componentName," Element."));document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),n.\_fakeInput.focus()},this.\_formSubmit=function(){for(var e=n.\_component.parentElement;e&&"FORM"!==e.nodeName;)e=e.parentElement;if(e){var t=document.createEvent("Event");t.initEvent("submit",!0,!0),e.dispatchEvent(t)}};var r=t.options,o=t.component,i=t.listenerRegistry,c=t.elementTimings,s=t.emitEvent,u=t.getParent,p=r.controller,d=r.componentName,m=r.publicOptions;this.\_componentName=d,this.\_component=o,this.\_controller=p,this.\_listenerRegistry=i,this.\_emitEvent=s,this.\_getParent=u;var f=Q(Nr,m||{},"create()"),\_=f.value;f.warnings.forEach((function(e){return n.\_controller.warn(e)}));var h,y=\_.paymentRequest,b=\_.classes,v=\_.issuingCard,g="paymentRequestButton"===this.\_componentName;if(g){if(!y)throw new l.a("You must pass in a stripe.paymentRequest object in order to use this Element.");this.\_paymentRequest=y,this.\_paymentRequest.\_registerElement()}if(this.\_isIssuingDisplayElement()){if(!v)throw new Error("You must pass in an ID to the issuingCard option in order to use this Element.");if(h=v,-1===Br.indexOf(h))throw new Error("Issuing card ".concat(v," has not been retrieved."))}this.\_createElement(r,\_,c),this.\_classes=Ur,this.\_computeCustomClasses(b||{}),this.\_lastBackgroundColor="",this.\_focused=!1,this.\_empty=!g,this.\_invalid=!1,this.\_complete=!1,this.\_autofilled=!1,this.\_lastSubmittedAt=null}return Object(o.a)(e,\[{key:"update",value:function(e){var t=this,n=Q(Nr,e||{},"element.update()"),r=n.value;if(n.warnings.forEach((function(e){return t.\_controller.warn(e)})),r){var a=r.classes,o=s(r,\["classes"\]);a&&(this.\_removeClasses(),this.\_computeCustomClasses(a),this.\_updateClasses()),this.\_updateFrameHeight(r),Object.keys(o).length&&(this.\_frame.update(o),this.\_secondaryFrame&&this.\_secondaryFrame.update(o))}}},{key:"blur",value:function(){if(this.\_isIssuingDisplayElement())throw new l.a("Cannot call blur() on an ".concat(this.\_componentName," Element."));this.\_frame.blur(),this.\_fakeInput.blur()}},{key:"clear",value:function(){this.\_frame.clear()}},{key:"unmount",value:function(){var e=this.\_getParent(),t=this.\_label;e&&(this.\_listenerRegistry.removeEventListener(e,"click",this.focus),this.\_removeClasses()),t&&(this.\_listenerRegistry.removeEventListener(t,"click",this.focus),this.\_label=null),this.\_secondaryFrame&&(this.\_secondaryFrame.unmount(),this.\_listenerRegistry.removeEventListener(window,"click",this.\_handleOutsideClick)),this.\_fakeInput.disabled=!0,this.\_frame.unmount()}},{key:"mount",value:function(){if(Object(se.b)(document,this.\_component)){this.\_controller.report("user_error.shadow_dom_mount",{element:this.\_componentName});var e=function(){throw new l.a("Elements cannot be mounted in a ShadowRoot. Please mount in the Light DOM.")};"test"===this.\_controller.keyMode()?e():setTimeout(e,0)}if(this.\_paymentRequest){if(!this.\_paymentRequest.\_canMakePaymentResolved)throw new l.a("For the paymentRequestButton Element, you must first check availability using paymentRequest.canMakePayment() before mounting the Element.");if(!this.\_paymentRequest.\_activeBackingLibraryName)throw new l.a("The paymentRequestButton Element is not available in the current environment.")}this.\_mountTimestamp=new qt.a,this.\_findPossibleLabel(),this.\_updateClasses()}},{key:"\_isIssuingDisplayElement",value:function(){return"issuingCardNumberDisplay"===this.\_componentName||"issuingCardCvcDisplay"===this.\_componentName||"issuingCardExpiryDisplay"===this.\_componentName}},{key:"\_updateClasses",value:function(){var e=this.\_getParent();e&&Object(se.f)(e,\[\[this.\_classes.base,!0\],\[this.\_classes.empty,this.\_empty\],\[this.\_classes.focus,this.\_focused\],\[this.\_classes.invalid,this.\_invalid\],\[this.\_classes.complete,this.\_complete\],\[this.\_classes.webkitAutofill,this.\_autofilled\]\])}},{key:"\_removeClasses",value:function(){var e=this.\_getParent();e&&Object(se.f)(e,\[\[this.\_classes.base,!1\],\[this.\_classes.empty,!1\],\[this.\_classes.focus,!1\],\[this.\_classes.invalid,!1\],\[this.\_classes.complete,!1\],\[this.\_classes.webkitAutofill,!1\]\])}},{key:"\_findPossibleLabel",value:function(){var e=this.\_getParent();if(e){var t,n=e.getAttribute("id");if(n&&(t=document.querySelector("label\[for='".concat(n,"'\]"))),t)this.\_listenerRegistry.addEventListener(e,"click",this.focus);else for(t=t||e.parentElement;t&&"LABEL"!==t.nodeName;)t=t.parentElement;t?(this.\_label=t,this.\_listenerRegistry.addEventListener(t,"click",this.focus)):this.\_listenerRegistry.addEventListener(e,"click",this.focus)}}},{key:"\_computeCustomClasses",value:function(e){var t={};return Object.keys(e).forEach((function(n){if(!Ur\[n\])throw new l.a("".concat(n," is not a customizable class name.\\nYou can customize: ").concat(Object.keys(Ur).join(", ")));var r=e\[n\]||Ur\[n\];t\[n\]=r.replace(/\\./g," ")})),this.\_classes=Object(r.a)(Object(r.a)({},this.\_classes),t),this}},{key:"\_setupEvents",value:function(e){var t=this,n=e.stripeJsLoadTimestamp,r=(e.stripeCreateTimestamp,e.groupCreateTimestamp),a=e.createTimestamp,o=0,c=0,s={stripeJsLoad:n.getAsPosixTime(),stripeCreate:a.getAsPosixTime(),groupCreate:r.getAsPosixTime(),create:a.getAsPosixTime()};if(this.\_frame.\_on("load",(function(e){var n=e.source;o++;var r=t.\_getParent(),a=Mr(r),i=t.\_paymentRequest?t.\_paymentRequest.\_buttonTypeName:null;t.\_mountTimestamp&&(s.mount=t.\_mountTimestamp.getAsPosixTime()),t.\_frame.send({action:"stripe-user-mount",payload:{timestamps:s,loadCount:o,matchFrame:n===t.\_frame.\_iframe.contentWindow,rtl:a,paymentRequestButtonType:i}})})),this.\_secondaryFrame){var u=this.\_secondaryFrame;u.\_on("load",(function(e){var n=e.source;c++,t.\_mountTimestamp&&(s.mount=t.\_mountTimestamp.getAsPosixTime()),u.send({action:"stripe-user-mount",payload:{timestamps:s,loadCount:c,matchFrame:n===u.\_iframe.contentWindow,rtl:!1,paymentRequestButtonType:null}})}))}this.\_frame.\_on("redirectfocus",(function(e){var n=e.focusDirection,r=Object(Ge.b)(t.\_component,n);r&&r.focus()})),this.\_frame.\_on("focus",(function(){t.\_focused=!0,t.\_updateClasses()})),this.\_frame.\_on("blur",(function(){t.\_focused=!1,t.\_updateClasses(),t.\_lastSubmittedAt&&"paymentRequestButton"===t.\_componentName&&(t.\_controller.report("payment_request_button.sheet_visible",{latency:t.\_lastSubmittedAt.getElapsedTime()}),t.\_lastSubmittedAt=null)})),this.\_frame.\_on("submit",(function(){if("paymentRequestButton"===t.\_componentName){t.\_lastSubmittedAt=new qt.a;var e=!1,n=!1;Bt(),t.\_emitEvent("click",{preventDefault:function(){t.\_controller.report("payment_request_button.default_prevented"),e&&t.\_controller.warn("event.preventDefault() was called after the payment sheet was shown. Make sure to call it synchronously when handling the \`click\` event."),n=!0}}),!n&&t.\_paymentRequest&&(t.\_paymentRequest.\_elementShow(),e=!0)}else t.\_emitEvent("submit"),t.\_formSubmit()})),\["ready","focus","blur","escape","click"\].forEach((function(e){t.\_frame.\_on(e,(function(){t.\_emitEvent(e)}))})),this.\_frame.\_on("change",(function(e){Bt();var n={},r=Gt\[t.\_componentName\]||\[\];\["error","value","empty","complete"\].concat(Object(i.a)(r)).forEach((function(t){return n\[t\]=e\[t\]})),t.\_emitEvent("change",n),t.\_empty=n.empty,t.\_invalid=!!n.error,t.\_complete=n.complete,t.\_updateClasses()})),this.\_frame.\_on("\_\_privateIntegrationError",(function(e){var n=e.message;t.\_emitEvent("\_\_privateIntegrationError",{message:n})})),this.\_frame.\_on("dimensions",(function(e){var n=t.\_getParent();if(n){var r=Object(On.a)(n,null);if(r){var a=parseFloat(r.getPropertyValue("height")),o=e.height;if("border-box"===r.getPropertyValue("box-sizing")){var i=parseFloat(r.getPropertyValue("padding-top")),c=parseFloat(r.getPropertyValue("padding-bottom"));a=a-parseFloat(r.getPropertyValue("border-top"))-parseFloat(r.getPropertyValue("border-bottom"))-i-c}var s=zr(a),u=zr(o);0!==a&&s 1&&void 0!==arguments\[1\]&&arguments\[1\],n=e.style;if("paymentRequestButton"===this.\_componentName){var r=n&&n.paymentRequestButton||{},a=r.height,o="string"==typeof a?a:void 0;(t||o)&&(this.\_frame.updateStyle({height:o||this.\_lastHeight||Sn}),this.\_lastHeight=o||this.\_lastHeight)}else{var i=n&&n.base||{},c=i.lineHeight,s=i.fontSize,u=i.padding,l="string"!=typeof c||isNaN(parseFloat(c))?void 0:c,p="string"==typeof s?s:void 0,d="string"==typeof u?u:void 0;if(p&&!Hr(p)&&this.\_controller.warn("The fontSize style you specified (".concat(p,") is not in px. We do not recommend using relative css units, as they will be calculated relative to our iframe's styles rather than your site's.")),t||l||p){var m=-1===ee.l.indexOf(this.\_componentName)?void 0:d||this.\_lastPadding,f=En(l||this.\_lastHeight,p||this.\_lastFontSize,m);this.\_frame.updateStyle({height:f}),this.\_lastFontSize=p||this.\_lastFontSize,this.\_lastHeight=l||this.\_lastHeight,this.\_lastPadding=m}}}},{key:"\_createElement",value:function(e,t,n){var a=this,o=(e.controller,e.publicOptions,e.componentName),i=e.groupId,c=s(e,\["controller","publicOptions","componentName","groupId"\]),u=(t.classes,t.paymentRequest,s(t,\["classes","paymentRequest"\])),l=this.\_component,p=Dr(Jt);Object(se.d)(l,xr);var d=Mr(document.body),m=Rr\[o\],f=Object(r.a)(Object(r.a)(Object(r.a)({},c),u),{},{rtl:d}),\_=this.\_controller.createElementFrame(m,o,i,f);if(\_.\_on("load",(function(){p.disabled=!1})),this.\_listenerRegistry.addEventListener(p,"focus",(function(){\_.focus()})),\_.appendTo(l),Wt\[o\]){var h=Wt\[o\].secondary,y=this.\_controller.createSecondaryElementFrame(m,h,o,i,f);y&&y.on&&y.on("height-change",(function(e){y.updateStyle({height:"".concat(e.height,"px")})})),this.\_secondaryFrame=y,y.appendTo(l),this.\_listenerRegistry.addEventListener(window,"click",(function(){return a.\_handleOutsideClick()}))}if(l.appendChild(p),xe&&o!==ee.b.paymentRequestButton){var b=function(){var e=Dr($t);return e.setAttribute("tabindex","-1"),e}();l.appendChild(b)}this.\_frame=\_,this.\_fakeInput=p,this.\_setupEvents(n),this.\_updateFrameHeight(t,!0)}}\]),e}(),Wr={amount:U,currency:R("USD","AUD","CAD","GBP","NZD","EUR"),badgeTheme:A(R("black-on-mint","black-on-white","mint-on-black","white-on-black")),introText:A(R("In","in","Or","or","Pay","pay","Pay in","pay in")),isEligible:A(F),isCartEligible:A(F),lockupTheme:A(R("black","white","mint")),logoType:A(R("badge","lockup")),max:A(U),min:A(U),modalLinkStyle:A(R("circled-info-icon","more-info-text","learn-more-text")),modalTheme:A(R("mint","white")),showInterestFree:A(F),showLowerLimit:A(F),showUpperLimit:A(F),showWith:A(F)},Kr=Z(Wr),Vr=function(e){var t=!1;window.Promise||(t=!0,window.Promise=u.a);var n=e();return t&&window.Promise===u.a&&delete window.Promise,n},Jr=function(){return Vr((function(){return n.e(2).then(n.bind(null,53))}))},$r=function(e){var t,r=e.emitEvent,a=e.options,o=a.controller,c=a.locale,s=a.publicOptions,p=new qt.a,d=function(e){var t=Q(Kr,e||{},"create()"),n=t.value;return t.warnings.forEach((function(e){return o.warn(e)})),n},m=d(s),f=function(e,n){return e.apply(void 0,\[t\].concat(Object(i.a)(n)))},\_=\[\],h=function(e){return function(){for(var n=arguments.length,r=new Array(n),a=0;a 1&&c.\_controller.warn("The selector you specified ( ".concat(e,") applies to ").concat(n.length," DOM elements that are currently on the page.\\nThe Stripe Element will be mounted to the first one. ")),!n.length)throw new l.a("The selector you specified ( ".concat(e,") applies to no DOM elements that are currently on the page.\\nMake sure the element exists on the page before calling mount(). "));t=n\[0\]}else{if(!e.appendChild)throw new l.a("Invalid DOM element. Make sure to call mount() with a valid DOM element or selector. ");t=e}if("INPUT "===t.nodeName)throw new l.a("Stripe Elements must be mounted in a DOM element that\\ncan contain child nodes. \`input\` elements are not permitted to have child\\nnodes. Try using a \`div\` element instead. ");t.children.length&&c.\_controller.warn("This Element will be mounted to a DOM element that contains child nodes. "),c.\_mountToParent(t)})),c.update=de((function(e){return c.\_checkDestroyed(),c.\_implementation.update(e),Object(ve.a)(c)})),c.focus=de((function(e){return c.\_checkDestroyed(),e&&e.preventDefault(),c.\_implementation.focus(),Object(ve.a)(c)})),c.blur=de((function(){return c.\_checkDestroyed(),c.\_implementation.blur(),Object(ve.a)(c)})),c.clear=de((function(){return c.\_checkDestroyed(),c.\_implementation.clear(),Object(ve.a)(c)})),c.collapse=de((function(){if(c.\_checkDestroyed(),!c.\_implementation.collapse)throw new l.a("Collapse is not supported by the ".concat(c.\_componentName," Element. "));return c.\_implementation.collapse(),Object(ve.a)(c)})),c.unmount=de((function(){return c.\_checkDestroyed(),c.\_unmount(),Object(ve.a)(c)})),c.destroy=de((function(){return c.\_checkDestroyed(),c.unmount(),c.\_destroyed=!0,c.\_emitEvent("destroy "),Object(ve.a)(c)})),c.\_getParent=function(){return c.\_parent},c.\_emitEvent=function(e,t){return"loaderror "!==e||c.\_hasRegisteredListener("loaderror ")||c.\_controller.keyMode()!==v.test||console.error("Unhandled ".concat(c.\_componentName," Element loaderror "),t),c.\_emit(e,Object(r.a)({elementType:c.\_componentName},t))};var s=e.controller,u=e.componentName;c.\_controller=s,c.\_componentName=u,c.\_destroyed=!1;var p=document.createElement("div ");return p.className=zt,c.\_component=p,c.\_implementation=qa(c.\_componentName,{options:e,component:p,listenerRegistry:o,elementTimings:i,emitEvent:c.\_emitEvent,getParent:c.\_getParent,selfDestruct:function(){c.destroy()}}),c}return Object(o.a)(n,\[{key:"\_checkDestroyed ",value:function(){if(this.\_destroyed)throw new l.a("This Element has already been destroyed. Please create a new one. ")}},{key:"\_isMounted ",value:function(){return!!document.body&&document.body.contains(this.\_component)}},{key:"\_unmount ",value:function(){var e=this.\_component.parentElement;e&&e.removeChild(this.\_component),this.\_implementation.unmount(),this.\_parent=null}},{key:"\_mountToParent ",value:function(e){var t=this.\_component.parentElement,n=this.\_isMounted();if(e===t){if(n)return;this.unmount(),this.\_mountTo(e)}else if(t){if(n)throw new l.a("This Element is already mounted. Use \`unmount()\` to unmount the Element before re-mounting. ");this.unmount(),this.\_mountTo(e)}else this.\_mountTo(e)}},{key:"\_mountTo ",value:function(e){for(this.\_parent=e;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(this.\_component),this.\_implementation.mount()}}\]),n}(ye),Ua=function(e,t){e.\_controller.report("legacy_private_property_used ",{prop:t,componentName:e.\_componentName})};\["\_autofilled ","\_classes ","\_complete ","\_empty ","\_fakeInput ","\_focused ","\_frame ","\_invalid ","\_lastBackgroundColor ","\_lastFontSize ","\_lastHeight ","\_lastPadding ","\_lastSubmittedAt ","\_listenerRegistry ","\_paymentRequest "\].forEach((function(e){Object.defineProperty(Fa.prototype,e,{enumerable:!1,get:function(){return Ua(this,e),this.\_implementation\[e\]}})}));\["\_formSubmit ","\_isIssuingDisplayElement "\].forEach((function(e){Object.defineProperty(Fa.prototype,e,{enumerable:!1,writable:!1,value:function(){return Ua(this,e),this.\_implementation\[e\]()}})}));var Ya,za=Fa,Ha=function e(t,n,o,c,u){var p=this;Object(a.a)(this,e),this.getElement=de((function(e){var t,n=(null!=(t=e)&&t.\_\_elementType&&"string "==typeof t.\_\_elementType&&"function "==typeof t?t.\_\_elementType:null)||e;return bn(n,p.\_betas),Object(d.a)(p.\_elements,(function(e){return e.\_componentName===n}))||null})),this.update=de((function(e){var t=Q(function(e){var t={locale:A(B)};return pn(e,sn.payment_element_beta_2)?Z(Object(r.a)(Object(r.a)({},t),{},{appearance:A(G)})):Z(t)}(p.\_betas),e||{},"elements.update() "),n=t.value;t.warnings.forEach((function(e){return p.\_controller.warn(e)}));var a=n.locale,o=n.appearance,i=void 0===o?void 0:o,c=yn(a,p.\_betas);c&&p.\_controller.action.fetchLocale({locale:c}),(i||c)&&p.\_controller.action.updateElementsOptions({locale:c,appearance:i,groupId:p.\_id})})),this.create=me((function(e,t){var n=new qt.a;!function(e,t,n){if(bn(e,n),Yt\[e\].unique&&-1!==t.indexOf(e))throw new l.a("Can only create one Element of type ".concat(e,". "));var r=Yt\[e\].conflict,a=Object(d.e)(t,r);if(a.length){var o=a\[0\];throw new l.a("Cannot create an Element of type ".concat(e," after an Element of type ").concat(o," has already been created. "))}}(e,p.\_elements.map((function(e){return e.\_componentName})),p.\_betas);var a=Object(r.a)(Object(r.a)(Object(r.a)({},t),p.\_commonOptions),{},{componentName:e,groupId:p.\_id}),o=(a.paymentRequest,s(a,\["paymentRequest "\])),c=(Ne||Me)&&Object(ce.a)(o).length&gt;2e3,u=!!p.\_pendingFonts||c,m=new za(Object(r.a)(Object(r.a)({publicOptions:t},p.\_commonOptions),{},{elementsSessionPromise:p.\_elementsSessionPromise,componentName:e,groupId:p.\_id,fonts:c?null:p.\_commonOptions.fonts,controller:p.\_controller,wait:u}),p.\_listenerRegistry,Object(r.a)(Object(r.a)({},p.\_timings),{},{createTimestamp:n}));return p.\_elements=\[\].concat(Object(i.a)(p.\_elements),\[m\]),m.\_on("destroy ",(function(){p.\_elements=p.\_elements.filter((function(t){return t.\_componentName!==e}))})),c&&m.\_implementation.update({fonts:p.\_commonOptions.fonts}),m}));var m,f=new qt.a,\_=Q(function(e){var t={locale:A(B),fonts:A(W(G))};return pn(e,sn.payment_element_beta_2)?Z(Object(r.a)(Object(r.a)({},t),{},{appearance:A(G),clientSecret:A(ma)})):Z(t)}(c),u||{},"elements() "),h=\_.value;\_.warnings.forEach((function(e){return t.warn(e)})),m=t.warn,cn("width=device-width ")||m('Elements requires "width=device-width " be set in your page\\'s viewport meta tag.\\n For more information: https://stripe.com/docs/js/appendix/viewport\_meta\_requirements'),t.report("elements ",{options:h});var y=h.fonts,b=void 0===y?\[\]:y,v=h.locale,g=s(h,\["fonts ","locale "\]),E=h.appearance?h.appearance:{};this.\_elements=\[\],this.\_id=re("elements "),this.\_timings=Object(r.a)(Object(r.a)({},o),{},{groupCreateTimestamp:f}),this.\_controller=t,this.\_betas=c,this.\_listenerRegistry=n;var O=yn(v,c);this.\_controller.action.fetchLocale({locale:O||"auto "});var k=b.filter((function(e){return!e.cssSrc||"string "!=typeof e.cssSrc})).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{\_\_resolveFontRelativeTo:window.location.href})})),S=b.map((function(e){return e.cssSrc})).reduce((function(e,t){return"string "==typeof t?\[\].concat(Object(i.a)(e),\[t\]):e}),\[\]).map((function(e){return Object(w.b)(e)?e:Object(w.c)(window.location.href,e)}));return this.\_pendingFonts=S.length,this.\_elementsSessionPromise=g.clientSecret&&t.action.retrieveElementsSession({intentSecret:g.clientSecret,locale:v}),this.\_commonOptions=Object(r.a)(Object(r.a)({},g),{},{betas:c,appearance:E,locale:O,fonts:k}),S.forEach((function(e){if("string "==typeof e){var t=new qt.a;hn(e).then((function(n){p.\_controller.report("font.loaded ",{load_time:t.getElapsedTime(),font_count:n.length,css_src:e});var a=n.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{\_\_resolveFontRelativeTo:e})}));p.\_controller.action.updateCSSFonts({fonts:a,groupId:p.\_id}),p.\_commonOptions=Object(r.a)(Object(r.a)({},p.\_commonOptions),{},{fonts:\[\].concat(Object(i.a)(p.\_commonOptions.fonts?p.\_commonOptions.fonts:\[\]),Object(i.a)(a))})})).catch((function(n){p.\_controller.report("error.font.not_loaded ",{load_time:t.getElapsedTime(),message:n&&n.message&&n.message,css_src:e}),p.\_controller.warn("Failed to load CSS file at ".concat(e,". "))}))}})),this},Ga=function(e,t,n,r,a,o,i){return new Tr({controller:e,authentication:t,mids:n,rawOptions:r,betas:a,queryStrategyOverride:o,listenerRegistry:i})},Wa=Z({name:R("react-stripe-js ","stripe-js ","react-stripe-elements "),version:(Ya=B,function(e,t){return null===e?O(e):Ya(e,t)}),startTime:A(U)}),Ka=$({name:N(1,30),partner\_id:A(C("pp\_partner\_ ")),version:A(N(5,15)),url:A(N(4,60))}),Va="publishable ",Ja="secret ",$a="ephemeral ",Za="restricted ",Xa="unknown ",Qa=function(e){if(" "===e)throw new l.a("Please call Stripe() with your publishable key. You used an empty string. ");switch(function(e){switch(e.split("\_ ",1)\[0\]){case"pk ":return Va;case"sk ":return Ja;case"ek ":return $a;case"rk ":return Za;default:return Xa}}(e)){case Ja:throw new l.a("You should not use your secret key with Stripe.js.\\n Please pass a publishable key instead. ");case $a:throw new l.a("You should not use an ephemeral key with Stripe.js.\\n Please pass a publishable key instead. ");case Za:throw new l.a("You should not use a restricted key with Stripe.js.\\n Please pass a publishable key instead. ")}},eo=\["elements ","createToken ","createPaymentMethod "\],to=\["elements ","createSource ","createToken ","createPaymentMethod "\],no=function(){function e(t){var n=this;Object(a.a)(this,e),this.\_gets=\[\],this.\_didDetect=!1,this.\_onDetection=function(e){n.\_didDetect=!0,t(e)},window.Stripe&&window.Stripe.\_\_cachedInstances&&this.\_onDetection("react-stripe-elements ")}return Object(o.a)(e,\[{key:"got ",value:function(e){this.\_didDetect||("elements "===e?this.\_gets=\["elements "\]:this.\_gets.push(e),this.\_checkForWrapper())}},{key:"called ",value:function(e){this.\_didDetect||(this.\_gets=this.\_gets.filter((function(t){return t!==e})))}},{key:"\_checkForWrapper ",value:function(){Object(d.c)(this.\_gets,eo)?this.\_onDetection("react-stripe-js "):Object(d.c)(this.\_gets,to)&&this.\_onDetection("react-stripe-elements ")}}\]),e}(),ro=function(e){if(!e||"object "!=typeof e)return null;var t=e.type;return{type:"string "==typeof t?t:null,data:s(e,\["type "\])}},ao=function(e){switch(e.type){case"object ":return{source:e.object};case"error ":return{error:e.error};default:return Object(p.a)(e)}},oo={source:Z({id:C("src\_ "),client\_secret:C("src\_client\_secret\_ ")})},io=Z(oo),co=function(e){switch(e.type){case"object ":return{paymentMethod:e.object};case"error ":return{error:e.error};default:return Object(p.a)(e)}},so=function(e,t,n,r,a){if("string "==typeof n)return function(e,t,n,r,a){var o=na(r),i=ro(o?a:r),c=i||{type:null,data:{}},s=c.type,p=c.data;if(s&&n!==s)return u.a.reject(new l.a("The type supplied in payment\_method\_data is not consistent. "));if(o){var d=o.\_implementation.\_frame.id,m=o.\_componentName;return e.action.createPaymentMethodWithElement({frameId:d,elementName:m,type:n,paymentMethodData:p,mids:t}).then(co)}return i?e.action.createPaymentMethodWithData({elementName:null,type:n,paymentMethodData:p,mids:t}).then(co):u.a.reject(new l.a("Please provide either an Element or PaymentMethod creation parameters to createPaymentMethod. "))}(e,t,n,r,a);try{var o=(m=n,Q(ya(null),m,"createPaymentMethod ").value),i=o.element,c=o.type,s=o.data;if(i){var p=i.\_implementation.\_frame.id,d=i.\_componentName;return e.action.createPaymentMethodWithElement({frameId:p,elementName:d,type:c,paymentMethodData:s,mids:t}).then(co)}return e.action.createPaymentMethodWithData({elementName:null,type:c,paymentMethodData:s,mids:t}).then(co)}catch(e){return u.a.reject(e)}var m},uo=function(e){var t=e.split(/(?=\[A-Z\])/).join("- ").toLowerCase();return"https://stripe.com/docs/stripe-js/reference\#stripe- ".concat(t)},lo=function(e,t){return Q(fa,e,"stripe. ".concat(t," intent secret ")).value},po=function(e,t){return Q(\_a,e,"stripe. ".concat(t," intent secret ")).value},mo=function(e,t){return Q(ba,t,e).value},fo=function(e,t,n,r){if("valid "===X(ta,n,t).type)throw new l.a("Do not pass an Element to stripe. ".concat(t,"() directly.\\n ")+"For more information: ".concat(uo(t)));var a=Q(va(e,t),n,t).value,o=a.source,i=a.paymentMethodData,c=a.paymentMethodOptions,s=a.paymentMethod,u=a.otherParams;if(null!=o&&(null!=i||null!=s))throw new l.a(" ".concat(t,": Expected either source or payment\_method, but not both. "));if(i){if(i.element)return{mode:{tag:"paymentMethod-from-element ",type:e,elementName:i.element.\_componentName,frameId:i.element.\_implementation.\_frame.id,data:i.data,options:c,intentSecret:r},otherParams:u};if(e)return{mode:{tag:"paymentMethod-from-data ",type:e,data:i.data,options:c,intentSecret:r},otherParams:u}}else{if(s)return{mode:{tag:"paymentMethod ",paymentMethod:s,options:c,intentSecret:r},otherParams:u};if(o)return{mode:{tag:"source ",source:o,intentSecret:r},otherParams:u}}return{mode:{tag:"none ",intentSecret:r},otherParams:u}},\_o=function(e,t){var n=e.split("\# "),r=Object(Pt.a)(n,2),a=r\[0\],o=r\[1\],i=a.split("? "),c=Object(Pt.a)(i,2),s=c\[0\],u=c\[1\],l="? ",p="payment\_intent "===t.object?\["payment\_intent ","payment\_intent\_client\_secret ","redirect\_status "\]:\["setup\_intent ","setup\_intent\_client\_secret ","redirect\_status "\];(u||" ").split("& ").forEach((function(e,t){var n=e.split("="),r=Object(Pt.a)(n,1)\[0\];-1===p.indexOf(r)&&(l+=" ".concat("? "===l?" ":"& ").concat(e))}));var d="payment\_intent "===t.object?"payment ":"setup ";l+=" ".concat("? "===l?" ":"& ").concat(d,"\_intent=").concat(t.id),l+=" & ".concat(d,"\_intent\_client\_secret=").concat(t.client\_secret);var m=s+(l+=" &redirect\_status=succeeded ");return o?" ".concat(m,"\# ").concat(o):m},ho={type:"validation\_error ",code:"incomplete\_payment\_details "},yo={type:"validation\_error ",code:"unexpected "},bo=function(e,t){var n={skipFingerprint:!1,sandboxFingerprintFrame:!1,sandboxChallengeFrame:!1};return-1!==e.indexOf("Y ")&&(t.report("3ds2.optimization.Y "),n.skipFingerprint=!0),-1!==e.indexOf("k ")&&(t.report("3ds2.optimization.k "),n.sandboxFingerprintFrame=!0),-1!==e.indexOf("5 ")&&(t.report("3ds2.optimization.5 "),n.sandboxChallengeFrame=!0),n},vo=function(e){return{american\_express:"amex ",visa:"visa ",mastercard:"mastercard ",discover:"discover "}\[e\]||"unknown "},go=function(e,t,n){if(!e)return null;if("use\_stripe\_sdk "===e.type){var r=e.use\_stripe\_sdk;switch(r.type){case"intent\_confirmation\_challenge ":return{type:"captcha-challenge ",site\_key:r.stripe\_js.site\_key,verification\_url:r.stripe\_js.verification\_url};case"stripe\_3ds2\_fingerprint ":return{type:"3ds2-fingerprint ",threeDS2Source:r.three\_d\_secure\_2\_source,merchant:r.merchant,cardBrand:vo(r.directory\_server\_name),transactionId:r.server\_transaction\_id,optimizations:bo(r.three\_ds\_optimizations,n),methodUrl:r.three\_ds\_method\_url,oneClickAuthn:r.one\_click\_authn?{amount:r.one\_click\_authn.amount,credentials:r.one\_click\_authn.credentials,instrument:{cardBrand:r.one\_click\_authn.instrument.card\_brand,cardName:r.one\_click\_authn.instrument.card\_name,cardLast4:r.one\_click\_authn.instrument.card\_last4},authenticationChallenge:r.one\_click\_authn.authentication\_challenge}:null};case"stripe\_3ds2\_challenge ":return{type:"3ds2-challenge ",threeDS2Source:r.stripe\_js.three\_d\_secure\_2\_source,cardBrand:vo(r.stripe\_js.directory\_server\_name),transactionId:r.stripe\_js.server\_transaction\_id,optimizations:bo(r.stripe\_js.three\_ds\_optimizations,n),acsTransactionId:r.stripe\_js.acs\_transaction\_id,acsUrl:r.stripe\_js.acs\_url,creq:r.stripe\_js.creq};case"three\_d\_secure\_redirect ":return{type:"3ds1-modal ",url:r.stripe\_js,source:r.source}}}if("redirect\_to\_url "===e.type)return{type:"redirect ",redirectUrl:e.redirect\_to\_url.url};if("alipay\_handle\_redirect "===e.type)return{type:"redirect ",redirectUrl:e.alipay\_handle\_redirect.url};if("blik\_authorize "===e.type)return{type:"blik\_authorize "};if("boleto\_display\_details "===e.type)return{type:"boleto-display ",hostedVoucherUrl:e.boleto\_display\_details.hosted\_voucher\_url};if("display\_oxxo\_details "===e.type)return{type:"oxxo-display ",hostedVoucherUrl:e.display\_oxxo\_details.hosted\_voucher\_url};if("konbini\_display\_details "===e.type)return{type:"konbini-display ",hostedVoucherUrl:e.konbini\_display\_details.hosted\_voucher\_url};if("oxxo\_display\_details "===e.type)return{type:"oxxo-display ",hostedVoucherUrl:e.oxxo\_display\_details.hosted\_voucher\_url};if("authorize\_with\_url "===e.type){n.report("unexpected\_action\_type ",{action:"authorize\_with\_url "});var a=e.authorize\_with\_url.url;if(!t)return{type:"redirect ",redirectUrl:a};switch(t){case ra.card:return{type:"3ds1-modal ",url:a,source:null};case ra.ideal:return{type:"redirect ",redirectUrl:a}}}return"upi\_await\_notification "===e.type?{type:"upi\_await\_notification "}:"verify\_with\_linked\_account "===e.type?{type:"us\_bank\_account\_link "}:"link\_authenticate\_account "===e.type?{type:"link\_authenticate\_account "}:"wechat\_pay\_display\_qr\_code "===e.type?{type:"wechat\_pay\_display\_qr\_code ",qrCodeUrl:e.wechat\_pay\_display\_qr\_code.image\_data\_url}:"paynow\_display\_qr\_code "===e.type?{type:"paynow\_display\_qr\_code ",qrCodeUrl:e.paynow\_display\_qr\_code.image\_data\_url}:null},wo=function(e){switch(e.type){case"error ":return{error:e.error};case"object ":switch(e.object.object){case"payment\_intent ":return{paymentIntent:e.object};case"setup\_intent ":return{setupIntent:e.object};default:return Object(p.a)(e.object)}default:return Object(p.a)(e)}},Eo=function(e,t,n,r,a){return t===ee.g.PAYMENT\_INTENT?n.action.retrievePaymentIntent({hosted:false,intentSecret:e,locale:r,asErrorIfNotSucceeded:true,expandParam:a||\[\]}).then(wo):n.action.retrieveSetupIntent({hosted:false,intentSecret:e,locale:r,asErrorIfNotSucceeded:true,expandParam:a||\[\]}).then(wo)},Oo=function(e,t,n,r,a){return t===ee.g.PAYMENT\_INTENT?n.action.cancelPaymentIntentSource({intentSecret:e,locale:a,sourceId:r}).then(wo):n.action.cancelSetupIntentSource({intentSecret:e,locale:a,sourceId:r}).then(wo)},ko=function(e){return(e.error?e.error.payment\_intent||e.error.setup\_intent:e.paymentIntent||e.setupIntent)||null},So=function(e,t,n,a,o,i){var c=on(),s=new qt.a,l=function(e,t,n,a,o){return e.createLightboxFrame({type:ee.c.AUTHORIZE\_WITH\_URL,options:Object(r.a)({url:t,locale:o,intentId:n},a?{source:a}:{})})}(a,e.url,t.id,e.source,o);return l.show(),a.report("authorize\_with\_url.loading ",{viewport:c,intentId:t.id}),l.\_on("load ",(function(){a.report("authorize\_with\_url.loaded ",{loadDuration:s.getElapsedTime(),intentId:t.id}),l.fadeInBackdrop()})),l.\_on("challenge\_complete ",(function(){l.fadeOutBackdrop()})),new u.a((function(r,c){var p=e.source;p&&l.\_once("cancel ",(function(){u.a.all(\[Oo(t,n,a,p,o),l.destroy()\]).then((function(e){var t=Object(Pt.a)(e,1)\[0\];return r(t)}))})),l.\_once("authorize\_with\_url\_done ",(function(){var e=l.destroy();!function(e,t,n,r,a,o){var i,c=!0,s=3,u=0;(function l(){u+=1,Eo(e,t,n,r,a).then((function(e){if(c){var t=ko(e);if(null!==t)switch(s=3,t.status){case"requires\_action ":case"requires\_source\_action ":return void(i=setTimeout(l,5e3));case"processing ":return void(i=setTimeout(l,1e3));default:o(e,u)}else if(s&gt;0){var n=500\*Math.pow(2,3-s);i=setTimeout(l,n),s-=1}else o(e,u)}}))})()}(t,n,a,o,i,(function(n,o){e.then((function(){a.report("authorize\_with\_url.done ",{shownDuration:s.getElapsedTime(),success:!("error "in n),intentId:t.id,iterations:o}),r(n)}))}))}))}))},Po=function(e,t){var n=t.intentSecret,r=t.controller,a=t.locale,o=t.hosted,i=r.createLightboxFrame({type:ee.c.STRIPE\_3DS2\_CHALLENGE,options:{intentId:n.id,hosted:o,locale:a}});r.report("3ds2.challenge\_frame.loading ",{intentId:n.id,hosted:o}),i.\_on("challenge\_complete ",(function(){i.fadeOutBackdrop()}));var c=function(e){return new u.a((function(t){e.\_on("load ",(function(){return t(e)}))}))}(i);return c.then((function(){return r.report("3ds2.challenge\_frame.loaded ",{intentId:n.id,hosted:o})})),o&&(i.show(),i.action.show3DS2Spinner({cardBrand:e.cardBrand})),c},jo=function(e,t,n){var a=n.challengeFrame,o=t.controller,i=t.intentSecret,c=t.intentType,l=t.locale;return new u.a((function(t){a.then((function(n){n.\_once("cancel ",(function(){n.fadeOutBackdrop(),Oo(i,c,o,e.threeDS2Source,l).then(t)})),n.isVisible||(n.show(),n.fadeInBackdrop());e.type;var a=e.optimizations,u=s(e,\["type ","optimizations "\]);n.action.perform3DS2Challenge(Object(r.a)(Object(r.a)({},u),{},{shouldSandbox:a.sandboxChallengeFrame})).then((function(){return t()}))}))}))},Ao=function(e){if(!e||"object "!=typeof e||!e.type&&!e.code)return e;var t=function(t){return e\[t\]&&"string "==typeof e\[t\]?Object(c.a)({}," ".concat(t,"\_id "),e\[t\]):e\[t\]&&"object "==typeof e\[t\]&&"string "==typeof e\[t\].id?Object(c.a)({}," ".concat(t,"\_id "),e\[t\].id):null};return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({type:e.type,code:e.code,param:e.param},t("payment\_intent ")),t("setup\_intent ")),t("payment\_method ")),t("source "))},To=function(e,t,n){var a=t.existingPayload,o=t.challengeFrame,i=t.startTimestamp,c=e.intentSecret,s=e.intentType,l=e.controller,p=e.locale,d=e.hosted,m=a?u.a.resolve(a):Eo(c,s,l,p,n);return u.a.all(\[m,o.then((function(e){return e.destroy()}))\]).then((function(e){var t=Object(Pt.a)(e,1)\[0\];return l.report("3ds2.done ",Object(r.a)({intentId:c.id,hosted:d,totalDuration:i.getElapsedTime()},t.error?{error:Ao(t.error),success:!1}:{success:!0})),t}))},Io=function(e){var t=e.intentSecret,n=e.controller,r=e.hosted,a=e.locale,o=n.createHiddenFrame(ee.c.STRIPE\_3DS2\_FINGERPRINT,{intentId:t.id,locale:a,hosted:r});n.report("3ds2.fingerprint\_frame.loading ",{hosted:r,intentId:t.id});var i=function(e){return new u.a((function(t){e.\_on("load ",(function(){return t(e)}))}))}(o);return i.then((function(){n.report("3ds2.fingerprint\_frame.loaded ",{hosted:r,intentId:t.id})})),i},Co=function(e,t){var n=t.intentSecret,r=t.controller,a=t.hosted;return e.optimizations.skipFingerprint?u.a.resolve({fingerprintAttempted:!1,fingerprintData:null}):" "===e.methodUrl?(r.report("3ds2.fingerprint.no\_method\_url ",{hosted:a,intentId:n.id}),u.a.resolve({fingerprintAttempted:!1,fingerprintData:null})):Io(t).then((function(t){return t.action.perform3DS2Fingerprint({threeDS2Source:e.threeDS2Source,merchant:e.merchant,transactionId:e.transactionId,methodUrl:e.methodUrl,shouldSandbox:e.optimizations.sandboxFingerprintFrame}).then((function(e){return t.destroy(),e}))}))},No=function(){return void 0===window.PublicKeyCredential||function(){if(!/CrOS/i.test(window.navigator.userAgent))return!1;var e=window.navigator.userAgent.match(/Chrome\\/\\d+\\.\\d+\\.(\\d+)\\.(\\d+)/)||\[\],t=Number(e\[1\]),n=Number(e\[2\]);return!(4389===t&&n&gt;=82||4430===t&&n&gt;=11||t&gt;=4431)}()?u.a.resolve(!1):window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().catch((function(){return!1}))},Ro=function(){if(void 0===window.PaymentRequest)return u.a.resolve(!1);if(\["Chrome/91 ","Chrome/92 ","Chrome/93 "\].every((function(e){return-1===window.navigator.userAgent.indexOf(e)})))return u.a.resolve(!1);try{var e=\[{supportedMethods:"secure-payment-confirmation ",data:{action:"authenticate ",credentialIds:\[new Uint8Array(1)\],networkData:new Uint8Array(1),fallbackUrl:window.location}}\];return new window.PaymentRequest(e,{total:{label:"Total ",amount:{currency:"USD ",value:"0 "}}}).canMakePayment().catch((function(){return!1}))}catch(e){return u.a.resolve(!1)}},Mo="stripe-js-one-click-authn ",xo=function(e,t,n){var a=e.threeDS2Source,o=e.oneClickAuthn,i=t.controller,c=n.startTimestamp;if(!o)return u.a.resolve(null);var s=o.credentials.filter((function(e){return"spc "===e.type}));if(0===s.length)return i.report("one\_click\_authn.request\_spc\_authn.empty\_credentials\_list ",{client\_id:Mo,source:a}),u.a.resolve(null);try{var l=\[{supportedMethods:"secure-payment-confirmation ",data:{action:"authenticate ",credentialIds:s.map((function(e){return pa(e.id)})),networkData:pa(o.authenticationChallenge),timeout:6e4,fallbackUrl:window.location.toString()}}\],p={total:{label:"Total ",amount:o.amount}};return new window.PaymentRequest(l,p).show().then((function(e){e.complete("success "),i.report("one\_click\_authn.request\_spc\_authn.completed ",{client\_id:Mo,source:a,timeToComplete:c.getElapsedTime()});var t=function(e,t){try{return JSON.parse(t)}catch(t){return e.report("one\_click\_authn.request\_spc\_authn.error ",{reason:"decode\_challenge\_failed ",client\_id:Mo}),null}}(i,e.details.challenge);return null===t?u.a.resolve(null):{type:"spc ",assertion:{type:"public-key ",id:e.details.info.id,raw\_id:e.details.info.id,response:{authenticator\_data:da(e.details.info.authenticator\_data),client\_data\_json:da(e.details.info.client\_data\_json),signature:da(e.details.signature)}},payment\_data:{merchant\_data:{merchant\_origin:t.merchantData.merchantOrigin,total:t.merchantData.total},network\_data:t.networkData}}})).catch((function(e){var t;switch(e.name){case"AbortError ":t="request\_aborted ";break;case"InvalidStateError ":t="payment\_already\_shown ";break;case"NotSupportedError ":t="payment\_method\_not\_supported ";break;case"SecurityError ":t="security\_error ";break;default:t="unexpected\_error "}return i.report("one\_click\_authn.request\_spc\_authn.error ",{reason:t,client\_id:Mo,source:a,timeToError:c.getElapsedTime(),error:Object(r.a)({name:e.name,message:e.message},e)}),null}))}catch(e){i.report("one\_click\_authn.request\_spc\_authn.error ",{client\_id:Mo,reason:"unexpected\_error ",source:a,timeToError:c.getElapsedTime(),error:Object(r.a)({name:e.name,message:e.message},e)})}return u.a.resolve(null)},Lo=function(e,t,n){return u.a.all(\[Ro(),No()\]).then((function(e){var t=Object(Pt.a)(e,2);return{spcEligible:t\[0\],webauthnEligible:t\[1\]}})).then((function(r){return r.spcEligible?xo(e,t,n).then((function(e){return{deviceSupport:r,authenticationAPIParam:e}})):r.webauthnEligible?function(e,t,n){var r=t.controller,a=n.challengeFrame,o=n.startTimestamp,i=e.oneClickAuthn;return i?i.credentials.some((function(e){return"webauthn "===e.type}))?a.then((function(t){return t.isVisible||(t.show(),t.fadeInBackdrop()),t.action.performOneClickWebauthnAuthentication({threeDS2Source:e.threeDS2Source,cardBrand:e.cardBrand,requestData:i,startPosixTime:o.getAsPosixTime()})})):(r.report("one\_click\_authn.request\_webauthn\_authn.empty\_credentials\_list ",{client\_id:Mo,source:e.threeDS2Source}),u.a.resolve(null)):u.a.resolve(null)}(e,t,n).then((function(e){return{deviceSupport:r,authenticationAPIParam:e}})):{deviceSupport:r,authenticationAPIParam:null}}))},Do=function(e,t,n){var r=new qt.a,a=Po(e,t);switch(e.type){case"3ds2-challenge ":return jo(e,t,{challengeFrame:a}).then((function(e){return To(t,{existingPayload:e,challengeFrame:a,startTimestamp:r},n)}));case"3ds2-fingerprint ":return u.a.all(\[Co(e,t),Lo(e,t,{challengeFrame:a,startTimestamp:r})\]).then((function(n){var r=Object(Pt.a)(n,2),a=r\[0\],o=r\[1\];return function(e,t,n){var r=n.fingerprintResult,a=n.oneClickAuthn,o=t.controller,i=t.hosted,c=t.intentSecret;return o.report("3ds2.authenticate ",{hosted:i,intentId:c.id}),o.action.authenticate3DS2({threeDS2Source:e.threeDS2Source,outerWindowWidth:window.innerWidth,hosted:i,fingerprintResult:r,oneClickAuthnDeviceSupportAPIParam:{spc\_eligible:a.deviceSupport.spcEligible,webauthn\_eligible:a.deviceSupport.webauthnEligible},oneClickAuthnAuthenticationAPIParam:a.authenticationAPIParam}).then((function(e){return"error "===e.type?o.report("3ds2.authenticate.error ",{error:e.error,hosted:i,intentId:c.id}):o.report("3ds2.authenticate.success ",{hosted:i,intentId:c.id}),e}))}(e,t,{fingerprintResult:a,oneClickAuthn:o})})).then((function(n){return function(e,t,n){var r=n.authenticateResponse,a=n.challengeFrame,o=t.controller,i=t.hosted,c=t.intentSecret;if("error "===r.type)return u.a.resolve();var s=r.object,l=s.state,p=s.ares,d=s.creq;return"delegated "===l||null===p?u.a.resolve():"C "!==p.transStatus||null==d?(o.report("3ds2.frictionless ",{hosted:i,intentId:c.id}),u.a.resolve()):jo({type:"3ds2-challenge ",threeDS2Source:e.threeDS2Source,cardBrand:e.cardBrand,transactionId:e.transactionId,acsUrl:p.acsURL,acsTransactionId:p.acsTransID,optimizations:e.optimizations,creq:d},t,{challengeFrame:a})}(e,t,{authenticateResponse:n,challengeFrame:a})})).then((function(e){return To(t,{existingPayload:e,challengeFrame:a,startTimestamp:r},n)}));default:return Object(p.a)(e)}},Bo=function(e,t){var n=e.createLightboxFrame({type:ee.c.LIGHTBOX\_APP,options:t});return n.show(),n.\_on("nested-frame-loaded ",(function(){n.fadeInBackdrop(),setTimeout((function(){n.action.openLightboxFrame()}),200)})),n},qo=function(e){return e.action.closeLightboxFrame(),e.destroy()};var Fo=function(e){return e?"payment\_intent "===e.object?e.last\_payment\_error:e.last\_setup\_error:null},Uo=function(e,t,n,r){return new u.a((function(a,o){var i=n.createLightboxFrame({type:ee.c.HCAPTCHA\_APP,options:{intentId:t.id,clientSecret:t.client\_secret,locale:r,sitekey:e.site\_key,verifyUrl:e.verification\_url}}),c=function(e){var t=yo;return null!=e&&(t=e),n.action.localizeError(t).then((function(e){return{error:e}}))};n.report("intent\_confirmation\_challenge.start ");var s=new qt.a;i.\_on("load ",(function(){n.report("intent\_confirmation\_challenge.loaded ",{loadDuration:s.getElapsedTime()}),i.fadeInBackdrop()})),i.show(),i.\_on("request-cancel ",(function(e){i.fadeOutBackdrop(),i.destroy(!0),n.report("intent\_confirmation\_challenge.cancel "),a(c(Fo(null==e?void 0:e.intent)))})),i.\_on("request-close ",(function(e){i.fadeOutBackdrop(),i.destroy(!0);var t=null==e?void 0:e.intent;if(t){var r=Fo(t);r?/Captcha/.test(r.message||" ")?(n.report("intent\_confirmation\_challenge.verification\_failed "),a(c(r))):(n.report("intent\_confirmation\_challenge.success "),a(c(r))):(n.report("intent\_confirmation\_challenge.success "),function(e,t){"payment\_intent "===t.object?e({paymentIntent:t}):e({setupIntent:t})}(a,t))}else n.report("intent\_confirmation\_challenge.verification\_error "),a(c(yo))}))}))},Yo=function e(t){var n=arguments.length&gt;1&&void 0!==arguments\[1\]?arguments\[1\]:3,r=arguments.length&gt;2&&void 0!==arguments\[2\]?arguments\[2\]:250;return new u.a((function(a,o){t().then(a).catch((function(i){1===n?o(i):setTimeout((function(){e(t,n-1,r).then(a,o)}),r)}))}))},zo={type:"instant\_verification\_error ",code:"instant\_verification "},Ho=function(e){var t=e.controller,n=e.intentSecret,r=e.intentType,a=(e.locale,function(e){return t.action.localizeError(e).then((function(e){return u.a.resolve({error:e})}))}),o=function(e,t){switch(t){case"requires\_action ":return e;case"requires\_payment\_method ":return a(ho);default:return e}};return"PAYMENT\_INTENT "===r?function(e,t,n){return xa({linkAccountSessionCreatorClientSecret:e,linkAccountSessionCreatorType:"payment\_intent ",linkAccountSessionCreatorId:t,controller:n})}(n.clientSecret,n.id,t).then((function(e){return e.error?a(zo):Yo((function(){return t.action.refreshPaymentIntent({intentSecret:n}).then((function(e){if("error "===e.type&&429===e.error.status)return u.a.reject(new Error(e.error.message));var t=ia(e);return t.paymentIntent?o(t,t.paymentIntent.status):t}))}),5,500)})):function(e,t,n){return xa({linkAccountSessionCreatorClientSecret:e,linkAccountSessionCreatorType:"setup\_intent ",linkAccountSessionCreatorId:t,controller:n})}(n.clientSecret,n.id,t).then((function(e){return e.error?a(zo):Yo((function(){return t.action.refreshSetupIntent({intentSecret:n}).then((function(e){if("error "===e.type&&429===e.error.status)return u.a.reject(new Error(e.error.message));var t=ca(e);return t.setupIntent?o(t,t.setupIntent.status):t}))}),5,500)}))},Go=function(e){var t=e.controller,n=e.intentSecret,r=e.intentType,a=e.locale;return new u.a((function(e,o){setTimeout((function o(){Eo(n,r,t,a).then((function(n){var r,a=ko(n);null!==a?"requires\_action "!==a.status||"blik\_authorize "!==a.next\_action.type?e(n):setTimeout(o,5e3):e((r=yo,t.action.localizeError(r).then((function(e){return{error:e}}))))}))}),8e3)}))},Wo=function(e){switch(e.type){case"error ":var t=e.error;if("payment\_intent\_unexpected\_state "===t.code&&"object "==typeof t.payment\_intent&&null!=t.payment\_intent&&"string "==typeof t.payment\_intent.status&&ua(t.payment\_intent.status)){var n=t.payment\_intent;return{type:"object ",locale:e.locale,object:n}}return e;case"object ":return e;default:return Object(p.a)(e)}},Ko=function(e,t,n,r,a,o){var i=go(la(t),n,e),c=sa(t);if(!i)return u.a.resolve({paymentIntent:t});switch(i.type){case"captcha-challenge ":return Uo(i,t,e,r);case"3ds1-modal ":return So(i,c,ee.g.PAYMENT\_INTENT,e,r,o);case"3ds2-fingerprint ":case"3ds2-challenge ":return Do(i,{intentSecret:c,intentType:ee.g.PAYMENT\_INTENT,controller:e,locale:r,hosted:a},o);case"redirect ":return function(e,t,n){return Ta(t).then((function(t){return Ia(n,"next\_action redirect ",t),ia(t,e)}))}(t,i.redirectUrl,e);case"blik\_authorize ":return Go({controller:e,intentSecret:c,intentType:ee.g.PAYMENT\_INTENT,locale:r});case"boleto-display ":if(void 0===i.hostedVoucherUrl)throw new l.a("Expect \`next\_action.boleto\_display\_details.hosted\_voucher\_url\` of \`PaymentIntent\` to be not undefined. Please refer to \\n\\nhttps://stripe.com/docs/api/payment\_intents/object\#payment\_intent\_object-next\_action-boleto\_display\_details-hosted\_voucher\_url ");return function(e){var t=e.controller,n=e.url,r=e.intent,a=e.locale,o=Bo(t,{url:n,size:"600x700 ",locale:a,frameTitle:"boleto.voucher\_frame\_title ",useLightboxHostedCloseButton:!1});return new u.a((function(e){o.\_on("request-close ",(function(){qo(o).then((function(){e({paymentIntent:r})}))}))}))}({controller:e,locale:r,url:i.hostedVoucherUrl,intent:t});case"konbini-display ":if(void 0===i.hostedVoucherUrl)throw new l.a("Expected option \`handleActions\` to be \`false\`. The Konbini pilot does not handle the next actions for you automatically yet (e.g. displaying Konbini payment details). Please refer to the Stripe Konbini integration guide for more info: \\n\\nhttps://stripe.com/docs/payments/konbini ");return function(e){var t=e.controller,n=e.url,r=e.intent,a=e.locale,o=Bo(t,{url:n,size:"600x900 ",locale:a,frameTitle:"konbini.voucher\_frame\_title ",useLightboxHostedCloseButton:!1});return new u.a((function(e){o.\_on("request-close ",(function(){qo(o).then((function(){e({paymentIntent:r})}))}))}))}({controller:e,locale:r,url:i.hostedVoucherUrl,intent:t});case"oxxo-display ":if(void 0===i.hostedVoucherUrl)throw new l.a("To handle the next actions automatically, set the API version to oxxo\_beta=v2. Please refer to the Stripe OXXO integration guide for more info: \\n\\nhttps://stripe.com/docs/payments/oxxo ");return function(e){var t=e.controller,n=e.url,r=e.intent,a=e.locale,o=Bo(t,{url:n,size:"600x700 ",locale:a,frameTitle:"oxxo.voucher\_frame\_title ",useLightboxHostedCloseButton:!1});return new u.a((function(e){o.\_on("request-close ",(function(){qo(o).then((function(){e({paymentIntent:r})}))}))}))}({controller:e,locale:r,url:i.hostedVoucherUrl,intent:t});case"upi\_await\_notification ":return function(e){var t=e.controller,n=e.intentSecret,r=e.intentType,a=e.locale;return new u.a((function(e){setTimeout((function o(){Eo(n,r,t,a).then((function(t){var n=ko(t);if(null!==n)switch(n.status){case"requires\_action ":return void setTimeout(o,1e4);default:e(t)}}))}),5e3)}))}({controller:e,intentSecret:c,intentType:ee.g.PAYMENT\_INTENT,locale:r});case"us\_bank\_account\_link ":return Ho({controller:e,intentSecret:c,intentType:ee.g.PAYMENT\_INTENT,locale:r});case"link\_authenticate\_account ":return e.action.completeLinkPayment({intentSecret:t.client\_secret,intentId:t.id,expandParam:o}).then((function(e){return e?u.a.resolve(ia(e)):u.a.resolve({paymentIntent:t})}));case"wechat\_pay\_display\_qr\_code ":return function(e){var t=e.controller,n=e.intent,r=e.intentType,a=e.intentSecret,o=e.locale,i=la(n);if(!i||"wechat\_pay\_display\_qr\_code "!==i.type)throw new Error("Expected next\_action.wechat\_pay\_display\_qr\_code ");var c=t.createLightboxFrame({type:ee.c.WECHAT\_PAY\_INNER,options:{qrCodeImageDataUrl:i.wechat\_pay\_display\_qr\_code.image\_data\_url,qrCodeUrl:i.wechat\_pay\_display\_qr\_code.data,locale:o}}),s=null;return new u.a((function(e,i){c.\_on("load ",(function(){c.show(),c.fadeInBackdrop()})),c.\_once("request-close ",(function(){qo(c).then((function(){s&&clearTimeout(s),e({paymentIntent:n})}))})),c.\_on("complete ",(function(t){qo(c).then((function(){s&&clearTimeout(s),e(t)}))})),s=setTimeout((function n(){Eo(a,r,t,o).then((function(t){var r=ko(t);if(null!==r)switch(r.status){case"requires\_action ":return void(s=setTimeout(n,2e3));default:c.destroy(!0).then((function(){"payment\_intent "===r.object?e({paymentIntent:r}):e({setupIntent:r})}))}}))}),5e3)}))}({controller:e,locale:r,intent:t,intentSecret:c,intentType:ee.g.PAYMENT\_INTENT});case"paynow\_display\_qr\_code ":return function(e){var t=e.controller,n=e.intent,r=e.intentType,a=e.intentSecret,o=e.locale,i=la(n);if(!i||"paynow\_display\_qr\_code "!==i.type)throw new Error("Expected next\_action.paynow\_display\_qr\_code ");var c=t.createLightboxFrame({type:ee.c.PAYNOW\_INNER,options:{qrCodeImageDataUrl:i.paynow\_display\_qr\_code.image\_data\_url,qrCodeUrl:i.paynow\_display\_qr\_code.data,locale:o}}),s=null;return new u.a((function(e,i){c.\_on("load ",(function(){c.show(),c.fadeInBackdrop()})),c.\_once("request-close ",(function(){qo(c).then((function(){s&&clearTimeout(s),e({paymentIntent:n})}))})),c.\_on("complete ",(function(t){qo(c).then((function(){s&&clearTimeout(s),e(t)}))})),s=setTimeout((function n(){Eo(a,r,t,o).then((function(t){var r=ko(t);if(null!==r)switch(r.status){case"requires\_action ":return void(s=setTimeout(n,2e3));default:c.destroy(!0).then((function(){"payment\_intent "===r.object?e({paymentIntent:r}):e({setupIntent:r})}))}}))}),5e3)}))}({controller:e,locale:r,intent:t,intentSecret:c,intentType:ee.g.PAYMENT\_INTENT});default:return u.a.resolve({paymentIntent:t})}},Vo=function e(t,n,r,a,o,i){var c=arguments.length&gt;6&&void 0!==arguments\[6\]?arguments\[6\]:0;if(ee.i6&&void 0!==arguments\[6\]?arguments\[6\]:0;if(ee.i1)throw new l.a("stripe.redirectToCheckout: Do not provide other parameters when providing sessionId. Specify all parameters on your server when creating the CheckoutSession. ");if(!/^cs\_/.test(c))throw new l.a("stripe.redirectToCheckout: Invalid value for sessionId. You specified '".concat(c,"'. "));if("live "===n&&/^cs\_test\_/.test(c))throw new l.a("stripe.redirectToCheckout: the provided sessionId is for a test mode Checkout Session, whereas Stripe.js was initialized with a live mode publishable key. ");if("test "===n&&/^cs\_live\_/.test(c))throw new l.a("stripe.redirectToCheckout: the provided sessionId is for a live mode Checkout Session, whereas Stripe.js was initialized with a test mode publishable key. ");return{tag:"session ",sessionId:c}}o.sessionId,o.sku,o.plan;var u=o.items,p=o.lineItems,d=o.successUrl,m=o.cancelUrl,f=o.mode,\_=s(o,\["sessionId ","sku ","plan ","items ","lineItems ","successUrl ","cancelUrl ","mode "\]);if(!p&&!u)throw new l.a("stripe.redirectToCheckout: You must provide one of lineItems, items, or sessionId. ");if(!d||!m)throw new l.a("stripe.redirectToCheckout: You must provide successUrl and cancelUrl. ");return Object(r.a)({tag:"no-session ",items:u,lineItems:p,successUrl:d,cancelUrl:m,mode:f},\_)},qc=function(e,t,n){var r=Bc(e,t,n);if("no-session "===r.tag){var a=r.successUrl,o=r.cancelUrl;if(!Object(w.b)(a))throw new l.a("stripe.redirectToCheckout: successUrl must start with either http:// or https://. ");if(!Object(w.b)(o))throw new l.a("stripe.redirectToCheckout: cancelUrl must start with either http:// or https://. ");return r}return r},Fc=function(e,t){return"session "===t.tag||null==e||t.locale||-1===\["auto "\].concat(Object(i.a)(Rc)).indexOf(e)?t:Object(r.a)(Object(r.a)({},t),{},{locale:e})},Uc=function(e,t,n){var r=Object(d.a)(Tc,(function(t){return pn(e,t)}));if(t&&t.lineItems&&r)throw new l.a("Prices cannot be used with ".concat(r));if("string "==typeof t&&Lc.test(t))throw new l.a("stripe.redirectToCheckout: Checkout Session IDs must be passed in as an object with a key of \`sessionId\` and the Session ID as the value. ");switch(r){case"checkout\_beta\_2 ":return Dc(0,t);case"checkout\_beta\_3 ":return Bc(e,t,n);case"checkout\_beta\_4 ":default:return qc(e,t,n)}},Yc=function(e,t,n){var r=arguments.length&gt;3&&void 0!==arguments\[3\]?arguments\[3\]:"unknown ";return Fc(t,Uc(e,n,r))},zc=function(e,t){return Ta(t).then((function(t){return Ia(e,"redirectToCheckout ",t),{error:t.error}}))},Hc=function(e){switch(e.type){case"object ":return{token:e.object};case"error ":return{error:e.error};default:return Object(p.a)(e)}},Gc=function(e){return"object "==typeof e&&null!==e?e:{}},Wc=function(e){switch(e.type){case"object ":return{radarSession:e.object};case"error ":return{error:e.error};default:return Object(p.a)(e)}},Kc="securitypolicyviolation ",Vc=window,Jc=/^require-trusted-types-for/,$c="LOAD_ERROR ",Zc="REPORT_ONLY ",Xc="BLOCKED ",Qc=new qt.a,es=document?document.readyState:"unknown ",ts=!1;switch(es){case"loading ":ts=!0;break;case"interactive ":try{var ns=function(){ts=!0};setTimeout((function(){document.removeEventListener("DOMContentLoaded ",ns)}),0),document.addEventListener("DOMContentLoaded ",ns)}catch(e){}}var rs,as=!1,os=function e(t,a,o,i){if(!as||i){as=!0;var s=i||new qt.a;if("complete "===document.readyState){var l=null,p=null,d=null,m=null,f=null;if(window.performance){if(window.performance.timing){var \_=window.performance.timing,h=\_.fetchStart;l=\_.domLoading-h,p=\_.domInteractive-h,d=\_.domComplete-h,m=qt.a.fromPosixTime(h).getElapsedTime(Qc)}if(window.performance.getEntriesByType){var y=window.performance.getEntriesByType("resource "),b="https://js.stripe.com/v3/ ".replace(/\\/$/," ");f=y.reduce((function(e,t){if(0===t.name.indexOf(b)){var n=t.name.match(/\\/(\[^/\#?\]\*)\\/?(?:$|\[\#?\])/);if(n&&n\[1\]){var a=n\[1\].replace(/-\[0-9a-f\]{32}\\./,". ");return"v3 "===a&&(a="stripe.js "),Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},a,{transfer_size:t.transferSize,duration:Math.round(t.duration)}))}}return e}),{})}}t.report("timings ",{element:t.controllerFor(),dom_loading:l,dom_interactive:p,dom_complete:d,since_fetch:m,load_count:1,load_before_dom_content_loaded:ts,load_ready_state:es,first_create_ready_state:a,first_mount_readyState:o,until_first_create:Qc.getElapsedTime(t.\_createTimestamp),until_first_mount:t.\_mountTimestamp?Qc.getElapsedTime(t.\_mountTimestamp):null,until_first_load:Qc.getElapsedTime(s),resource_timings:f}),setTimeout((function(){new u.a((function(e){if(Vc.trustedTypes&&Vc.Promise){var t,r=!1,a=function(e){(Jc.test(e.effectiveDirective)||Jc.test(e.violatedDirective))&&(Object(Qe.b)(e.blockedURI)||Object(Qe.b)(e.sourceFile))&&(r=!0)},o=function(){return r?Xc:$c};Vc.addEventListener(Kc,a);try{t=n.e(5).then(n.bind(null,51)).then((function(e){return(e.loaded&&r?Zc:"ALLOWED ")||$c}),o)}catch(e){t=new u.a((function(e){return setTimeout(e,0)})).then(o)}t.then((function(){Vc.removeEventListener(Kc,a)})),e(t)}else e("NOT_SUPPORTED ")})).then((function(e){t.report("trusted_types_check ",{result:e}),function(e){switch(e){case Zc:case Xc:return!0}return!1}(e)&&t.warn("We noticed that you are using Trusted Types. Nothing has broken, but we plan to add dynamic loading to parts of Stripe.js. Please allow scripts from 'https://js.stripe.com' in your default Trusted Types policy. For more information: https://stripe.com/docs/security/guide\#content-security-policy ")}))}),5e3)}else window.addEventListener("load ",(function(){try{e(t,a,o,s)}catch(e){}}))}},is=Z({apiKey:B,stripeAccount:A(B),locale:A(B),apiVersion:A(B),\_\_privateApiUrl:A(B),\_\_checkout:A(Z({mids:Z({muid:B,sid:B})})),\_\_hosted3DS:A(F),canCreateRadarSession:A(F),betas:A(W(M.apply(void 0,Object(i.a)(ln))))}),cs=function(e){return"You have an in-flight ".concat(e,"! Please be sure to disable your form submit button when ").concat(e," is called. ")},ss=function(e){return function(){throw new l.a("You cannot call \`stripe. ".concat(e,"\` without supplying an appropriate beta flag when initializing Stripe.js. "))}},us=function(e){return function(){throw new l.a("You cannot call \`stripe. ".concat(e,"\` without supplying an Issuing beta flag when initializing Stripe.js. "))}},ls=function(){function e(t,n){var o=this;Object(a.a)(this,e),this.\_listenerRegistry=jt(),this.elements=de((function(e){return new Ha(o.\_controller,o.\_listenerRegistry,{stripeJsLoadTimestamp:Qc,stripeCreateTimestamp:o.\_controller.\_createTimestamp},o.\_betas,Object(r.a)(Object(r.a)({},o.\_locale?{locale:o.\_locale}:{}),e))}),void 0,"elements "),this.createToken=\_e((function(e,t){var n=o.\_mids();return"cvc_update "===e?function(e,t,n){var r=na(t);if(r&&"cardCvc "===r.\_componentName){var a=r.\_implementation.\_frame.id;return e.action.tokenizeCvcUpdate({frameId:a,mids:n}).then(Hc)}throw new l.a("You must provide a \`cardCvc\` Element to create a \`cvc_update\` token. ")}(o.\_controller,t,n):function(e,t){return function(n,r){var a=na(n);if(a){var o=a.\_implementation.\_frame.id,i=a.\_componentName,c=Gc(r);return e.action.tokenizeWithElement({frameId:o,elementName:i,tokenData:c,mids:t}).then(Hc)}if("string "==typeof n){var s=n,u=Gc(r);return e.action.tokenizeWithData({elementName:null,type:s,tokenData:u,mids:t}).then(Hc)}throw new l.a("You must provide a Stripe Element or a valid token type to create a Token. ")}}(o.\_controller,n)(e,t)}),void 0,"createToken "),this.createSource=\_e((function(e,t){var n=na(e),r=ro(n?t:e),a=r||{type:null,data:{}},i=a.type,c=a.data;if(n){var s=n.\_implementation.\_frame.id,p=n.\_componentName;return!r&&oa(p)?u.a.reject(new l.a("Please provide Source creation parameters to createSource. ")):o.\_controller.action.createSourceWithElement({frameId:s,elementName:p,type:i,sourceData:c,mids:o.\_mids()}).then(ao)}return r?i?o.\_controller.action.createSourceWithData({elementName:null,type:i,sourceData:c,mids:o.\_mids()}).then(ao):u.a.reject(new l.a("Please provide a source type to createSource. ")):u.a.reject(new l.a("Please provide either an Element or Source creation parameters to createSource. "))}),void 0,"createSource "),this.retrieveSource=fe((function(e){var t=Q(io,{source:e},"retrieveSource "),n=t.value;return t.warnings.forEach((function(e){return o.\_controller.warn(e)})),o.\_controller.action.retrieveSource(n).then(ao)}),void 0,"retrieveSource "),this.paymentRequest=me((function(e,t){!function(e){if(e===v.unknown)throw new l.a("It looks like you 're using an older Stripe key. In order to use this API, you'll need to use a modern API key, which is prefixed with 'pk_live\_' or 'pk_test\_'.\\n You can roll your publishable key here: https://dashboard.stripe.com/account/apikeys ")}(o.\_keyMode);var n=o.\_isCheckout&&t?t:null;return Ga(o.\_controller,{apiKey:o.\_apiKey,accountId:o.\_stripeAccount},o.\_mids(),e,o.\_betas,n,o.\_listenerRegistry)}),void 0,"paymentRequest ");var i=new qt.a,c=Q(is,t||{},"Stripe() "),s=c.value,p=c.warnings,d=s.apiKey,m=s.stripeAccount,f=s.apiVersion,\_=s.locale,h=s.\_\_privateApiUrl,y=s.\_\_checkout,b=s.\_\_hosted3DS,w=s.canCreateRadarSession,E=s.betas;Qa(d),(null==y?void 0:y.mids)&&(e.\_ec=Lt({checkoutIds:y.mids})),this.\_apiKey=d.trim(),this.\_keyMode=g(this.\_apiKey),this.\_betas=E||\[\],this.\_locale=yn(\_,this.\_betas)||null,this.\_stripeAccount=m||null,this.\_isCheckout=!!y,this.\_attachControllerGetter(f,h,m,i),p.forEach((function(e){return o.\_controller.warn(e)})),Ut(),this.\_ensureHTTPS(),this.\_ensureStripeHosted(n),this.\_attachPaymentIntentMethods(this.\_betas,!!b),this.\_attachLegacyPaymentIntentMethods(this.\_betas),this.\_attachCheckoutMethods(this.\_betas),this.\_attachPrivateMethodsForCheckout(this.\_isCheckout),this.\_attachCreateRadarSession(w||!1),this.\_attachGetters(),this.\_attachIssuingCardMethods(this.\_betas),this.\_attachIdentityMethods(this.\_betas),this.\_attachLinkedAccounts(this.\_betas),this.\_attachAppInfo()}return Object(o.a)(e,\[{key:"\_attachCreateRadarSession ",value:function(e){var t,n,r,a=this;e&&(this.createRadarSession=(t=function(){return a.\_midsPromise().then((function(e){return t=a.\_controller,n=e,t.action.createRadarSession({mids:n}).then(Wc);var t,n}))},function(){var e=this;try{return t.call(this).catch((function(t){return pe(t,n||e&&e.\_controller,!0,r)}))}catch(e){return pe(e,n||this&&this.\_controller,!1,r)}}))}},{key:"\_attachPaymentIntentMethods ",value:function(e,t){var n,r,a,o=this,i=function(){return o.\_mids()};this.createPaymentMethod=(n=function(){for(var e=arguments.length,t=new Array(e),n=0;n
