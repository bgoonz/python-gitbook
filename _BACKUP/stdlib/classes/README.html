<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="classes">Classes</h1>
    <p>
      As an object-oriented programming language, Python supports a full range
      of features, such as inheritance, polymorphism, and encapsulation. Getting
      things done in Python often requires writing new classes and defining how
      they interact through their interfaces and hierarchies.
    </p>
    <p>
      Python’s classes and inheritance make it easy to express a program’s
      intended behaviors with objects. They allow you to improve and expand
      functionality over time. They provide flexibility in an environment of
      changing requirements. Knowing how to use them well enables you to write
      maintainable code.
    </p>
    <h3
      id="item-37-compose-classes-instead-of-nesting-many-levels-of-built-in-types"
    >
      Item 37: Compose Classes Instead of Nesting Many Levels of Built-in Types
    </h3>
    <p>
      Python’s built-in dictionary type is wonderful for maintaining dynamic
      internal state over the lifetime of an object. By dynamic, I mean
      situations in which you need to do bookkeeping for an unexpected set of
      identifiers. For example, say that I want to record the grades of a set of
      students whose names aren’t known in advance. I can define a class to
      store the names in a dictionary instead of using a predefined attribute
      for each student:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">class</span> SimpleGradebook:</a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb1-3" title="3">        <span class="va">self</span>._grades <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="kw">def</span> add_student(<span class="va">self</span>, name):</a>
<a class="sourceLine" id="cb1-5" title="5">        <span class="va">self</span>._grades[name] <span class="op">=</span> []</a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="kw">def</span> report_grade(<span class="va">self</span>, name, score):</a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="va">self</span>._grades[name].append(score)</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">   <span class="kw">def</span> average_grade(<span class="va">self</span>, name):</a>
<a class="sourceLine" id="cb1-10" title="10">        grades <span class="op">=</span> <span class="va">self</span>._grades[name]</a>
<a class="sourceLine" id="cb1-11" title="11">        <span class="cf">return</span> <span class="bu">sum</span>(grades) <span class="op">/</span> <span class="bu">len</span>(grades)</a></code></pre>
    </div>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1">book <span class="op">=</span> SimpleGradebook()</a>
<a class="sourceLine" id="cb2-2" title="2">book.add_student(<span class="st">&#39;Isaac Newton&#39;</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">book.report_grade(<span class="st">&#39;Isaac Newton&#39;</span>, <span class="dv">90</span>)</a>
<a class="sourceLine" id="cb2-4" title="4">book.report_grade(<span class="st">&#39;Isaac Newton&#39;</span>, <span class="dv">95</span>)</a>
<a class="sourceLine" id="cb2-5" title="5">book.report_grade(<span class="st">&#39;Isaac Newton&#39;</span>, <span class="dv">85</span>)</a>
<a class="sourceLine" id="cb2-6" title="6"><span class="bu">print</span>(book.average_grade(<span class="st">&#39;Isaac Newton&#39;</span>))</a>
<a class="sourceLine" id="cb2-7" title="7"><span class="op">&gt;&gt;&gt;</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="fl">90.0</span></a></code></pre>
    </div>
    <p>
      Dictionaries and their related built-in types are so easy to use that
      there’s a danger of overextending them to write brittle code. For example,
      say that I want to extend the SimpleGradebook class to keep a list of
      grades by subject, not just overall. I can do this by changing the
      <code>_grades</code> dictionary to map student names (its keys) to yet
      another dictionary (its values). The innermost dictionary will map
      subjects (its keys) to a list of grades (its values). Here, I do this by
      using a <code>defaultdict</code> instance for the inner dictionary to
      handle missing subjects (see Item 17: “Prefer defaultdict Over setdefault
      to Handle Miss ing Items in Internal State” for background):
    </p>
  </body>
</html>
